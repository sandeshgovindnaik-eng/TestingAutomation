"use strict";(self.webpackChunkasset_detail=self.webpackChunkasset_detail||[]).push([[2872],{64405:function(e,t,a){a.r(t),a.d(t,{MOSAIC_GRID_TYPES:function(){return P},default:function(){return R}});var s=a(70277),i=a.n(s),n=a(82575),o=(a(54824),a(3271)),r=a(9975),l=a(32485),c=a.n(l),d=a(2896);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},u.apply(null,arguments)}var _=({styles:e={},...t})=>i().createElement("svg",u({width:"63",height:"52",viewBox:"0 0 63 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{fill:"#201D21",fillOpacity:".36",d:"M12 7h36v30H12z"}),i().createElement("g",{filter:"url(#a)"},i().createElement("path",{d:"M36.91 27.7a.6.6 0 00.56-.383l2.744-7.059a.6.6 0 00-.84-.747l-5.207 2.769a.6.6 0 01-.776-.19l-3.496-5.073a.6.6 0 00-.989 0L25.41 22.09a.6.6 0 01-.776.19l-5.208-2.769a.6.6 0 00-.84.747l2.745 7.06a.6.6 0 00.56.382z",fill:"#fff"})),i().createElement("defs",null,i().createElement("filter",{id:"a",x:".543",y:".757",width:"61.714",height:"50.943",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i().createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i().createElement("feOffset",{dx:"2",dy:"4"}),i().createElement("feGaussianBlur",{stdDeviation:"10"}),i().createElement("feComposite",{in2:"hardAlpha",operator:"out"}),i().createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),i().createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_336_8831"}),i().createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_336_8831",result:"shape"})))),p={container:"IfNUoi1DyDWGmdbXRgZm",containerImage:"DpVIrOO4Yqz_HBC5UNHf",header:"h4wlcZGn3O5A4rIqlAJe",containerFilm:"Zo7m5e3jFTjSKvpliRWl",headerName:"QB39eWdEpU6I7v27BW69",headerImage:"LBRT6U8EOhecjlyuNzfR",headerFilm:"yDCnH0Yl_6gkTtAe3uR6",grid:"QJDupmf1Svyiue0yj8M7",gridRow:"VGEZ52IewgyGk33BvSdm",buttonContainer:"zP1nRL8t9978CbJEAduR"},m=a(15834);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},h.apply(null,arguments)}var g=({styles:e={},...t})=>i().createElement("svg",h({width:"23",height:"17",viewBox:"0 0 23 7",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("g",{fill:"none",fillRule:"evenodd"},i().createElement("path",{d:"M-1-1h24v9H-1z"}),i().createElement("path",{d:"M9.813 0v4.4h1.3v1.2h-1.3v.9h-2.6v-1h-6.5c-1.1 0-.6-1.1-.6-1.1s5.9-4.3 6.1-4.4h3.6zm-2.6 1.5l-3.8 2.6h3.8V1.5zm4.3-1.5v6.5h2.7V3.8l4.3 2.7h3.6l-5.7-3.5 5.3-3h-3.4l-4.1 2.4V0h-2.7z",fill:"#FFF",fillRule:"nonzero"})));function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},f.apply(null,arguments)}var w=({styles:e={},...t})=>i().createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:"17.103",height:"11.732",viewBox:"0 0 17.103 11.732"},t),i().createElement("path",{className:e.st0||"st0",d:"M17.103.816l-5.371 3.1V0H0v11.732h11.732V7.815l5.37 3.1z"})),v=a(16006),C="UdczENLjkNFX8Ev7qdDw",x="mQLvZpk9FuCZzWcbZkvA",A="mBs757wYAfUEVAgcLcaf",b=a(74848);var T=({src:e=null,poster:t=null,filmDefinition:a=null,alt:i})=>{const n=(0,s.useRef)(),[o,r]=(0,v.A)(n);return(0,b.jsxs)("div",{ref:n,className:C,"data-testid":"mosaic-grid-video-asset",children:[(0,b.jsx)("img",{src:t,alt:i,loading:"lazy"}),o&&(0,b.jsx)("video",{loop:!0,muted:!0,preload:"none",ref:r,src:e,poster:t,onFocus:e=>e.target.play(),onBlur:e=>e.target.pause()}),"4K"===a?(0,b.jsx)(g,{"aria-label":"video4k",className:A}):(0,b.jsx)(w,{"aria-label":"video",className:x})]})},E="TAF6TGMGdIu9t6KfcMgA",S="y7LzCwfJsYXElRljQl88";var y=(0,o.A)(({asset:e,href:t,trackOnClick:a,overlay:s=null,icon:i})=>{const n=(()=>{const t=e.maxWidth?e.maxWidth:0,a=e.maxHeight?e.maxHeight:0,s="film"===e.assetType?640:612,i=Math.min(s/t,s/a);return{width:Math.floor(t*i),height:Math.floor(a*i)}})(),o="image"===e.assetType?E:S,r=(0,m.A)();return(0,b.jsxs)("a",{"data-testid":"mosaic-grid-asset",className:o,href:t,onClick:()=>a(r),style:{"--width":n.width,"--height":n.height},"data-max-width":n.width,"data-max-height":n.height,children:[i,s,"image"===e.assetType&&(0,b.jsx)("img",{src:e.thumb612Url,alt:e.title}),"film"===e.assetType&&(0,b.jsx)(T,{src:e.filmThumbUrl,poster:e.thumbUrl,filmDefinition:e.filmDefinition,alt:e.title})]},e.assetId)},"thumbnail"),N="ZQ0w0RWgU8HpxdFyDeLo",I="VwNj3iKCLU8jQbxff08E",j="xYnOErcLxtGDi8YZZxGm",D="nLBut5yWNQ8XgZXYhCIO";var O=({count:e,text:t})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:N,"data-testid":"mosaic-grid-overlay"}),(0,b.jsxs)("div",{className:I,children:[(0,b.jsxs)("div",{className:j,children:["+",e]}),(0,b.jsx)("div",{className:D,children:t})]})]});const P={SINGLE_ROW:"single-row",MULTI_ROW:"multi-row"};var R=(0,o.A)(({data:e=null,isImage:t=!1,header:a,linkText:s,viewAllUrl:i,overlayText:o,tracking:l,inGridCount:u,gridType:m=P.MULTI_ROW,searchScope:h=null})=>{const g=(0,n.F)(),f=e.totalNumberOfResults-u+1,w=e=>h?g.prefixedPath((e=>r.A.appendQueryParamsToString(e,{searchscope:h}))(e)):g.prefixedPath(e),v=(0,d.d4)(e=>e.buyCardData.basicSelfServeUpgrade?.basicToPremUpsellTestEligible),C=(e,t)=>!t&&e.isSignatureImage&&v;return(0,b.jsxs)("section",{className:c()(p.container,{[p.containerImage]:t,[p.containerFilm]:!t}),"data-testid":"mosaic-grid-assets",children:[(0,b.jsxs)("div",{className:p.header,children:[(0,b.jsx)("h2",{"data-testid":"mosaic-grid-header",className:p.headerName,children:a}),m===P.SINGLE_ROW?null:(0,b.jsxs)("a",{href:i,onClick:l.trackViewAll,children:[s,">"]})]}),(0,b.jsx)("div",{className:m===P.SINGLE_ROW?p.gridRow:p.grid,children:e.assets.map((t,a)=>{const s=(t=>{const a=e.assets.length-1,s=e.totalNumberOfResults>u;return t===a&&s})(a);return(0,b.jsx)(y,{asset:t,href:s?i:w(t.landingUrl),icon:C(t,s)&&(0,b.jsx)(_,{"data-testid":"mosaic-crown-icon",className:p.crownIcon}),trackOnClick:e=>s?l.trackViewAllOverlay():l.trackAssetClick(t,a+1,e),overlay:s?(0,b.jsx)(O,{count:f,text:o}):null},t.id)})})]})},"mosaic_grid")},85894:function(e,t,a){a.r(t),a.d(t,{default:function(){return ah}});var s=a(70277),i=a.n(s),n=a(31876),o=a(43633),r=a(2896),l=a(91829),c=a(1265),d=a(59390),u=a(84986),_=a(71926),p=a(90727);var m={INITIALIZE:"INITIALIZE",SET_AVAILABLE_CREDITS:"SET_AVAILABLE_CREDITS",SET_AGREEMENTS:"SET_AGREEMENTS",LOAD_SUBSCRIPTION:"LOAD_SUBSCRIPTION",SELECT_AGREEMENT_TYPE:"SELECT_AGREEMENT_TYPE",SET_SELECTED_ACCOUNT:"SET_SELECTED_ACCOUNT",SET_DISPLAY_ERROR:"SET_DISPLAY_ERROR",SET_LICENSES:"SET_LICENSES",SET_TOASTER:"SET_TOASTER",SET_BUY_AND_BURN_DOWNLOAD:"SET_BUY_AND_BURN_DOWNLOAD",CHECK_LICENSE:"CHECK_LICENSE",SELECT_ASSET_SIZE:"SELECT_ASSET_SIZE",SET_CTA_IN_PROGRESS:"SET_CTA_IN_PROGRESS",SELECT_PRICING_CLARITY_OPTION_TOGGLE:"SELECT_PRICING_CLARITY_OPTION_TOGGLE",SET_APPLE_PAY_PRODUCT_ELIGIBILITY:"SET_APPLE_PAY_PRODUCT_ELIGIBILITY",GO_TO_BEGINNING:"GO_TO_BEGINNING",CANCEL_AND_BACK_TO_BEGINING:"CANCEL_AND_BACK_TO_BEGINING",GO_TO_FREE_ADMIN_DOWNLOAD:"GO_TO_FREE_ADMIN_DOWNLOAD",GO_TO_CONFIRM_DOWNLOAD:"GO_TO_CONFIRM_DOWNLOAD",GO_TO_COMPLETE_DOWNLOAD:"GO_TO_COMPLETE_DOWNLOAD",GO_TO_COMPLETE_REDOWNLOAD:"GO_TO_COMPLETE_REDOWNLOAD",GO_TO_NEXT_STEP:"GO_TO_NEXT_STEP",FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED:"FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED",SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD:"SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD",POST_ASSET_TO_CREATE_DOWNLOAD:"POST_ASSET_TO_CREATE_DOWNLOAD",REDIRECT_TO_URL:"REDIRECT_TO_URL",SET_DOWNLOAD_DATA:"SET_DOWNLOAD_DATA",SELECT_ACCOUNT_STEP:"SELECT_ACCOUNT_STEP",CONFIRM_DOWNLOAD_STEP:"CONFIRM_DOWNLOAD_STEP",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP",SET_SPECTRUM_DOWNLOADED_ASSET_ID:"SET_SPECTRUM_DOWNLOADED_ASSET_ID",SHOW_POST_DOWNLOAD_ONBOARDING:"SHOW_POST_DOWNLOAD_ONBOARDING",HIDE_POST_DOWNLOAD_ONBOARDING:"HIDE_POST_DOWNLOAD_ONBOARDING",SET_APPLE_PAY_DEFAULT_PAYMENT:"SET_APPLE_PAY_DEFAULT_PAYMENT"};const h=Object.freeze({CREATE_DOWNLOAD:"createDownload",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"goToInitiateDownloadAndSelectLicensesStep",HANDLE_ACCOUNT_SELECTION:"handleAccountSelection",INITIATE_DOWNLOAD:"initiateDownload",REDIRECT_TO_CHECKOUT:"redirectToCheckout",REDIRECT_TO_CREDITPACKS:"redirectToCreditPacks",REDIRECT_TO_FAST_CHECKOUT:"redirectToFastCheckout",REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:"redirectToFastCheckoutWithAnnualPack",REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:"redirectToFastCheckoutWithSubscription",REDIRECT_TO_PRICING:"redirectToPricing"}),g=Object.freeze({REDIRECT_TO_CHECKOUT:"redirectToCheckout",REDIRECT_TO_FAST_CHECKOUT:"redirectToFastCheckout",REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:"redirectToFastCheckoutWithAnnualPack",REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:"redirectToFastCheckoutWithSubscription"}),f=Object.freeze({FULL_WIDTH_SUPER_CTA:"super-cta super-cta--full-width",HOLLOW_CTA:"hollow-cta",PRIMARY_CTA:"primary-cta",SUPER_CTA:"super-cta"}),w=Object.freeze({BUY_CREDITS:"buy_credits",CHOOSE_ACCOUNT:"choose_account",CONFIRM_DOWNLOAD:"confirm_download",CONTINUE_TO_CHECKOUT:"continue_to_checkout",DOWNLOAD_FOR_FREE:"download_for_free",DOWNLOAD_METHOD:"download_method",DOWNLOAD_THIS_IMAGE:"download_this_image",DOWNLOAD_THIS_VIDEO:"download_this_video_clip",DOWNLOAD_THIS_VIDEO_TEMPLATE:"download_this_video_template",FREE_DOWNLOAD:"free_download_cta",REDOWNLOAD_FOR_FREE:"re-download_for_free"}),v=e=>{const{ctaAction:t,name:a}=e.calc?.step||{},{freeFile:s}=e.asset,i=((e,t,a)=>e||a===h.CREATE_DOWNLOAD?"no_checkout_option":t?`no_checkout_option_${t}`:"no_checkout_option_pnp_redirect")(s,p.R_.includes(a)?(0,p.LW)(e):null,t),n=(0,d.A)({cta_selection:s?"start_free_download":"start_paid_download",cta_text:"download_this_image",cta_url:void 0,download_flow:i,ui_element_location:"adp_buy_card"});(0,u.C)(n)};var C=e=>t=>a=>{const s=e.getState(),i=t(a),n=e.getState();switch(a.type){case m.REDIRECT_TO_URL:n.calc?.step?.ctaAction===h.INITIATE_DOWNLOAD&&v(n);break;case m.GO_TO_NEXT_STEP:{const{step:{warningBox:e,name:t}={}}=n.calc||{};if(t===s.calc?.step?.name)break;s.calc?.step?.ctaAction===h.INITIATE_DOWNLOAD&&v(n),e&&p.R_.includes(t)&&(e=>{const t=(0,p.LW)(e),a=(0,_.A)({error_message_selection:"download_error",error_message_name:t,ui_element_location:"buy_card"});(0,u.C)(a)})(n);break}}return i};const x=[c.A,C];"undefined"!=typeof window&&window.reduxLogger&&x.push(window.reduxLogger.createLogger({diff:!0,duration:!0,collapsed:!0,stateTransformer(e){return e.toJS?e.toJS():e}}));const A="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.Zz;var b=(e,t={})=>(0,l.y$)(e,t,A((0,l.Tw)(...x))),T=a(48572),E=a.n(T),S=a(9404),y=a.n(S);const N={Small:"small_file_size",Medium:"medium_file_size",Large:"large_file_size",Xlarge:"xlarge_file_size",Xxlarge:"xxlarge_file_size",eps:"EPS",epsUnavailable:"EPS"};let I=null,j=!1;const D=function(e,t,a){if("film"===t||"videotemplate"===t)return e;const s=[...e];return"illustration"!==a||j||s.push({name:"epsUnavailable",teeShirtSize:"epsUnavailable",description:"eps_not_available",epsUnavailable:!0}),s};var O={formatAsset:function(e){return"film"!==e.assetType&&function(e){if(I=e.findIndex(e=>"eps"===e.name),j=I>=0,!j)return;const t=e[I];t.teeShirtSize=t.name,t.isEps=!0}(e.imageSizes),{actualMaxDimensions:e.actualMaxDimensions,agreements:e.agreements,allowedUseCodeKey:e.allowedUseCodeKey,artist:e.artist,assetDimensions:e.assetDimensions,assetFamily:e.family,assetId:e.id,assetQuality:e.quality,assetType:e.assetType,category:e.category,clipLength:e.clipLength,contributor:e.contributor,dateSubmittedVideo:e.dateSubmittedVideo,dateSubmittedVideoFormatted:e.dateSubmittedVideoFormatted,dateSubmitted:e.dateSubmitted,dateSubmittedFormatted:e.dateSubmittedFormatted,defaultMainImageURL:e.defaultMainImageURL,defaultMainWebPURL:e.defaultMainWebPURL,epsFileSizeIndex:I,exclusiveContent:e.exclusiveContent,experiences:e.experiences,filmDefinition:e.filmDefinition,filmCompUrl:e.filmCompUrl,downloadableFilmCompUrl:e.downloadableFilmCompUrl,filmPreviewDimensions:e.filmPreviewDimensions,freeFile:e.isFreeFile,galleryComp1024Url:e.galleryComp1024Url,galleryHighResCompUrl:e.galleryHighResCompUrl,hasEpsFileSize:j,id:e.id,includedWithSubscription:(null!=e.agreements?e.agreements.indexOf("RF"):void 0)>=0,is360Image:e.is360Image,isEditorialUseOnly:e.isEditorialUseOnly,isEssentialImage:e.isEssentialImage,isSignatureImage:e.isSignatureImage,isFilm:e.isFilm,isHidden:e.isHidden,isIllustration:e.isIllustration,isImage:e.isImage,isIstockExclusive:e.isIstockExclusive,isVector:e.isVector,isVideoTemplate:e.isVideoTemplate,istockCollection:e.istockCollection,keywords:e.keywords,largeMainImageURL:e.largeMainImageURL,largeMainWebPURL:e.largeMainWebPURL,licenseType:e.licenseType,localizedCaption:e.localizedCaption,location:e.location,mainImageUrl:e.mainImageUrl,mainWebPUrl:e.mainWebPUrl,mediaType:e.mediaType,orderId:e.orderId,orientation:e.orientation,pluginName:e.pluginName,ratio:e.ratio,showCreditExpiryDisclaimer:e.showCreditExpiryDisclaimer,sizes:D(e.imageSizes,e.assetType,e.mediaType),stackId:e.stackId,standardLicense:e.standardLicense,thumb612Url:e.thumb612Url,thumbUrl:e.thumbUrl,title:e.title,videoTemplateApp:e.videoTemplateApp,videoTemplateAppVersion:e.videoTemplateAppVersion,videoTemplateDimensions:e.videoTemplateDimensions,videoTemplatePreviewUrl:e.videoTemplatePreviewUrl,videoTemplatePreviewDimensions:e.videoTemplatePreviewDimensions,zoomedImageUrl:e.zoomedImageUrl,zoomedWebPUrl:e.zoomedWebPUrl}},getSizeMap:()=>N,getPreferredSize:e=>e.istock_user_preferred_download_size,getVideoPreferredSize:e=>({name:e.istock_user_preferred_video_download_size_name,definition:e.istock_user_preferred_video_download_size_definition}),getEpsPreferredSize:e=>e.istock_user_preferred_eps_download_size,setPreferredSize:function(e){let t="istock_user_preferred_download_size";"eps"===e&&(t="istock_user_preferred_eps_download_size"),E().post("/detail/preferences",{asset_detail_preferences:{[t]:e}})},setPreferredVideoSize:function(e,t){E().post("/detail/preferences",{asset_detail_preferences:{istock_user_preferred_video_download_size_name:e,istock_user_preferred_video_download_size_definition:t}})}};const P="signature",R="essentials",k=e=>{if(e)return e.match(/premium|signature/i)};var L={SIGNATURE:P,ESSENTIALS:R,isPPV:e=>!!e&&/video/i.test(e),isSignature:k,isEssentials:e=>!!(e?e.match(/essentials/i):void 0),getAssetCollectionName(e){return k(e.istockCollection)?P:R}};let F={subsInfo:{}};var U=function(e={}){const t=e.name||"";return F.subsInfo={isPPV:L.isPPV(t),isSignature:L.isSignature(t),isEssentials:L.isEssentials(t),downloadedCount:e.download_count||0,downloadLimit:e.download_limit||0,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0},F.subsInfo.downloadsRemaining=F.subsInfo.downloadLimit-F.subsInfo.downloadedCount},B=function(e){window.tracking_data.has_purchased=e.has_purchase_history,window.tracking_data.has_credits=e.has_credits,window.tracking_data.has_subscription=e.has_subscription,window.tracking_data.has_subs_downloads=e.subsInfo.downloadsRemaining>0,window.tracking_data.remembered=e.remembered,window.tracking_data.authenticated=e.authenticated};var M={formatUser:function(e={}){return F=e,F.credit_amount=F.credit_amount||0,F.authenticated=F.authenticated||!1,F.remembered=F.remembered||!1,F.team_member=F.team_member||!1,F.team_leader=F.team_leader||!1,F.has_credits=F.has_credits||!1,F.has_subscription=F.has_subscription||!1,F.team_credits=F.team_credits||0,F.team_name=F.team_name||"",U(),"undefined"!=typeof window&&void 0!==window.tracking_data&&B(F),F}},z=a(91897);class W{static isMappable(e){return null!==e&&"object"==typeof e&&!y().Iterable.isIterable(e)}static mapArray(e){return y().List(e.map(e=>this.mapJS(e)))}static mapHash(e){for(const t in e){const a=e[t];e[t]=this.mapJS(a)}return y().Record(e)()}static mapJS(e){return this.isMappable(e)?Array.isArray(e)?this.mapArray(e):this.mapHash(e):e}static fromJS(e){return this.mapJS(e)}}var H=W.fromJS({userDetails:{country_code:"",authenticated:!1,remembered:!1,anonymous:!0,has_subscription:!1,has_purchase_history:!1,team_member:!1,team_leader:!1,team_name:"",fast_checkout_sub:!1,fast_checkout_subs_pack_sku:"",istock_fast_checkout_larger_offer_credit_pack_sku:"",pricing_clarity_flow:!1,credit_amount:0,has_ai_generations:!1,ai_tooltip_enabled:!0,show_ai_bundling_offer:!1,has_active_ai_bundling_agreement:!1,show_unlimited_content:!1,price_book:{},has_credits:!1,team_credits:0,subsInfo:{isPPV:!1,isSignature:!1,isEssentials:!1,downloadedCount:0,downloadLimit:0,autoRenews:!1,daysUntilExpiry:0,downloadsRemaining:0}},asset:{agreements:[],allowedUseCodeKey:"",assetDimensions:{width:0,height:0},assetFamily:"",assetId:"",assetType:"",dateSubmitted:"",dateSubmittedFormatted:"",defaultMainImageURL:"",epsFileSizeIndex:-1,exclusiveContent:"",freeFile:!1,hasEpsFileSize:!1,id:"",isEditorialUseOnly:!1,isEssentialImage:!1,isSignatureImage:!1,isFilm:!1,isHidden:!1,isIllustration:!1,isImage:!1,isIstockExclusive:!1,isVector:!1,istockCollection:"",keywords:[],licenseType:"",localizedCaption:null,location:"",mainImageUrl:"",mediaType:"",sizes:[],standardLicense:{license_type:"",description:"",credit_cost:Number.MAX_VALUE,is_purchase_required:!0,acquired:!1,is_acquired_and_not_repurchasable:!1,is_selected:!1},thumbUrl:"",zoomedImageUrl:""},agreements:[],subscription:null,licenses:[],calc:{step:{applePayProductEligibility:!1,name:z.A.PICK_PAYMENT_OPTION,viewLicenseSelection:!1,showFileTypeDropdown:!1,showPricingClarity:null,redownloadSection:null,showCreditCost:null,title:null},assetIsIllustration:!1,assetIsImage:!1,assetIsVideo:!1,assetIsVideoTemplate:!1,assetCollectionName:"",assetCollectionIsSignature:!1,applePayDefault:!1,buyAndBurnDownload:!1,localePhoneNumber:void 0,redownloadForFree:!1,isFreeAdminDownload:!1,teamCreditsAvailable:0,includedWithSubscription:void 0,selectedAccount:void 0,selectedAccountCredits:0,selectedAccountHasAnyCredits:!1,selectedAccountHasEnoughCredits:!1,selectedAgreement:void 0,selectedAgreementType:void 0,selectedAgreementSize:void 0,selectedAssetSize:{},largestSizeAvailable:{},userIsTeamUser:!1,isTeamAccountSelected:!1,totalCreditCost:Number.MAX_VALUE,isInPricingClarity:!1,ctaInProgress:!1,showDropboxModal:void 0,showIncentivizationModal:void 0,hasSubscription:!1,isSubscriptionDownloadAllowed:!1,optionalLicenseIndexes:[],hasSelectedOptionalLicenses:!1,notAcquiredSelectedLicenses:[],hasAvailableCredits:!1},buyCardData:{},categories:{categoriesView:{ftlpCategory:"",parentKeywordCategory:"",matchingInspirePages:""}},downloadData:null,displayError:null,editable:!1,isAiEditable:!1,keywordsView:{},metaTags:{seoAlt:"",seoImageTitle:"",seoFilmAlt:"",seoFigCaption:""},redirectToUrl:null,postDownloadOnboarding:!1,mobileSimplification:!1,searchPhrase:null,searchScope:null,versionCount:0,openInlineCropDefault:!1,aiTooltipOpenByDefault:!0,aiBundleAcquisition:{eligible:!1},iStockRenderFederatedBuyCard:{enabled:!1,templateName:null}});var V=e=>({type:m.SET_SELECTED_ACCOUNT,selectedAccountName:e});var G=()=>({type:m.GO_TO_NEXT_STEP});const Y="RoyaltyFreeSubscription",K="CreditPack",Q="EasyAccess";var J={ROYALTY_FREE_SUBSCRIPTION:Y,CREDIT_PACK:K,EASY_ACCESS:Q,ALL:[Y,K,Q]},Z=a(82784);var q={singleDownload(e,t){return e&&(tracking_data.payment_source=e),t&&(tracking_data.extended_licenses=t,tracking_data.ui_element_location="extended_license"),delete tracking_data.asset_details.asset_size}};var $=(e,t)=>{const a=function(e){return e.asset.freeFile?"free_download":e.calc.buyAndBurnDownload?"credits":e.calc.redownloadForFree?"redownload":e.calc.selectedAgreementType===J.CREDIT_PACK?"credits":e.calc.selectedAgreementType===J.ROYALTY_FREE_SUBSCRIPTION?"subscription":null}(e),s=e.calc.selectedAssetSize;tracking_data.asset_details.asset_size=s?.teeShirtSize;const i=e.downloadData?.data?.single_downloads?.first()?.source_download?.id||void 0,n=(0,Z.A)({asset_details:tracking_data.asset_details,download_method:a,is_eps:t,download_id:i});return(0,u.C)(n),q.singleDownload(a,function(e){return e.calc.hasSelectedOptionalLicenses?e.licenses.filter(e=>e.is_selected&&"Standard"!==e.license_type).map(e=>e.license_type).toArray():null}(e))};var X=e=>({type:m.SET_DISPLAY_ERROR,message:e});var ee=e=>({type:m.REDIRECT_TO_URL,url:e});var te=e=>({type:m.SET_BUY_AND_BURN_DOWNLOAD,buyAndBurnDownload:e}),ae=a(31210),se=a(45498);const ie=function(e){return e.selectedAgreementType===J.CREDIT_PACK&&e.hasSelectedOptionalLicenses?e.notAcquiredSelectedLicenses:null},ne=e=>{const t=a=>{if(a>=e.length)return;const s=e[a],i=document.createElement("a");i.href=s,i.download="Original.jpeg",(document.body||document.documentElement).appendChild(i),i.click(),i.parentNode.removeChild(i),setTimeout(()=>{t(a+1)},5e3)};try{t(0)}catch(e){(0,ae.d)(e)}};var oe=(e,t,a,s,i,n,o,r)=>function(l,c){const{asset:d,calc:u}=c(),_="image/eps"===u.selectedAgreementSize?.content_type;return(({isImageEdited:e,asset:t,calc:a,korrelationId:s,editDetails:i})=>{if(e){const n={assetId:t.assetId,downloadToken:a.selectedAgreementSize.download_token,korrelationId:s,isImageEdited:e,editDetails:i};return(0,se.A)(n)}return E().post("/downloads/create-download",{data:{asset:{asset_id:t.assetId,asset_type:t.assetType,asset_collection:t.istockCollection},tokens:[a.selectedAgreementSize.download_token],licenses:ie(a)?.toJS(),korrelation_id:s,credit_share:a.isTeamAccountSelected}})})({isImageEdited:s,asset:d,calc:u,korrelationId:e,editDetails:o}).then(function(e){l((e=>({type:m.SET_DOWNLOAD_DATA,downloadData:e}))(e.data)),r();const t=c(),{downloadData:s}=t;let o=!1;const{modifications_url:d}=s?.data;return a||!s.hasDownloadDestinations||d?"complete"===document.readyState?d?(ne([d,s.downloadDestinationUrl]),n(!1)):window.location.href=s.downloadDestinationUrl:window.addEventListener("load",()=>{d?ne([d,s.downloadDestinationUrl]):window.location.href=s.downloadDestinationUrl}):({dropboxEnabled:o}=s),$(t,_),i(),l(((e,t)=>({type:m.SET_TOASTER,forceDownload:e,dropboxEnabled:t}))(a,o)),t.calc.buyAndBurnDownload?l(te(!1)):t.calc.redownloadForFree?l((e=>({type:m.GO_TO_COMPLETE_REDOWNLOAD,dropboxEnabled:e}))(o)):void l((e=>({type:m.GO_TO_COMPLETE_DOWNLOAD,dropboxEnabled:e}))(o))}).catch(function(e,a){403===e.status&&l(ee(t)),l(X("download_failed")),n(!1)})};var re={PERSONAL:"personalAccount",TEAM:"teamAccount"};var le=class{_parseQuery(e){const t={};let a="image";for(let s of e.toLowerCase().split("&")){const[e,i]=Array.from(s.split("="));"assettype"===e&&(a=i),this._addItem(t,e,decodeURIComponent(i))}return t.assettype||this._addItem(t,"assettype",a),[t,a]}_addItem(e,t,a){return e[t]||(e[t]={}),e[t][a]=a,!0}_buildQuery(e){const[t,a]=this._parseQuery(e),s=["language","contracturl","assettype"],i=[];for(let e in t){const a=t[e];if(!s.contains(e))for(let t in a){const s=a[t];""!==s&&i.push(`${e}=${encodeURIComponent(s)}`)}}return[i.join("&"),a]}parseQuery(e){return this._parseQuery(e)}normalizeUrl(e){const t=e.split("?"),a=t[0];if(t.length>1){const e=t[1],[s,i]=this._buildQuery(e);return[`${a}?${s}`,e]}return[a,""]}normalizeUrlFromQuery(e){const[t,a]=this._buildQuery(e);return[`/search/2/${a}?${t}`,a]}};var ce=(e=document.referrer)=>(null!=function(e){const t=new le,a=t.normalizeUrl(e)[1];return t.parseQuery(a)[0]}(e).phrase?window.giLocalStorage.setItem("spectrum.downloadAssetId",window.tracking_data.asset_details.asset_id):window.giLocalStorage.getItem("spectrum.downloadAssetId")!==window.tracking_data.asset_details.asset_id&&window.giLocalStorage.removeItem("spectrum.downloadAssetId"),{type:m.SET_SPECTRUM_DOWNLOADED_ASSET_ID});var de=()=>(e,t)=>{if(t().userDetails.authenticated)return E().get("/downloads/subscription",{headers:{Accept:"application/json"}}).then(function(t){return e({subscription:t.data,type:m.LOAD_SUBSCRIPTION}),Promise.resolve(!0)}).catch(function(e){})};const ue=e=>({type:m.SET_AGREEMENTS,agreements:e});var _e=()=>(e,t)=>{const{agreements:a,asset:s}=t();return 0!==a.size?Promise.resolve(!0):t().userDetails.authenticated?E().get(`/downloads/asset-agreements/${s.assetId}`,{headers:{Accept:"application/json"}}).then(function(t){return e(ue((null!=t.data?t.data.agreements:void 0)||[])),e(de()),Promise.resolve(!0)}).catch(function(t){return e(ue([])),e(de()),Promise.resolve(!1)}):(e(ue([])),e(de()),Promise.resolve(!1))};var pe=()=>e=>E().get("/downloads/download-agreements-overview",{headers:{Accept:"application/json"}}).then(t=>{return e((a=t.data,{type:m.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED,agreementOverview:a}));var a}).catch(t=>e(X("download_failed")));var me=()=>e=>E().get("/downloads/customer/credit-balances",{headers:{Accept:"application/json"}}).then(t=>{return e((a=t.data.personal_credits,s=t.data.team_credits,{type:m.SET_AVAILABLE_CREDITS,personalCredits:a,teamCredits:s}));var a,s}).catch(t=>e(X("download_failed"))),he=a(52679);const ge="urls.plans_and_pricing_images",fe="urls.plans_and_pricing_images_credit_pack",we="urls.plans_and_pricing_images_subscriptions",ve="urls.plans_and_pricing_video",Ce="urls.plans_and_pricing_videos_credit_pack",xe="urls.plans_and_pricing_videos_subscriptions";var Ae={annualSelfUpgradeRoute:"urls.plans_and_pricing_self_serve",defaultPnpRoute:"urls.plans_and_pricing_subscriptions",pnpCreditsRoute:"urls.plans_and_pricing_credit_packs",getPricingRoute:e=>e?ve:ge,getCreditsPricingRoute:e=>e?Ce:fe,getSubscriptionPricingRoute:e=>e?xe:we,imagePnpRoute:ge,imagePnpCreditRoute:fe,imagePnpSubsRoute:we,videoPnpRoute:ve,videoPnpCreditRoute:Ce,videoPnpSubsRoute:xe};var be=()=>function(e,t){const{userDetails:{authenticated:a,remembered:s,has_purchase_history:i},buyCardData:{downloadBalanceCheckPath:n},asset:{freeFile:o},calc:{assetIsVideo:r}}=t();if(!a&&(o||s||i)){const t=((e,t,a)=>{const s=window.location.search?`${window.location.search}&`:"?";let i=`${window.location.pathname}${s}is_video=${t}`;return e||(i=`${a}?url=${i}`),`/sign-in?returnurl=${i}`})(o,r,n);return void e(ee(t))}return e(ce()),t().userDetails.team_member||e(V(re.PERSONAL)),e(_e()).then(a=>e(me()).then(function(){return t().calc.isFreeAdminDownload?e({type:m.GO_TO_FREE_ADMIN_DOWNLOAD}):e(pe()).then(function(){const a=t();if((e=>!(e.asset.freeFile||e.calc.redownloadForFree||e.userDetails.team_member||e.calc.selectedAccountHasAnyCredits||e.calc.hasSubscription||(0,he.Ay)(e)))(a)){const t=(({assetIsVideo:e,hasSelectedOptionalLicenses:t})=>t?Ae.getCreditsPricingRoute(e):Ae.getPricingRoute(e))({assetIsVideo:a.calc.assetIsVideo,hasSelectedOptionalLicenses:a.calc.hasSelectedOptionalLicenses});return void e(ee(t))}return e(G())})})).catch(function(t){return e(X("download_failed"))})};const Te=e=>({type:m.SET_LICENSES,licenses:e});var Ee=(e,t)=>(a,s)=>{const i=s().licenses.toJS();return i.size>1?a(Te(i)):E().get(window.siteMap.cleanRelativePath(`/asset-detail/${e.assetId}/licenses`),{params:{asset_type:e.assetType,allowed_use_code_key:e.allowedUseCodeKey,istock_collection:e.istockCollection,credit_share:t},headers:{Accept:"application/json"}}).then(function(e){const t=e.data||[];a(Te(t)),a({type:m.SET_CTA_IN_PROGRESS,inProgress:!1})}).catch(e=>a(X("can_not_get_extended_licenses")))};var Se=()=>(e,t)=>e(_e()).then(function(){if((e=>e.userDetails.team_member&&e.userDetails.has_purchase_history&&!e.calc.selectedAccount)(t()))return e(me()).then(()=>e({type:m.SELECT_ACCOUNT_STEP,nextStepIsToDownloadWithLicenseSelection:!0}));const a=t();e(Ee(a.asset,a.calc.isTeamAccountSelected))}).catch(function(t){e(X("download_failed"))});var ye=()=>(e,t)=>e(Se()).then(()=>e({type:m.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP}));var Ne=()=>(e,t)=>e(_e()).then(t=>e({type:m.GO_TO_BEGINNING})).catch(function(e){});var Ie=e=>({type:m.SET_APPLE_PAY_DEFAULT_PAYMENT,applePayDefault:e});const je={initializeDataStep(e,t,a,s,i,n={},o={},r,l,c={},d={},u,_,p,h,g,f,w,v={},C){return{type:m.INITIALIZE,asset:e,userDetails:t,preferredDownloadSize:a,preferredEpsDownloadSize:s,localePhoneNumber:i,buyCardData:n,categories:o,editable:r,isAiEditable:l,keywordsView:c,metaTags:d,mobileSimplification:u,searchPhrase:_,searchScope:p,versionCount:h,hasAvailableCredits:g,openInlineCropDefault:f,aiTooltipOpenByDefault:w,aiBundleAcquisition:v,iStockRenderFederatedBuyCard:C}},cancelDownload(){return{type:m.CANCEL_AND_BACK_TO_BEGINING}},closeDownloadErrorMessage(){return(e,t)=>{e({type:m.CANCEL_AND_BACK_TO_BEGINING})}},closeLicensePicker(){return{type:m.CANCEL_AND_BACK_TO_BEGINING}},selectAssetSize(e){return{type:m.SELECT_ASSET_SIZE,assetSize:e}},setCtaInProgress(e){return{type:m.SET_CTA_IN_PROGRESS,inProgress:e}},checkLicense(e){return{type:m.CHECK_LICENSE,licenseIndex:e}},selectPricingClarityOptionToggle(e){return{type:m.SELECT_PRICING_CLARITY_OPTION_TOGGLE,pricingOptionSelected:e}},setApplePayProductEligibility(e){return{type:m.SET_APPLE_PAY_PRODUCT_ELIGIBILITY,applePayProductEligibility:e}},setSelectedAgreementType(e){return{type:m.SELECT_AGREEMENT_TYPE,agreementType:e}},setRedirectUrl(e){return{type:m.REDIRECT_TO_URL,url:e}},goToInitialLoad:Ne,goToNextStep:G,setSelectedAccount:V,initiateDownload:be,pickOptionalLicenses:Se,performDownload:oe,goToInitiateDownloadAndSelectLicensesStep:ye,showPostDownloadOnboarding:()=>({type:m.SHOW_POST_DOWNLOAD_ONBOARDING}),hidePostDownloadOnboarding:()=>({type:m.HIDE_POST_DOWNLOAD_ONBOARDING}),setApplePayDefaultPayment:Ie};var De=je,Oe=a(89593);var Pe=function(e=null,t){if(t.type===m.LOAD_SUBSCRIPTION)e=W.fromJS(t.subscription);return e};const Re=new Map;Re.set(m.SHOW_POST_DOWNLOAD_ONBOARDING,!0),Re.set(m.HIDE_POST_DOWNLOAD_ONBOARDING,!1);var ke=(e,t)=>Re.get(t.type)??e;var Le=(e,t)=>e=e.set("displayError",t.message);var Fe=(e,t)=>e=e.setIn(["calc","ctaInProgress"],t.inProgress);const Ue=function(e){const{forceDownload:t,dropboxEnabled:a}=e,s=null!=giLocalStorage.getItem("dropboxOptOut");return!t&&!a&&!s};var Be=(e,t)=>e=e.mergeIn(["calc"],{showDropboxModal:Ue(t)});var Me=e=>e.calc.optionalLicenseIndexes.map(t=>e.licenses.get(t));var ze=e=>Me(e).reduce((e,t)=>e||t.is_selected,!1);const We=function(e){const t=Ge(e),a=null!=e.calc.selectedAssetSize?e.calc.selectedAssetSize.get(t):void 0;return a?He(a):Ve};var He=function(e){const t=new RegExp(`^${e}$`,"i");return(e,a)=>a.reduce((a,s)=>a||null!=(null!=e[s]?e[s].match(t):void 0),!1)},Ve=()=>!1,Ge=function(e){return e.calc.assetIsImage||e.calc.assetIsIllustration?"teeShirtSize":e.calc.assetIsVideo||e.calc.assetIsVideoTemplate?"name":null};const Ye=function(e){const t=[];return e.calc.assetIsImage&&t.push("tee_shirt_size"),(e.calc.assetIsIllustration||e.calc.assetIsVideo||e.calc.assetIsVideoTemplate)&&t.push("teams_size"),t};var Ke=(e,t,a)=>e.flatMap(e=>e.authorized_sizes).find(e=>e.is_free&&a(e,t));var Qe=(e,t,a)=>e.flatMap(e=>e.authorized_sizes).find(e=>a(e,t));var Je=e=>{let t;return e.calc.redownloadForFree&&!ze(e)?t=function(e){if(e.calc.assetIsVideoTemplate){let t=e.agreements.filter(e=>e.type===J.ROYALTY_FREE_SUBSCRIPTION).flatMap(e=>e.authorized_sizes).find(e=>e.is_free&&"zip-video-template"===e.teams_size);return t||(t=e.agreements.filter(e=>e.type===J.CREDIT_PACK).flatMap(e=>e.authorized_sizes).find(e=>e.is_free&&"zip-video-template"===e.teams_size)),t}const t=We(e),a=Ye(e),s=e.agreements.filter(e=>e.type===J.ROYALTY_FREE_SUBSCRIPTION);let i=Ke(s,a,t);if(!i){const s=e.agreements.filter(e=>e.type===J.CREDIT_PACK);i=Ke(s,a,t)}return i}(e)||e.calc.selectedAgreementSize:e.calc.isFreeAdminDownload?t=function(e){const t=We(e),a=Ye(e),s=e.agreements.filter(e=>e.type===J.EASY_ACCESS);return Qe(s,a,t)}(e)||e.calc.selectedAgreementSize:e.calc.selectedAgreement&&(t=function(e){const t=We(e),a=Ye(e);return e.calc.assetIsVideoTemplate?e.calc.selectedAgreement.authorized_sizes.find(e=>"zip-video-template"===e.teams_size):e.calc.selectedAgreement.authorized_sizes.find(e=>t(e,a))}(e)),e=e.setIn(["calc","selectedAgreementSize"],t)};const Ze=function(e){const t=e.find(e=>e.type===J.CREDIT_PACK&&e.agreement_details.is_credit_share);return t?.agreement_details?.available_credits||0},qe=e=>e.some(e=>e.agreement_details.available_credits>0),$e=e=>!!e.find(e=>e.authorized_sizes.find(e=>e.is_free)),Xe=(e,t)=>e.some(e=>e.type===t);var et=(e,t)=>{const a=t.agreements||e.agreements||[];e=e.set("agreements",W.fromJS(a));const s=Xe(a,J.ROYALTY_FREE_SUBSCRIPTION);return e=e.mergeIn(["calc"],{includedWithSubscription:s,redownloadForFree:!e.asset.freeFile&&$e(a),isFreeAdminDownload:Xe(a,J.EASY_ACCESS),teamCreditsAvailable:Ze(a),hasAvailableCredits:qe(a)}),e=Je(e)};const tt=function(e,t){if(!t)return null;const a=new RegExp(`^${t}$`,"i");return e.find(e=>null!=e.teeShirtSize?e.teeShirtSize.match(a):void 0)};var at=(e,t)=>{const{assetSize:a}=t;let s=a;return!a&&e.calc.assetIsImage&&(s=function(e,t){const{sizes:a}=e;if(e.hasEpsFileSize)return tt(a,t.preferredEpsDownloadSize)||a.get(e.epsFileSizeIndex);if(a.last()?.epsUnavailable){const e=a.pop();return tt(a,t.preferredDownloadSize)||e.last()}return tt(a,t.preferredDownloadSize)||a.last()}(e.asset,t)),e=e.setIn(["calc","selectedAssetSize"],s),e=Je(e)};var st=(e,t)=>{const a=e.calc.totalCreditCost<=e.calc.selectedAccountCredits;return e=e.setIn(["calc","selectedAccountHasEnoughCredits"],a)};const it=e=>function(e){return e.asset.freeFile?e.agreements.find(e=>e.type===J.CREDIT_PACK):null}(e)||(e=>e.agreements.find(t=>t.type===e.calc.selectedAgreementType&&(((e,t)=>(e=>!!e.agreement_details.is_credit_share)(t)===e.calc.isTeamAccountSelected||(e=>!!e.agreement_details.is_shared_subscription)(t)===e.calc.isTeamAccountSelected)(e,t)||e.userDetails.team_leader)))(e);var nt=(e,t)=>(e=e.setIn(["calc","selectedAgreement"],it(e)),e=Je(e));var ot=(e,t)=>{const a=(null!=t?t.agreementType:void 0)||e.calc.selectedAgreementType;return e=e.setIn(["calc","selectedAgreementType"],function(e,t){return t===J.ROYALTY_FREE_SUBSCRIPTION?e.calc.step.subsAvailable:t===J.CREDIT_PACK&&e.calc.step.creditsAvailable}(e,a)?a:null),e=nt(e)};var rt=(e,t=void 0)=>{const a=null!=t?t.selectedAccountName:void 0;let s=null;const i=a===re.TEAM||!!e.userDetails.team_leader;return i?s=e.calc.teamCreditsAvailable:a===re.PERSONAL&&(s=e.userDetails.credit_amount),e=e.mergeIn(["calc"],{selectedAccount:a,selectedAccountCredits:s,selectedAccountHasAnyCredits:s>0,isTeamAccountSelected:i}),e=function(e){let t;return e.calc.isTeamAccountSelected&&e.calc.selectedAccountHasEnoughCredits&&(t=J.CREDIT_PACK),!e.calc.isTeamAccountSelected&&e.calc.isSubscriptionDownloadAllowed&&e.calc.userIsTeamUser&&(t=J.ROYALTY_FREE_SUBSCRIPTION),ot(e,{agreementType:t})}(e=st(e))};var lt=(e,t)=>{const{downloadData:a}=t,s=(a.single_downloads?.[0]||a.singleDownloads?.[0])?.url||null,i=!!(a.download_destinations&&a.download_destinations[0]&&a.download_destinations[0].token);return e=e.set("downloadData",W.fromJS({data:a,hasDownloadDestinations:a.download_destinations?.length>0,downloadDestinationUrl:s,dropboxEnabled:i}))};const ct={title:null,ctaClass:"",ctaTitle:null,ctaAction:"",showPricingClarity:!1,reasonForBox:"",creditsAvailable:!0,subsAvailable:!0,selectedAccount:void 0,viewLicenseSelection:!1};var dt=(e,t,...a)=>{const s=(e=>e.calc.step.showSubTypeMessage)(e)&&!(e=>e.calc.step.selectedAccount===re.TEAM)(e),i=Object.assign({},ct,t,{showSubTypeMessage:s},...Array.from(a)),n=W.fromJS(i);return e=e.setIn(["calc","step"],n),e=ot(e,{agreementType:e.calc.selectedAgreementType||n.selectedAgreementType})};var ut=(e,t={})=>{const a=w.CHOOSE_ACCOUNT,s=f.PRIMARY_CTA,i=h.HANDLE_ACCOUNT_SELECTION;return e=dt(e,{name:z.A.CHOOSE_ACCOUNT,title:`${e.calc.assetCollectionName}_collection`,ctaTitle:a,ctaClass:s,selectedAccount:re.TEAM,ctaAction:t.nextStepIsToDownloadWithLicenseSelection?h.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:i,showAccountChoices:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0}),e=rt(e,{selectedAccountName:e.calc.step.selectedAccount})};var _t=e=>rt(e,void 0);const pt=(e,t)=>e+t.credit_cost,mt=e=>e.reduce(pt,0);var ht=e=>{const t=(e=>e.licenses.filter(e=>e.is_selected&&!e.is_acquired_and_not_repurchasable))(e);return e=e.mergeIn(["calc"],{totalCreditCost:mt(t),notAcquiredSelectedLicenses:t}),e=st(e)};var gt=e=>{const t=e.licenses.withMutations(t=>e.calc.optionalLicenseIndexes.forEach(e=>t.setIn([e,"is_selected"],!1)));return e=(e=e.set("licenses",t)).setIn(["calc","hasSelectedOptionalLicenses"],!1),e=(e=ht(e)).setIn(["calc","step","viewLicenseSelection"],!1)};const ft=e=>e.userDetails.premium_video_subscription_enabled,wt=e=>e.subscription?.include_video,vt=e=>e.userDetails.video_credit_pack_fco_eligible,Ct=e=>ft(e)?h.REDIRECT_TO_CREDITPACKS:h.REDIRECT_TO_PRICING,xt=e=>!e.userDetails.has_purchase_history&&(((e,t=["AUT","BEL","BRA","DEU","IRL","NLD","CHE"])=>t.includes(e))(e.userDetails.country_code,["BRA"])||At(e)),At=e=>bt(e.userDetails.country_code)||Tt(e)||Et(e),bt=e=>(e=>["PER","IDN","COL"].includes(e))(e)||(e=>["RUS","THA","IND"].includes(e))(e)||(e=>["VNM","TUR","CHL","ARG","NGA","MYS","UKR"].includes(e))(e),Tt=e=>e.userDetails.fast_checkout_sub,Et=e=>e.userDetails.pricing_clarity_flow&&e.calc.assetIsVideo;var St={buildInsufficientCreditsHtmlTranslation:e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=e.userDetails.istock_asset_credit_cost,i={zero:"<strong>",one:"</strong>",two:"<strong>",three:"</strong>",credit_cost:t,greaterthan1_credit_balance:a,credit_amount:s};return{tag:(()=>{let s="image_";e.calc.assetIsVideoTemplate&&(s="video_template_"),e.calc.assetIsVideo&&(s="video_");return`${s}${1===t?"insf_one_credit_cost":1===a?"insf_one_credit":"insf_credits"}`})(),translationVariables:i}},ctaActionForInitiateDownload:h.INITIATE_DOWNLOAD,defaultCtaTitle:e=>{const t=w.CONTINUE_TO_CHECKOUT,a=w.FREE_DOWNLOAD,s=w.DOWNLOAD_THIS_VIDEO,i=w.DOWNLOAD_THIS_VIDEO_TEMPLATE,n=w.DOWNLOAD_THIS_IMAGE;return e.asset.freeFile?a:xt(e)?t:e.calc.assetIsVideoTemplate?i:e.calc.assetIsVideo?s:n},buildConfirmDownloadPaidByCreditsStep:(e,t=!1)=>({name:"PLACEHOLDER",title:null,ctaTitle:w.CONFIRM_DOWNLOAD,ctaClass:f.PRIMARY_CTA,ctaAction:h.CREATE_DOWNLOAD,showCreditCost:!0,confirmSection:!e.calc.step.viewLicenseSelection,selectedAgreementType:J.CREDIT_PACK,isConfirmationState:!0,subsAvailable:!0,triggerTracking(){const t=e.userDetails.team_leader,a=e.calc.userIsTeamUser,s=e.userDetails.team_member&&e.calc.isTeamAccountSelected;a&&!t&&(window.tracking_data.download_with_team_credits=s)}}),buildMustBuyStep:e=>{const t=vt(e),a=f.PRIMARY_CTA,s=e.calc.totalCreditCost,i=e.calc.selectedAccountCredits;let n=w.BUY_CREDITS;t&&(n=w.CONTINUE_TO_CHECKOUT);return{name:"PLACEHOLDER_BUY_CREDITS_NAME",ctaTitle:n,ctaClass:a,ctaAction:e.calc.assetIsVideo&&t?h.REDIRECT_TO_FAST_CHECKOUT:Ct(e),ctaTranslationVariables:{credit_cost:s,selected_credits:i}}},buildStepDetailsToShowDownloadChoices:e=>{const t=(wt(e)?"premium_video":(e=>e.subscription?.sku?.includes("PREM"))(e)?"premium":"basic")+"_subscription";return{showDownloadChoices:!0,showSubscriptionField:e.calc.selectedAccount===re.PERSONAL&&e.calc.hasSubscription,subTitleTranslation:t,subDownloadsTranslationValue:e.userDetails.subsInfo.downloadsRemaining}},hasPremiumVideoSub:wt,isUsingTeamAccount:e=>e.userDetails.team_member&&e.calc.isTeamAccountSelected,inGeoLocPricingTest:bt,inFastCheckoutSub:Tt,inVideoPricingClarityTest:Et,inVideoPricingClarityPremiumVideoSub:e=>e.userDetails.pricing_clarity_flow&&e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow,premiumVideoEnabled:ft,selfServeUpgradeEnabled:e=>e.userDetails.self_serve_upgrade_enabled,ctaPricingActionData:Ct,inMobileSimplification:e=>e.mobileSimplification,isPricingClarityDurationToggleDefaultAnnual:e=>e.userDetails.is_annual_monthly_toggle_annual_active,isVideoCreditPackFCO:vt};const{ctaActionForInitiateDownload:yt,defaultCtaTitle:Nt}=St;var It=e=>dt(e,{name:z.A.PICK_PAYMENT_OPTION,title:`${e.calc.assetCollectionName}_collection`,ctaClass:f.SUPER_CTA,ctaTitle:Nt(e),ctaAction:yt,showTshirtSizes:!0,confirmSection:!1,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection},function(e){const t=e.calc.includedWithSubscription;return{showSubTypeMessage:t,showFileTypeDropdown:e.calc.assetIsVideo,showCreditCost:!t}}(e));var jt=(e,t={})=>{const{asset:a}=e;return dt(e,{name:z.A.REDOWNLOAD_FOR_FREE,title:"previously_downloaded",ctaClass:f.PRIMARY_CTA,ctaTitle:w.REDOWNLOAD_FOR_FREE,ctaAction:h.CREATE_DOWNLOAD,lightBlueWarning:!0,showTshirtSizes:!0,showFileTypeDropdown:!0,confirmSection:!1,persistentWarning:!0,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,reasonForBox:a.isIllustration?"download_no_charge_illustration":a.isFilm?"download_no_charge_video":a.isVideoTemplate?"download_no_charge_video_template":"download_no_charge_photo",warningBox:!0})};var Dt=Object.freeze({PRICING_OPTION_CHECKOUT:"checkout",PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:"checkoutLargerCreditPack",PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:"checkoutWithAnnualMonthlyToggleOption",PRICING_OPTION_PRICING:"pricing",PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:"checkoutSubscription"});const{inVideoPricingClarityPremiumVideoSub:Ot,inMobileSimplification:Pt,inVideoPricingClarityTest:Rt,inFastCheckoutSub:kt,inGeoLocPricingTest:Lt,defaultCtaTitle:Ft,isPricingClarityDurationToggleDefaultAnnual:Ut}=St,Bt=z.A.PICK_PRICING_CLARITY_PAYMENT_OPTION,Mt=["DEU","BRA"],zt=e=>{switch(!0){case Pt(e):return Dt.PRICING_OPTION_CHECKOUT;case Ot(e):case kt(e):return Ut(e)?Dt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:Dt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION;case Lt(e.userDetails.country_code):case Mt.includes(e.userDetails.country_code):return Dt.PRICING_OPTION_CHECKOUT;default:return Dt.PRICING_OPTION_PRICING}},Wt=(e,t)=>e.calc.step.name!==Bt?zt(e):((e,t)=>t||zt(e))(e,t.pricingOptionSelected),Ht=e=>kt(e)||Rt(e)?f.FULL_WIDTH_SUPER_CTA:f.SUPER_CTA,Vt=(e,t)=>{const a=Wt(e,t),s=((e,t)=>{switch(t){case Dt.PRICING_OPTION_CHECKOUT:case Dt.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK:return{ctaTitle:Ft(e),ctaAction:h.REDIRECT_TO_CHECKOUT};case Dt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:return{ctaTitle:Ft(e),ctaAction:h.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION};case Dt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:return{ctaTitle:Ft(e),ctaAction:h.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK};default:return{ctaTitle:w.DOWNLOAD_METHOD,ctaAction:h.REDIRECT_TO_PRICING}}})(e,a),i=((e,t)=>{if(!e.buyCardData)return!1;const{pricingClarityContent:a,pricingOptions:s}=e.buyCardData,i=s.firstRadioOption===t?"firstRadioContent":"secondRadioContent",{supports_apple_pay:n}=a[i];return n})(e,a);return dt(e,{name:Bt,applePayProductEligibility:i,title:`${e.calc.assetCollectionName}_collection`,ctaClass:Ht(e),ctaTitle:s.ctaTitle,ctaAction:s.ctaAction,showPricingClarity:!0,showCreditCost:!0,showFileTypeDropdown:e.calc.assetIsVideo,showTshirtSizes:e.calc.assetIsVideo,pricingOption:a,viewLicenseSelection:e.calc.step.viewLicenseSelection})};var Gt=(e,t={})=>((e=e.setIn(["calc","isInPricingClarity"],(e=>e.userDetails.pricing_clarity_flow)(e))).calc.isInPricingClarity&&(e=Vt(e,t)),e);var Yt=e=>(e=_t(e),e=gt(e),(e=Gt(e)).calc.isInPricingClarity||(e=It(e)),e.calc.redownloadForFree&&(e=jt(e)),e);var Kt=(e,t)=>(e=et(e,t),e=_t(e),e=gt(e),(e=Gt(e)).calc.isInPricingClarity||(e=It(e)),e.calc.redownloadForFree&&(e=jt(e)),e);var Qt=(e,t)=>(e=e.mergeIn(["userDetails"],{credit_amount:Math.max(0,t.personalCredits||0),team_credits:Math.max(0,t.teamCredits||0)}),e=rt(e,{selectedAccountName:e.calc.selectedAccount}));var Jt=e=>e=dt(e,{name:z.A.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP,title:`${e.calc.assetCollectionName}_collection`,ctaTitle:St.defaultCtaTitle(e),ctaClass:f.SUPER_CTA,ctaAction:St.ctaActionForInitiateDownload,showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0});var Zt=(e,t)=>dt(e,{name:z.A.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showCreditCost:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled});var qt=(e,t)=>dt(e,{name:z.A.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled});var $t=e=>{const t=z.A.PURCHASE_AND_SELECT_LICENCES_STEP;return e=dt(e,{name:t,title:`${e.calc.assetCollectionName}_collection`,ctaTitle:St.defaultCtaTitle(e),ctaClass:f.SUPER_CTA,ctaAction:h.REDIRECT_TO_CREDITPACKS,showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0})};var Xt=(e,t)=>{const a=e.licenses.getIn([t.licenseIndex,"is_selected"]);return e=(e=e.setIn(["licenses",t.licenseIndex,"is_selected"],!a)).setIn(["calc","hasSelectedOptionalLicenses"],ze(e)),(e=ht(e)).calc.step.viewLicenseSelection&&(e=e.calc.isInPricingClarity?$t(e):Jt(e)),e};var ea=e=>{const t=w.CONFIRM_DOWNLOAD;return dt(e,{name:z.A.FREE_ADMIN_DOWNLOAD,title:"free_admin_download",ctaTitle:t,ctaClass:f.PRIMARY_CTA,ctaAction:h.CREATE_DOWNLOAD,confirmSection:!1,selectedAgreementType:J.EASY_ACCESS})};var ta=(e,t)=>{const a=t.subscription.isEssentials||t.subscription.isSignature;return e=e.mergeIn(["calc"],{hasSubscription:a,isSubscriptionDownloadAllowed:a&&t.includedWithSubscription&&t.subscription.downloadsRemaining>0})};var aa=e=>{let t;return e.calc.assetIsImage&&(t=function(e){const{sizes:t}=e;if(e.hasEpsFileSize)return t.get(e.epsFileSizeIndex);if(t.last()?.epsUnavailable)return t.pop().last();return t.last()}(e.asset)),e=e.setIn(["calc","largestSizeAvailable"],t)};var sa=(e,t)=>{const{asset:a,userDetails:s,preferredDownloadSize:i,preferredEpsDownloadSize:n,localePhoneNumber:o,buyCardData:r,categories:l,editable:c,isAiEditable:d,keywordsView:u,metaTags:_,mobileSimplification:p,searchPhrase:m,searchScope:h,versionCount:g,hasAvailableCredits:f,openInlineCropDefault:w,aiTooltipOpenByDefault:v,aiBundleAcquisition:C,iStockRenderFederatedBuyCard:x}=t;a.sizes=a.sizes||[];const A=(e=e.merge({asset:W.fromJS(a),buyCardData:W.fromJS(r),categories:W.fromJS(l),editable:c,isAiEditable:d,keywordsView:W.fromJS(u),licenses:W.fromJS([a.standardLicense]),metaTags:W.fromJS(_),mobileSimplification:p,openInlineCropDefault:w,aiTooltipOpenByDefault:v,aiBundleAcquisition:W.fromJS(C),searchPhrase:m,searchScope:h,userDetails:W.fromJS(s),versionCount:g,iStockRenderFederatedBuyCard:W.fromJS(x)})).calc.withMutations(function(e){e.merge(function(e,t){return ta(y().Map({calc:y().Map()}),{subscription:t.subsInfo,includedWithSubscription:!1}).toJS().calc}(0,s));const t=L.getAssetCollectionName(a);return e.merge({assetCollectionName:L.getAssetCollectionName(a),assetCollectionIsSignature:L.isSignature(t),assetIsIllustration:"illustration"===a.mediaType,assetIsImage:"image"===a.assetType,assetIsVideo:"film"===a.assetType,assetIsVideoTemplate:"videotemplate"===a.assetType,localePhoneNumber:o,userIsTeamUser:s.team_member||s.team_leader,hasSubscription:e.hasSubscription,hasAvailableCredits:f})});return e=(e=>rt(e))(e=e.set("calc",A)),e=ht(e),e=Yt(e),e=aa(e),at(e,{preferredDownloadSize:i,preferredEpsDownloadSize:n})};var ia=(e,t)=>e=Gt(e,{togglePricingOption:!0,pricingOptionSelected:t.pricingOptionSelected});var na=(e,t)=>e=e.set("redirectToUrl",t.url);var oa=(e,t)=>{const a=t.licenses||[];return e=(e=e.set("licenses",W.fromJS(a))).setIn(["calc","optionalLicenseIndexes"],W.fromJS((e=>e.map(function(e,t){return"Standard"!==e.license_type?t:null}).filter(e=>null!==e))(a))),e=e.setIn(["calc","hasSelectedOptionalLicenses"],ze(e)),e=(e=ht(e)).calc.isInPricingClarity?$t(e):Jt(e)};var ra=e=>{const t=w.CONFIRM_DOWNLOAD,a=`${e.calc.assetCollectionName}_download`;return dt(e,{name:z.A.SELECT_ACCOUNT_TYPE,title:a,ctaTitle:t,ctaClass:f.PRIMARY_CTA,ctaAction:h.CREATE_DOWNLOAD,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:J.ROYALTY_FREE_SUBSCRIPTION,isConfirmationState:!0,triggerTracking(){const t=e.userDetails.team_leader,a=e.calc.userIsTeamUser,s=e.userDetails.team_member&&e.calc.isTeamAccountSelected;a&&!t&&(window.tracking_data.download_with_team_credits=s)}},St.buildStepDetailsToShowDownloadChoices(e))};var la=function(){return{tag:"contact_your_administrator"}};var ca=e=>dt(e,{name:z.A.TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:St.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,showSubTypeMessage:!1,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:la()});var da=e=>{const t=w.CONFIRM_DOWNLOAD;return dt(e,{name:z.A.CONFIRM_REDOWNLOAD_FOR_FREE,title:"re_download_for_free",ctaTitle:t,ctaClass:f.PRIMARY_CTA,ctaAction:h.CREATE_DOWNLOAD,confirmSection:!1,redownloadSection:!0,showExtendedLicenses:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,isConfirmationState:!0})};var ua=e=>dt(e,{name:z.A.TEAM_ACCOUNT_OUT_OF_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:St.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:la()});var _a=e=>dt(e,{name:z.A.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING,title:`${e.calc.assetCollectionName}_download`,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:J.ROYALTY_FREE_SUBSCRIPTION,showCreditCost:!1,creditsAvailable:!1,ctaTitle:w.CONFIRM_DOWNLOAD,ctaClass:f.PRIMARY_CTA,ctaAction:h.CREATE_DOWNLOAD,confirmSection:!e.calc.step.viewLicenseSelection,isConfirmationState:!0,subsAvailable:!0},St.buildStepDetailsToShowDownloadChoices(e));const pa=f.PRIMARY_CTA,ma=h.CREATE_DOWNLOAD;var ha=e=>{const t=w.CONFIRM_DOWNLOAD;return dt(e,{name:z.A.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,title:`${e.calc.assetCollectionName}_download`,ctaTitle:t,ctaClass:pa,ctaAction:ma,confirmSection:!0,isConfirmationState:!0,selectedAgreementType:J.ROYALTY_FREE_SUBSCRIPTION},(e=>{const t=e.calc.includedWithSubscription;return e.calc.assetIsVideo,{showSubTypeMessage:t,showCreditCost:!t}})(e))};var ga=e=>dt(e,St.buildConfirmDownloadPaidByCreditsStep(e,!0),{name:z.A.CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS,viewLicenseSelection:!0});var fa=e=>dt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:z.A.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS,title:`${e.calc.assetCollectionName}_collection`,focusView:!0,paymentSelect:!0});var wa=e=>{const t=St.premiumVideoEnabled(e)?"image_not_available_with_subscription":"image_only_with_sig_or_credits";return dt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:z.A.CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:`${e.calc.assetCollectionName}_download`,reasonForBox:t,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},St.buildStepDetailsToShowDownloadChoices(e))};var va=e=>{const t=St.hasPremiumVideoSub(e),a=`look_no_downloads_${e.calc.assetCollectionName}${t&&e.calc.assetIsVideo?"_video":""}`;return dt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:z.A.CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:`${e.calc.assetCollectionName}_download`,reasonForBox:a,warningBox:!0,hideDetails:!0,showDownloadChoices:!0,showCreditCost:!1,confirmSection:!1,subsAvailable:!1},St.buildStepDetailsToShowDownloadChoices(e))};var Ca=e=>{const t=St.premiumVideoEnabled(e),a=St.selfServeUpgradeEnabled(e),s=t&&"OneYear"===e.subscription.duration,i=s?"video_not_available_with_subscription":"video_not_available_with_subscription_no_link";let n=null;return s&&(n=a?Ae.annualSelfUpgradeRoute:e.asset.isVideoTemplate?Ae.defaultPnpRoute:Ae.getSubscriptionPricingRoute(e.asset.isFilm)),dt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:z.A.CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:`${e.calc.assetCollectionName}_download`,warningBox:!0,reasonForBox:t?i:"video_only_with_credits",reasonForBoxLink:n,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},St.buildStepDetailsToShowDownloadChoices(e))};var xa=e=>dt(e,St.buildConfirmDownloadPaidByCreditsStep(e),{name:z.A.CONFIRM_DOWNLOAD_BY_TEAM_CREDITS,title:"confirm_download_team_account",confirmSection:!0,showTshirtSizes:!1,showCreditCost:!0,showSubTypeMessage:!1,showFileTypeDropdown:!1,selectedAgreementType:J.CREDIT_PACK,isConfirmationState:!0,selectedAccount:re.TEAM}),Aa=a(52182);var ba=function(){return{tag:"view_details_cta",url:window.siteMap.cleanRelativePath("/account")}};const Ta={};Ta[Aa.A.suspended]=function(e){const t="your_subscription_suspended";if(e.subscription.can_unsuspend){return{additionalInfoHtml:{tag:"please_pay_your_outstanding_balance_to_continue_using_your_subscription"},reasonForBox:t,warningMessageClass:"warning-message--can-unsuspend",warningCta:{ctaClass:"warning-cta--can-unsuspend",tag:"pay_now",url:`/purchase/subscriptions/${e.subscription.sku}?unsuspend=true`}}}return{additionalInfoHtml:{tag:"download_subscription_phone",translationVariables:{phoneNumber:e.calc.localePhoneNumber}},reasonForBox:t}},Ta[Aa.A.paused]=function(e){const t=new Date(e.subscription.resumed_date).toLocaleDateString();return{additionalInfoHtml:{tag:"it_will_automatically_resume_on",translationVariables:{zero:"<strong>",resumeDate:t,one:"</strong>"}},reasonForBox:"your_subscription_paused",warningCta:ba()}},Ta[Aa.A.expired]=function(e){return{additionalInfoHtml:{tag:"your_subscription_has_expired"},warningClass:"expired-message",warningCta:{url:window.siteMap.cleanRelativePath("/account"),tag:"renew_today"}}};var Ea=function(e){if(!e.subscription)return;const t=Ta[e.subscription.status];return t?t(e):null};var Sa=e=>{const t=(e.subscription||{}).downloads_remaining||0,a=`${St.hasPremiumVideoSub(e)?"premium_video":e.calc.assetCollectionName}_subscription`,s={name:z.A.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS,title:`${e.calc.assetCollectionName}_download`,focusView:!0,paymentSelect:!0,warningBox:!0,showDownloadChoices:!0,subsAvailable:!1,showSubscriptionField:!0,showCreditCost:!1,confirmSection:!1,subTitleTranslation:a,subDownloadsTranslationValue:t,...Ea(e)};return dt(e,St.buildConfirmDownloadPaidByCreditsStep(e),s)};const{premiumVideoEnabled:ya,hasPremiumVideoSub:Na,buildInsufficientCreditsHtmlTranslation:Ia}=St,ja=e=>(e=>e.calc.assetIsVideo&&ya(e)&&!Na(e))(e)?(e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=Ia(e);return{tag:`premium_${s.tag}`,translationVariables:{...s.translationVariables,credit_cost:t-a}}})(e):Ia(e);var Da=e=>{const t=St.isVideoCreditPackFCO(e),a=St.premiumVideoEnabled(e),s=St.selfServeUpgradeEnabled(e),i="OneYear"===e.subscription.duration;let n;n=s?Ae.annualSelfUpgradeRoute:e.asset.isVideoTemplate?Ae.defaultPnpRoute:Ae.getSubscriptionPricingRoute(e.asset.isFilm);const o=a&&i&&{id:"upgrade-to-premium",href:n},r=a&&i?Ae.annualSelfUpgradeRoute:null,l=a?"video_not_available_with_subscription_no_link":"video_only_with_credits",c=St.isUsingTeamAccount(e)?la():null,d=ja(e),u=z.A.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION;return a&&(i||(d.tag=`${d.tag}_you_can_download`),o&&(d.tag=`${d.tag}_link`)),dt(e,St.buildMustBuyStep(e),{name:u,title:`${e.calc.assetCollectionName}_download`,warningBox:!0,reasonForBox:l,reasonForBoxLink:r,additionalInfoHtml:d,additionalInfoHtmlLink:o,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),showCreditCost:!0,premiumVideoEnabled:a,videoCreditPackFCO:t,userHasAnnualSubscription:i,warningCta:c})};var Oa=e=>{const t=St.premiumVideoEnabled(e),a=t?"image_not_available_with_subscription":"image_only_with_sig_or_credits",s=St.isUsingTeamAccount(e)?la():null,i=z.A.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS,n=ja(e);if(t){const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits;n.tag=1==a?"premium_video_insf_one_credit_you_can_download":"premium_video_insf_credits_you_can_download",n.translationVariables={...n.translationVariables,credit_cost:t-a}}return dt(e,St.buildMustBuyStep(e),{name:i,title:`${e.calc.assetCollectionName}_collection`,showCreditCost:!0,warningBox:!0,reasonForBox:a,additionalInfoHtml:n,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),warningCta:s})};var Pa=e=>{const t={name:z.A.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION,title:`${e.calc.assetCollectionName}_download`,ctaTitle:w.BUY_CREDITS,ctaClass:f.PRIMARY_CTA,ctaAction:h.REDIRECT_TO_PRICING,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),...Ea(e)};return dt(e,t)};var Ra=e=>{const t=St.premiumVideoEnabled(e),{assetIsVideo:a}=e.calc;return dt(e,St.buildMustBuyStep(e),{name:z.A.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,title:"you_need_credits",showExtendedLicenses:!1,warningBox:!0,showCreditCost:!0,additionalInfoHtml:ja(e),focusView:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,showSubscribeToPremiumVideo:t&&a,ctaClass:t&&a?f.HOLLOW_CTA:f.PRIMARY_CTA})};var ka=e=>{const t=St.isUsingTeamAccount(e)?la():null,a=z.A.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING;return dt(e,St.buildMustBuyStep(e),{name:a,title:"out_of_downloads",warningBox:!0,reasonForBox:"looks_like_no_downloads",additionalInfoHtml:ja(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:St.isUsingTeamAccount(e),warningCta:t})};var La=e=>{const t=z.A.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES;return dt(e,St.buildMustBuyStep(e),{name:t,title:"you_need_credits",warningBox:!0,showCreditCost:!0,showSubTypeMessage:!1,additionalInfoHtml:St.buildInsufficientCreditsHtmlTranslation(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,ctaAction:h.REDIRECT_TO_CREDITPACKS})};var Fa=e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=t-a,i=1==s,n=1==a,o=Dt.PRICING_OPTION_CHECKOUT;return dt(e,{title:"signature_collection",showBasicSelfServeUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,upsellData:e.buyCardData.basicSelfServeUpgrade.upsellProducts,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:s,oneCreditNeeded:i,oneCreditRemaining:n,balance:a,pricingOption:o})};var Ua=e=>{const t=e.calc.totalCreditCost,a=e.calc.selectedAccountCredits,s=t-a;return dt(e,{title:"signature_collection",showEnhancedPPVUpgrade:!0,hideDownloadButton:!0,showCreditCost:!0,showDownloadChoices:!1,confirmSection:!0,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,neededCredits:s,oneCreditNeeded:1==s,oneCreditRemaining:1==a,balance:a})};var Ba=e=>{const t=w.CONFIRM_DOWNLOAD,a=f.PRIMARY_CTA,s=h.CREATE_DOWNLOAD,i=e.subscription.downloads_remaining,n={showHigherVolumeSelfUpgrade:!0,cancelButton:!0,subscriptionSku:e.subscription.sku,title:e.calc.step.title,downloadsRemaining:i},o={...n,hideDownloadButton:!0,showCreditCost:!1,showDownloadChoices:!1,purchaseExtendedLicenseNotAllowed:!0,hideDetails:!0,upsellData:e.buyCardData.higherVolumeSelfUpgrade.upsellProducts},r={...n,name:z.A.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,ctaTitle:t,ctaClass:a,ctaAction:s,isConfirmationState:!0,selectedAgreementType:J.ROYALTY_FREE_SUBSCRIPTION};return dt(e,0===i?o:r,{showSubTypeMessage:!1})};const Ma=e=>e.calc.hasSubscription&&e.calc.includedWithSubscription&&e.calc.isSubscriptionDownloadAllowed,za=e=>e.calc.hasSubscription&&e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed,Wa=e=>(e=>{const t=e.asset;return!(!e.userDetails.subsInfo.isPPV&&!t.isEssentialImage)||(e.userDetails.subsInfo.isSignature?!t.isFilm&&!e.calc.assetIsVideoTemplate:void 0)})(e)&&!e.calc.hasAvailableCredits&&e.subscription.downloads_remaining<=2&&e.buyCardData.higherVolumeSelfUpgrade.eligible;var Ha=e=>{if(!e.calc.hasSelectedOptionalLicenses){if(e.asset.freeFile)return ha(e);if(e.calc.redownloadForFree)return da(e)}if(e.userDetails.team_member){if(!e.userDetails.has_purchase_history)return(e=rt(e,{selectedAccountName:re.TEAM})).calc.selectedAccountHasEnoughCredits?xa(e):ua(e);if(!e.calc.selectedAccount)return ut(e);if(e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits)return ua(e)}return e.calc.selectedAccount||(e=rt(e,{selectedAccountName:re.PERSONAL})),e.calc.hasSelectedOptionalLicenses?e.calc.selectedAccountHasEnoughCredits?ga(e):e.userDetails.team_member&&e.calc.isTeamAccountSelected?ca(e):La(e):(0,he.Ay)(e)?e.calc.selectedAccountHasEnoughCredits?Sa(e):Pa(e):(e=>e.buyCardData.basicSelfServeUpgrade.eligible)(e)&&(e=>e.calc.hasSubscription&&!e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed&&e.calc.assetCollectionIsSignature&&!e.asset.isFilm&&!e.calc.selectedAccountHasEnoughCredits)(e)?Fa(e):!(e=>e.buyCardData.enhancedPPVUpgrade.eligible&&(e.asset.isFilm||e.asset.isVideoTemplate))(e)||(e=>e.calc.selectedAccountHasEnoughCredits)(e)||Wa(e)?Wa(e)?Ba(e):!e.calc.hasSubscription&&e.userDetails.team_member&&e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits?ua(e):e.calc.selectedAccountHasEnoughCredits&&Ma(e)?ra(e):e.calc.selectedAccountHasEnoughCredits&&za(e)?va(e):e.calc.selectedAccountHasAnyCredits&&!e.calc.selectedAccountHasEnoughCredits&&Ma(e)?_a(e):!e.calc.assetIsVideo&&e.calc.assetCollectionIsSignature&&e.userDetails.subsInfo.isEssentials?e.calc.selectedAccountHasEnoughCredits?wa(e):Oa(e):e.calc.assetIsVideoTemplate&&e.calc.includedWithSubscription&&Ma(e)?_a(e):!e.calc.selectedAccountHasEnoughCredits&&za(e)?ka(e):e.calc.assetIsVideoTemplate&&e.calc.hasSubscription&&!e.calc.includedWithSubscription||(e.calc.assetIsVideo||e.calc.assetIsVideoTemplate)&&e.calc.hasSubscription&&!St.hasPremiumVideoSub(e)?e.calc.selectedAccountHasEnoughCredits?e.calc.isTeamAccountSelected?fa(e):Ca(e):Da(e):e.calc.hasSubscription?e.calc.selectedAccountHasEnoughCredits||Ma(e)?ha(e):Ra(e):e.calc.selectedAccountHasEnoughCredits?fa(e):Ra(e):Ua(e)};var Va=(e,t)=>(e=e.mergeIn(["userDetails","subsInfo"],W.fromJS(t)),e=ta(e,{subscription:t,includedWithSubscription:e.calc.includedWithSubscription}));var Ga=function(e,t){const a=t.agreementOverview||{};if(null!=(null!=a.credit_pack_agreement?a.credit_pack_agreement.credits_available:void 0)&&(e=Qt(e,{personalCredits:a.credit_pack_agreement.credits_available||0})),(null!=a.royalty_free_subscription_agreements?a.royalty_free_subscription_agreements.length:void 0)>0){const t=a.royalty_free_subscription_agreements[0];if(null!=t.download_count&&null!=t.download_limit&&null!=t.name){const a=function(e){const t=e.name||"",a=e.download_count||0,s=e.download_limit||0;return{isPPV:L.isPPV(t),isSignature:L.isSignature(t),isEssentials:L.isEssentials(t),downloadedCount:a,downloadLimit:s,downloadsRemaining:s-a,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0}}(t);e=Va(e,a)}}return e};var Ya=(e,t)=>e=e.mergeIn(["calc"],{buyAndBurnDownload:t.buyAndBurnDownload});var Ka=(e,t)=>e=e.setIn(["calc","step","applePayProductEligibility"],t.applePayProductEligibility);var Qa=(e,t)=>e=e.mergeIn(["calc"],{applePayDefault:t.applePayDefault});const Ja={};Ja[m.INITIALIZE]=sa,Ja[m.GO_TO_BEGINNING]=Yt,Ja[m.CANCEL_AND_BACK_TO_BEGINING]=Kt,Ja[m.SELECT_ASSET_SIZE]=at,Ja[m.SET_CTA_IN_PROGRESS]=Fe,Ja[m.GO_TO_NEXT_STEP]=Ha,Ja[m.SET_AGREEMENTS]=et,Ja[m.SET_TOASTER]=Be,Ja[m.SET_BUY_AND_BURN_DOWNLOAD]=Ya,Ja[m.SET_APPLE_PAY_DEFAULT_PAYMENT]=Qa,Ja[m.SELECT_AGREEMENT_TYPE]=ot,Ja[m.SET_LICENSES]=oa,Ja[m.GO_TO_FREE_ADMIN_DOWNLOAD]=ea,Ja[m.CHECK_LICENSE]=Xt,Ja[m.SET_AVAILABLE_CREDITS]=Qt,Ja[m.GO_TO_COMPLETE_DOWNLOAD]=Zt,Ja[m.GO_TO_COMPLETE_REDOWNLOAD]=qt,Ja[m.SET_SELECTED_ACCOUNT]=rt,Ja[m.SET_APPLE_PAY_PRODUCT_ELIGIBILITY]=Ka,Ja[m.SELECT_PRICING_CLARITY_OPTION_TOGGLE]=ia,Ja[m.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED]=Ga,Ja[m.SET_DISPLAY_ERROR]=Le,Ja[m.REDIRECT_TO_URL]=na,Ja[m.SET_DOWNLOAD_DATA]=lt,Ja[m.SELECT_ACCOUNT_STEP]=ut,Ja[m.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP]=Jt,Object.freeze(Ja);var Za=(e=H,t)=>{const a=Ja[t.type];return a?a(e,t):e};function qa(e,t){return e}const $a=(0,Oe.H)({agreements:qa,asset:qa,buyCardData:qa,calc:qa,categories:qa,displayError:qa,downloadData:qa,editable:qa,isAiEditable:qa,keywordsView:qa,licenses:qa,metaTags:qa,redirectToUrl:qa,mobileSimplification:qa,subscription:Pe,userDetails:qa,postDownloadOnboarding:ke,searchPhrase:qa,searchScope:qa,versionCount:qa,openInlineCropDefault:qa,aiTooltipOpenByDefault:qa,aiBundleAcquisition:qa,iStockRenderFederatedBuyCard:qa});var Xa=(e=H,t)=>(e=Za(e,t),e=$a(e,t)),es=(a(45967),a(74848));const ts=(e,t)=>{const{asset:a,userDetails:s,preferredDownloadSize:i,preferredEpsDownloadSize:n,localePhoneNumber:o,buyCardData:r,categories:l,editable:c,isAiEditable:d,keywordsView:u,metaTags:_,mobileSimplification:p,openInlineCropDefault:m,aiTooltipOpenByDefault:h,aiBundleAcquisition:g,searchPhrase:f,searchScope:w,versionCount:v,hasAvailableCredits:C,iStockRenderFederatedBuyCard:x}=(e=>({...e,asset:O.formatAsset(e.asset),userDetails:M.formatUser(e.userDetails),preferredDownloadSize:O.getPreferredSize(e.buyCardData.preferences),preferredEpsDownloadSize:O.getEpsPreferredSize(e.buyCardData.preferences),iStockRenderFederatedBuyCard:e.istock_render_federated_buy_card}))(t);e.dispatch(De.initializeDataStep(a,s,i,n,o,r,l,c,d,u,_,p,f,w,v,C,m,h,g,x))};var as=({payload:e,children:t,testRecorder:a=null})=>{const s=b(Xa,H);return a&&(a.getState=()=>s.getState()),ts(s,e),(0,es.jsx)(r.Kq,{store:s,children:t})},ss=a(22493),is=a(24156),ns=a(44678),os=a(99298),rs=a(84182),ls=a(60471),cs=a(47950),ds=a(53555),us=a(65232),_s=a(32989),ps=a(10706),ms=a(32485),hs=a.n(ms),gs=a(21609),fs=a(47006),ws="VDzX9MWo7Jy76Ia4dE9m",vs="YPQCGu7gndaNSl8cuVn1";var Cs=()=>{const e=(0,fs.c)();return(0,es.jsx)("div",{className:ws,"data-testid":"istock-exclusive",children:(0,es.jsx)("span",{className:vs,children:e("only_from_istock")})})},xs=a(30827),As={"primary-cta":"YbpuH7CkPhIESGowo1Q9",disabled:"L28c2gmJWs1yMH3AjxoW","super-cta":"vOX1VynZqz1v4tIn9QrP","secondary-cta":"Lx_uvy_XElfmCvAcoXqH","hollow-cta":"a1qsZfxxk9dn7XnsBf9s",hover:"yUsrxEFHZNHNm3uvWpBX","lighten-hover":"lU5PifIvmm_45fy1R6pQ","dark-bg":"AiDvDkNtKkVLtzEffXGQ",medium:"VQCb0XRI76gNzemtDV8o",small:"JeW7ScptXtUoRpPfKoqd",container:"joIgTze8LoZhPLYehveb",showFullTitleButton:"C0CjYHgw6FgbnLLimpoR",keywords:"CWxe2yRqh65OeYT7izLo",title:"Nff30sanPT4VmNvQRLrZ",onlyFromIstock:"mhlAtTwRPa6wrDeuT8TF"};var bs=({keywords:e})=>{return(0,es.jsx)("div",{className:As.keywords,children:(0,es.jsx)("h2",{"data-testid":"keywords",children:(t=e,t.slice(0,5).map(e=>e.text).join(", "))})});var t};var Ts=({asset:e,className:t})=>{const a=(0,fs.c)(),{title:i,keywords:n,isImage:o,isIllustration:r,isFilm:l,isIstockExclusive:c,filmDefinition:d}=e,[u,_]=(0,s.useState)(!1),p=(0,gs.h)(a,d);return(0,es.jsxs)("section",{className:hs()(As.container,t),"data-testid":"asset-title",children:[(0,es.jsxs)("div",{className:As.title,children:[c&&(0,es.jsx)("div",{className:As.onlyFromIstock,"data-testid":e.assetId,children:(0,es.jsx)(Cs,{})}),(0,es.jsxs)(xs.Ay,{component:xs.QY.H1,variant:xs.PT.body.large,"data-asset-id":e.assetId,className:As.titleHeading,children:[i?r?a("attributes.seo_title_illustrations",{title:i}):o?a("attributes.seo_title_photos",{title:i}):l?a("seo_film_title",{title:i,film_definition:p}):i:"",!u&&(0,es.jsx)("button",{type:"button",className:As.showFullTitleButton,title:a("see_full_title"),onClick:()=>_(!0),children:(0,es.jsx)("span",{children:"..."})})]})]}),u&&(0,es.jsx)(bs,{keywords:n})]})},Es="mcDi9dTX8v43_FDKC5Aq",Ss="RfLtUDCA_wjiljNM7EYt",ys="o2s4_pcVjYSF3ZAifdJW",Ns="fqMtL00yKFws_ofUxTRe",Is=a(82575),js=a(80371);var Ds=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.asset.isImage),a=(0,r.d4)(e=>e.buyCardData.orderId),i=(0,r.d4)(e=>e.userDetails.subscription_upgrade),n=(0,Is.F)().cleanPath("/account"),o=e(i?"subscription_was_upgraded":"asset_purchase_thank_you"),l=(0,s.useMemo)(()=>{const s=t?"image":"video",o=i&&!a?e("image_purchase_locate_upgrade_perb"):e(`${s}_purchase_locate`,{zero:a,links:[n]}),r=[e(`${s}_purchase_desired_size`),e(`${s}_purchase_download`),o];return(0,es.jsx)("ol",{"data-testid":`thank-you-${s}-steps`,children:r.map((e,t)=>2!==t?(0,es.jsx)("li",{children:e},e):(0,es.jsx)("li",{children:(0,es.jsx)(js.A,{children:e})},e))})},[t,a,i]);return(0,es.jsxs)("div",{className:"confirmation-text",children:[(0,es.jsx)("h2",{className:"main-thanks","data-testid":"main-thanks",children:o}),l,a&&(0,es.jsx)("p",{className:Ns,"data-testid":"invoice",children:(0,es.jsx)(js.A,{children:e("invoice_available_time",{zero:"</a><b>",one:"</b>",links:[n]})})})]})};var Os=()=>{const[e,t]=(0,s.useState)(!1),a=e?Ss:"";return(0,es.jsxs)("section",{className:`inline-purchase ${a}`,id:Es,children:[(0,es.jsxs)("div",{className:ys,children:[(0,es.jsx)("button",{type:"button",className:"close-button",id:"close-inline-purchase",onClick:()=>t(!0)}),(0,es.jsx)(Ds,{})]}),e?null:(0,es.jsx)("button",{type:"button",className:"grey-out",onClick:()=>t(!0)})]})},Ps=a(16350),Rs=a(20060),ks=a(29452),Ls={searchBar:"zwa9MBU6rVPHPpS_Fg8t"};const Fs=(0,Ps.A)("search_bar","./SearchBar");var Us=()=>{const e=((e,t)=>({options:{hideOnScroll:!0,mobileMediaFilter:!0,peekyScroll:!0},searchParameters:{assettype:t||e.assetType,assetfiletype:e.isVector?"eps":null,family:e.assetFamily}}))((0,r.d4)(e=>e.asset),(0,r.d4)(e=>e.searchScope)),t=(0,Rs.Jd)(),a=(0,ks.Z)();return(0,es.jsx)("div",{className:Ls.headerSearchBar,children:(0,es.jsx)(Fs,{config:e,user:t,siteName:a.nickname,locale:t.locale})})},Bs=a(59892),Ms="hPYyM1yPOdFVBGY62IMZ",zs="Dp5Wa0jWNa_AjJEso01Z",Ws="sLpiFUupbXyYmqcfv7zr",Hs="j87pnJr83w1QYQAgDNps",Vs="CibAI2w6sPHFQwYU0vr6",Gs="H_yJm6MY32aIs5OKKP8L",Ys="YL6NAWO3Y2FUpbullA12",Ks="pAyfNrZR1Tr3C52VGKph";var Qs=({category:e})=>{const t=(0,rs.Z)();return(0,es.jsx)("a",{onClick:()=>{const a=(0,Bs.A)({event_name:"search_by_category",search_selection:e.text,ui_element_location:"category_list"});(0,u.C)(a),t.sendAdpCategoryBrowseClickSignal()},className:Ks,"data-testid":"categoryPill",href:e.href,itemType:"http://schema.org/relatedLink",children:e.text})};var Js=()=>{const e=(0,r.d4)(e=>e.categories?.categoriesView?.matchingInspirePages?._tail?.array)||[],t=(0,r.d4)(e=>e.categories?.showRelated)||!1,a=(0,r.d4)(e=>e.categories?.relatedCategories?._tail?.array)||[],s=(0,r.d4)(e=>e.asset),i=(0,fs.c)(),n=t?[...e,...a]:e,o=(()=>{if(0===n.length)return[];return n.map(e=>(0,es.jsx)("li",{className:Ys,children:(0,es.jsx)(Qs,{category:e})},e.text))})();return o.length>0?(0,es.jsx)("section",{className:hs()(Ms),"data-testid":"inspire-page-list",children:(0,es.jsxs)("div",{className:hs()(Hs,{[zs]:s.isImage,[Ws]:s.isFilm}),children:[(0,es.jsx)("h2",{className:Vs,children:i("categories_no_colon")}),(0,es.jsx)("ul",{className:Gs,children:o})]})}):null};var Zs=({errorType:e=null})=>{const t=(0,fs.c)();return e?(0,es.jsx)("section",{className:"error",children:(0,es.jsx)("div",{className:"error-bar",children:(0,es.jsx)("span",{children:t("download_failed")})})}):null},qs=a(79198),$s=a(24128),Xs="SEwV6baDBkP5NEdlpYo8",ei="URSygCCDodymwIUEwuiV",ti="Umg0Lf4lfEcMK0Cteisb",ai="Hwp1ccDOtPv1XziTsRHK",si="PRpjX7GL4GF5ioMTstrZ",ii="IG4EEbXI1jO2yIfqHB9g",ni="mxi_e5NLCq9Ngs0jfE1K",oi="V909C643B5cYLQBWvSng",ri="HSFQTXT7e2w5ddI6IOYa",li="fClZbmMInwxZC_TGeNLU";var ci=({keyword:e})=>{const t=(0,fs.c)(),a=(0,qs.m)(),s=(0,Rs.Jd)(),i=(0,$s.Cz)(),n=(0,r.d4)(e=>e.asset.assetType),o=(0,r.d4)(e=>e.asset.mediaType);let l=t("photos"),c=null;"film"===n&&(l=t("videos")),"illustration"!==o&&"photo_and_illustration"!==o||(l=t("illustrations"),c="illustration");const d=e.text.replace(l,"").trim(),_={assettype:n,phrase:d,mediatype:c},p=i.seoSearchPath(_);return(0,es.jsxs)("a",{onClick:()=>{a.prepareEvent("search",{element_location:"keyword_button_adp",search_tools:"ADP_Keyword_Browse_Click"});const e=(0,Bs.A)({event_name:"search_by_keyword",search_selection:d,ui_element_location:"keyword_list"});(0,u.C)(e)},className:oi,href:p,"data-search-bot":s.isBot?"Bot":"NotBot","data-search-link":"film"===n?"FilmKeywordLink":"KeywordLink",itemType:"http://schema.org/relatedLink",children:[e.text,(0,es.jsx)("span",{className:ri,children:","})]})};var di=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.keywordsView),a=t?t?.list?.toArray():[],[i,n]=(0,s.useState)(!1),o=(0,r.d4)(e=>e.asset),l=e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(!0))},c=()=>{if(0===a.length)return[];const t=a.map((e,t)=>{const a=(0,es.jsx)("li",{className:ni,children:(0,es.jsx)(ci,{keyword:e})},e.text);return!i&&t>=18?null:a});if(!i){const a=(0,es.jsx)("li",{className:ni,children:(0,es.jsx)("div",{"data-testid":"show-all-button",role:"button",tabIndex:0,className:li,onKeyDown:l,onClick:()=>n(!0),children:e("see_all_keywords")})},"show-all");t.push(a)}return t};return a.length>0?(0,es.jsx)("section",{className:Xs,"data-testid":"keyword-list",children:(0,es.jsxs)("div",{className:hs()(ai,{[ei]:o.isImage,[ti]:o.isFilm}),children:[(0,es.jsx)("h2",{className:si,children:e("keywords")}),(0,es.jsx)("ul",{className:ii,children:c()})]})}):null},ui=a(59192),_i="B4KEviCm42uMBSW_B_Kp",pi="zwnMEALmVf6MyHMPuvW6",mi="cdzy2U0gNr1eIfvL4L9e",hi="gDuNdVs5rYnfIwiWKqc1",gi="WUGQPZI1tyTSeIirGBFq",fi="nlhwM1k0WZaY5IKObbnO",wi="g1J_jxXrcQobf0HBDQt_",vi="_Ieg7TF6BO4JL9LdShJB",Ci="XZw8pT0J518AFsuBIyBv",xi="DRYYsGfExOHrmnVU0fIR",Ai="bzSq1fDKEbiYfyHiSD2O",bi="JtBt0T2z0pMQTpDCebXw";var Ti=()=>{const e=(0,fs.c)(),t=(0,Rs.Jd)(),a=(0,Is.F)(),s=(0,$s.Cz)(),n=(0,r.d4)(e=>e.asset.keywords),o=(0,r.d4)(e=>e.asset.assetType),l=(0,r.d4)(e=>e.asset.category),c=(0,r.d4)(e=>e.asset.mediaType),d=n?.first()?.text,u={assettype:o,phrase:d};"illustration"===c&&(u.mediatype=c);const _=`<a href=${s.searchPath(u)}>${d}</a>`,p=n.size>0?e("rf_licenses_features",{keyword_link:_}):e("rf_licenses_features_no_link"),m=e("rf_licenses_best_option",{links:[{href:a.photos()},{href:a.illustrations()},{href:a.video()}]}),h=n.size>0?e("rf_possibilities",{keyword_link:_}):e("rf_possibilities_no_link"),g={links:[{href:a.royaltyFreeImages()},{href:a.faqUsingFiles(l)}]},f=e((e=>{switch(e){case ui.A.ILLUSTRATIONS:return"learn_more_about_faq_illustrations";case ui.A.VIDEOS:return"learn_more_about_faq_videos";default:return"learn_more_about_faq_photos"}})(l),g),w=[{question:"what_is_a_rf_license",answer:p},{question:"what_kinds_rf_files_istock",answer:m},{question:"how_to_use_rf_assets",answer:h}];return t.isBot||t.isFirstTimeVisitor?(0,es.jsx)("section",{className:_i,children:(0,es.jsx)("div",{className:hs()(hi,{[pi]:"image"===o,[mi]:"film"===o}),children:(0,es.jsxs)("div",{className:gi,children:[(0,es.jsx)("h2",{className:fi,children:e("frequently_asked_questions_capitalized")}),(0,es.jsx)("hr",{className:wi}),(0,es.jsx)("dl",{className:xi,children:w.map(({question:t,answer:a})=>(0,es.jsxs)(i().Fragment,{children:[(0,es.jsx)("dt",{className:Ai,children:e(t)}),(0,es.jsx)("dd",{className:bi,children:(0,es.jsx)(js.A,{children:a})})]},t))}),(0,es.jsx)("hr",{className:vi}),(0,es.jsx)("p",{className:Ci,children:(0,es.jsx)(js.A,{children:f})})]})})}):null},Ei=a(9975);const Si=(e,t)=>e.filter(e=>e.id!==t),yi=e=>e.map(e=>new Promise(t=>{const a=new Image;a.onload=()=>{t(a)},a.onerror=()=>{t()},a.src=e.thumb612Url||e.thumbUrl})),Ni=e=>Promise.all(e).then(e=>e.filter(e=>e));var Ii=a(3271),ji=a(65235),Di=a(71432);const Oi=e=>{(0,u.C)(e)},Pi=(e,t,a)=>{e.sendItemSelectedSignal("subfold",a,"view_all_grid"),t.prepareEvent("search",{ui_element_location:`view_all_${a}_overlay_adp`});const s=(0,Bs.A)({event_name:`search_${a}`,search_selection:"view_all_asset_overlay_cta",ui_element_location:"mosaic_grid"});Oi(s)},Ri=(e,t,a,s,i)=>{const n=t.assetId??t.id,o=(0,Bs.A)({event_name:`${s}_click`,search_selection:n,ui_element_location:"mosaic_grid",search_grid_slot_number:a}),r=(0,Di.A)({asset_interaction:"select_asset",asset_id:n,asset_type:"film"===t.assetType?"video":"image",asset_family:t.assetFamily,istock_collection:t.istockCollection,search_grid_slot_number:a,ui_element_location:i});var l;l=r,(0,u.C)(l),Oi(o),e.sendItemSelectedSignal("subfold",s,n)};var ki={placeholderHeight:"W8CxRcr70f7xIKV23QeW"},Li=a(64405);const Fi=(0,ji._h)({asyncImport:e=>Promise.resolve().then(a.bind(a,64405)),chunkName:e=>"MosaicGrid-MosaicGrid",options:{}}),Ui=()=>(0,es.jsx)("div",{className:ki.placeholderHeight,"data-testid":"mosaic-grid-placeholder"});var Bi=(0,Ii.A)(({increaseGridCounter:e,addTrackedGrid:t})=>{const a=(0,fs.c)(),i=(0,rs.Z)(),n=(0,qs.m)(),{assetId:o,assetType:l,isImage:c,stackId:d}=(0,r.d4)(e=>e.asset),[u,_]=(0,s.useState)(null);(0,s.useEffect)(()=>{const a={id:o,stackId:d,assettype:l,pagesize:5};let s=!0;return d&&(e(),async function(e){try{const t=await E().get(`/asset-detail/mosaics/get-stack/${e.stackId}?assettype=${e.assettype}&pagesize=${e.pagesize}`,{headers:{Accept:"application/json"}}),a=Si(t.data.assets,e.id),s=yi(a),i=Ni(s);return{assets:(await i).slice(0,e.pagesize-1).map((e,t)=>({...a[t],image:e.src})),totalNumberOfResults:t.data.totalNumberOfResults}}catch(e){return{assets:[],totalNumberOfResults:0}}}(a).then(e=>{if(s){_(e);const a=c?"same_series_images":"same_series_videos";t(e?.assets?.length>0?a:null)}}).catch(e=>{})),()=>{s=!1}},[]);return(0,es.jsx)(es.Fragment,{children:d&&0!==u?.assets.length?u?u.assets.length>0?(0,es.jsx)(Fi,{data:u,isImage:c,containerStyles:ki,header:a(c?"same_series_images":"same_series_videos"),linkText:a(c?"view_all_photos":"view_all_video_clips"),viewAllUrl:`/search/stack/${d}?assettype=${c?"image":"film"}`,overlayText:a(c?"photos":"videos"),tracking:(p="same_series_"+(c?"images":"videos"),{trackViewAllOverlay:()=>{Pi(i,n,p)},trackAssetClick:(e,t,a)=>{Ri(i,e,t,p,a)}}),inGridCount:4,gridType:Li.MOSAIC_GRID_TYPES.SINGLE_ROW}):null:(0,es.jsx)(Ui,{}):null});var p},"similar_series"),Mi={placeholderHeight:"SwDU7wCnU084fMdRqraS"};const zi={image:"similar_images",film:"similar_videos",videotemplate:"similar_templates"},Wi={image:"view_all_photos",film:"view_all_video_clips",videotemplate:"view_all_templates"},Hi=(0,ji._h)({asyncImport:e=>Promise.resolve().then(a.bind(a,64405)),chunkName:e=>"MosaicGrid-MosaicGrid",options:{}}),Vi=()=>(0,es.jsx)("div",{className:Mi.placeholderHeight,"data-testid":"mosaic-grid-placeholder"});var Gi=(0,Ii.A)(({increaseGridCounter:e,addTrackedGrid:t})=>{const a=(0,fs.c)(),i=(0,rs.Z)(),n=(0,qs.m)(),o=(0,$s.Cz)(),{assetId:l,assetType:c,mediaType:d,isImage:u}=(0,r.d4)(e=>e.asset),_=(0,r.d4)(e=>e.searchPhrase),p=(0,r.d4)(e=>e.searchScope),[m,h]=(0,s.useState)(null),g=(0,s.useCallback)(()=>zi[c],[c]),f=(0,s.useCallback)(()=>Wi[c],[c]);(0,s.useEffect)(()=>{const a={assetid:l,assettype:c,mediatype:d};_&&"image"===c&&(a.phrase=_);let s=!0;const i=g();return e(),async function(e){try{const t=Ei.A.appendQueryParamsToString("/asset-detail/mosaics/visual-search",e),a=await E().get(t,{headers:{Accept:"application/json"}}),s=Si(a.data.assets,e.id),i=yi(s),n=Ni(i);return{assets:(await n).map((e,t)=>({...s[t],image:e.src})),totalNumberOfResults:a.data.totalNumberOfResults}}catch(e){return{assets:[],totalNumberOfResults:0}}}(a).then(e=>{s&&(h(e),e?.assets.length>0?t(i):t(null))}).catch(()=>{s&&h(null)}),()=>{s=!1}},[l,c,d,_,g,e,t]);const w=e=>({trackViewAll:()=>{((e,t,a)=>{e.sendItemSelectedSignal("subfold",a,"view_all"),t.prepareEvent("search",{ui_element_location:`view_all_${a}_adp`});const s=(0,Bs.A)({event_name:`search_${a}`,search_selection:"view_all_cta",ui_element_location:"mosaic_grid"});Oi(s)})(i,n,e)},trackViewAllOverlay:()=>{Pi(i,n,e)},trackAssetClick:(t,a,s)=>{Ri(i,t,a,e,s)}});return(0,es.jsx)(es.Fragment,{children:(()=>{if(!m)return(0,es.jsx)(Vi,{});if(m.assets.length>0){const e=g();return(0,es.jsx)(Hi,{data:m,isImage:u,containerStyles:Mi,header:a(e),linkText:a(f()),viewAllUrl:o.moreLikeThisPath(l,void 0,{assettype:c}),overlayText:a(e),tracking:w(e),inGridCount:30,gridType:Li.MOSAIC_GRID_TYPES.MULTI_ROW,searchScope:p})}return null})()})},"similar_assets"),Yi="WGRbE8WZo996SQOehFKw";var Ki=()=>{const[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(0),n=(0,s.useCallback)(()=>{i(e=>e+1)},[]),o=(0,s.useCallback)(e=>{t(t=>[...t,e])},[]);return(0,s.useEffect)(()=>{if(a>0&&e.length===a){(e=>{const t=(0,Bs.A)({event_name:"search_grid_shown",search_selection:e,ui_element_location:"mosaic_grid"});Oi(t)})(e.filter(e=>null!==e).join(","))}},[e,a]),(0,es.jsxs)("section",{className:Yi,children:[(0,es.jsx)(Bi,{increaseGridCounter:n,addTrackedGrid:o}),(0,es.jsx)(Gi,{increaseGridCounter:n,addTrackedGrid:o})]})},Qi=()=>({singleDownload:(e,t)=>{(window.tracking_data||{}).download_type="comp download",q.singleDownload(e,t)},setZoomStatus:e=>{(window.tracking_data||{}).adp_is_zoomed=e},setUiElementLocation:e=>null==window.combinedGtmTracking?null:window.combinedGtmTracking.setUIElementLocation(e),setAssetDetailTrackingData:(e,t)=>{const a=window.tracking_data||{};a.asset_details||(a.asset_details={}),a.asset_details[e]=t},setTrackingDataElement:(e,t)=>{(window.tracking_data||{})[e]=t}}),Ji=a(97392),Zi=a(60254),qi=a(53543);const $i={headers:{Accept:"application/json"}};function Xi(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function en(e,t,a){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,a)}function tn(e,t){return e.get(sn(e,t))}function an(e,t,a){return e.set(sn(e,t),a),a}function sn(e,t,a){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:a;throw new TypeError("Private element is not present on this object")}var nn=new WeakMap,on=new WeakMap;class rn{constructor(e){en(this,nn,void 0),en(this,on,void 0),Xi(this,"clearCustomerProfileCache",async()=>{try{const e=`${tn(on,this)}/clear`;if("OK"===(await tn(nn,this).delete(e)).statusText)return}catch(e){}}),an(nn,this,e),an(on,this,"/components/asset-detail/api/customer-profile-cache")}}var ln=()=>{const e=(0,r.wA)(),t=Qi(),a=(0,rs.Z)(),{dropboxEnabled:s}=(0,r.d4)(e=>e.calc.step),{mubRedirectUrl:i}=(0,r.d4)(e=>e.buyCardData),{asset:n}=(0,r.d4)(e=>e),{selectedAssetSize:o,selectedAgreementSize:l,selectedAgreementType:c}=(0,r.d4)(e=>e.calc),{imageIsEdited:d,editDetails:u}=(0,Ji.A)(),{clearEditsPendingForDownload:_}=(0,Zi.A)(),{setShowOverlay:p}=(0,us.A)(),m=(0,qi.V)(),h=(g=m,{get:(e,t={})=>g.get(e,{...t,...$i}),post:(e,t={},a={})=>g.post(e,t,{...a,...$i}),delete:(e,t={})=>g.delete(e,{...t,...$i})});var g;const f=new rn(h),w=async()=>f.clearCustomerProfileCache();return{createDownload:()=>l?(t.setAssetDetailTrackingData("asset_size",o?.name||o?.teeShirtSize),a.sendAssetDownloadedSignal(n,{agreement_type:c}),e(oe(window.korrelationId,i,s,d,_,p,u?.imageState,w))):e(X("download_failed"))}},cn=a(26755),dn="pLhUQBz2v2lu2WDOvh8b",un="KgkDJMLDj3o7j2xpOGIO",_n="_RTktiKqeoEuInoS7UKP",pn="TavLdfarnvyvdISz8552";var mn=()=>{const e=(0,r.wA)(),t=(0,fs.c)(),[a,i]=(0,s.useState)(!0),n=ln(),o=(0,r.d4)(e=>e.buyCardData.orderId),l=(0,r.d4)(e=>e.calc.selectedAgreementSize),c=e=>{const t="close_modal"===e?"modal_cta":"",a=(0,cn.A)({event:e,modal_content:"buy_n_burn",modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:t,modal_selection:"buy_n_burn_modal"});(0,u.C)(a)};(0,s.useEffect)(()=>{a&&l&&(c("modal_shown"),e(te(!0)),n.createDownload())},[l]);return(0,es.jsx)("aside",{children:a&&(0,es.jsx)("div",{className:dn,children:(0,es.jsx)("div",{className:un,children:(0,es.jsxs)("div",{className:pn,children:[(0,es.jsx)("h2",{children:t("thanks_for_your_purchase")}),(0,es.jsx)("p",{children:t("initiated_your_download")}),(0,es.jsx)("div",{children:(0,es.jsxs)("p",{children:[t("confirmation_sent_to_email"),(0,es.jsx)("span",{role:"link",tabIndex:0,children:(0,es.jsx)(js.A,{children:t("view_order_here",{order_id:o,links:[{href:`/sales-order/${o}`,target:"_blank",rel:"noopener noreferrer",id:"order-id-link"}]})})})]})}),(0,es.jsx)("button",{type:"button",className:_n,"data-testid":"buy-and-burn-got-it",onClick:()=>{c("close_modal"),i(!1)},children:t("got_it_cta")})]})})})})},hn=a(98639),gn=a(26357);var fn=()=>{const e=(0,gn.useExperience)("ApplePayPhaseTwo").isActive(),t=(0,gn.useExperience)("MobileApplePay").isActive(),a=e||t,s=(0,r.d4)(e=>e.calc.step.applePayProductEligibility);return{trackApplePayAutofillTest:()=>{if(s&&window.ApplePaySession&&window.ApplePaySession?.canMakePayments()){(e=>{const t=(0,hn.A)({test_type:"ab_test",test_variation:e});(0,u.C)(t)})(a?"apple_pay_autofill-expa":"apple_pay_autofill-control")}}}};var wn=()=>{const e=(0,r.d4)(e=>e.userDetails.ai_bundling_test_variation),t=(0,r.d4)(e=>e.userDetails.video_adp_sku_test_variation),a=(0,r.d4)(e=>e.userDetails.basic_upgrade_test_variation),{trackApplePayAutofillTest:s}=fn();return{trackTests:()=>{[e,t,a].forEach(e=>{e&&((e,t)=>{const a=(0,hn.A)({test_type:t,test_variation:e});(0,u.C)(a)})(e,"ab_test")}),s()}}};var vn=()=>{const e=(0,fs.c)(),t=(0,Is.F)(),a=(0,r.d4)(e=>e.redirectToUrl),s=(0,r.d4)(e=>e.buyCardData.mubRedirectUrl),i=a=>{if(a===s||a.includes("sign-in"))return a;const i=`/${e(a)}`;return(a=>/(.*)JS(%20| )translation(%20| )missing(.*)/.test(a)?t.cleanPath(e("urls.plans_and_pricing")):a)(t.cleanPath(i))};return{redirectTo:e=>window.location.href=e,routeForUrl:()=>i(a),translateCleanAndValidatePath:i}};function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Cn.apply(null,arguments)}var xn=({styles:e={},...t})=>i().createElement("svg",Cn({width:"48",height:"47",viewBox:"0 0 48 47",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M29.078.237c0 5.983 0 5.983 0 0 1.555 11.758 6.066 16.27 19.32 19.32-13.254.059-17.765 4.57-19.32 19.32-1.555-14.75-6.066-19.261-19.32-19.32 13.254-3.05 17.765-7.562 19.32-19.32zM13.805 29.216c0 1.24 0 1.24 0 0 .915 4.639 3.57 7.294 8.52 8.52-4.95.606-7.605 3.261-8.52 8.52-.916-5.259-3.571-7.914-8.52-8.52 4.949-1.225 7.604-3.881 8.52-8.52zM5.14 20.132c0 .741 0 .741 0 0 .547 2.773 2.134 4.36 5.092 5.092-2.958.363-4.545 1.95-5.092 5.093-.547-3.143-2.134-4.73-5.092-5.093 2.958-.732 4.545-2.319 5.092-5.092z"},i().createElement("animate",{attributeName:"opacity",values:"0;1;0.75;0.5;0.25;0",dur:"3s",repeatCount:"indefinite"}))),An=a(98159),bn=a(38420),Tn=a(33335),En=a(96045),Sn="hpUKDJ40f4o06IXYV2Ka",yn="HCW8EUe8ObABqcBffW7R",Nn="QtmtmwyIPT4NslXyrAMT";var In=({asset:e,show:t,closeModal:a=()=>{},trackClick:s=()=>{}})=>{const{watermarkedAlteredImageUrl:i}=(0,Ji.A)(),n={zoomedImageUrl:e.zoomedImageUrl,zoomedWebPUrl:e.zoomedWebPUrl},o=(0,r.d4)(e=>e.metaTags.seoAlt),l=(0,r.d4)(e=>e.metaTags.seoImageTitle),c=e=>{"Enter"!==e.key&&"Escape"!==e.key&&" "!==e.key||(e.preventDefault(),a())},d=e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s())},u=i||n.zoomedImageUrl,_=i?"cropped-img":"img";return t?(0,es.jsxs)("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:c,className:Sn,children:[(0,es.jsx)("div",{role:"button",tabIndex:0,onKeyDown:d,onClick:s,onContextMenu:s,children:(0,es.jsx)("img",{id:"zoom-image","data-testid":_,src:u,alt:o,title:l,className:yn})}),(0,es.jsx)("div",{role:"button",tabIndex:0,className:Nn,onClick:a,onKeyDown:c,children:(0,es.jsx)(En.A,{})})]}):null},jn=a(95399),Dn="LpZzFDltxy3wpZTjDQdK";var On=({showLoadingErrorMessage:e,handleLoadingErrorDismissal:t})=>{const a=(0,fs.c)(),s=(0,es.jsx)(jn.A,{text:a("saved_modifications_couldnt_load_try_again"),handleDismissal:t});return(0,es.jsx)("div",{className:Dn,children:e&&s})};var Pn=()=>{const e=(0,s.useRef)(null),t=(0,r.d4)(e=>e.asset);return(0,s.useEffect)(()=>{(async()=>{const{default:e}=await a.e(7225).then(a.t.bind(a,91685,23));window.videojs=e,await a.e(945).then(a.t.bind(a,15940,23)),await a.e(9019).then(a.t.bind(a,6322,23)),window.pannellumConfig={type:"equirectangular",dynamic:!0,showZoomCtrl:!1,autoRotate:-1,showFullscreenCtrl:!1,autoLoad:!0,hfov:120},e("panorama-video",{plugins:{pannellum:{}}})})()},[]),(0,es.jsx)("div",{"data-testid":"film-360-card",children:(0,es.jsx)("video",{ref:e,id:"panorama-video",poster:t.imageCompUrl,className:"video-js vjs-default-skin vjs-big-play-centered",crossOrigin:"anonymous",controls:!0,preload:"none",autoPlay:!0,children:(0,es.jsx)("source",{src:t.filmCompUrl,type:"video/mp4"})})})},Rn=a(69334),kn=a(30599),Ln="uZAdjRo3DqzKya_BLO20",Fn="mW4sgWHp2Q09DEO8UyrU",Un="Iq1G_a2IQfN_gIV8VKAw";var Bn=({asset:e})=>{const{filmCompUrl:t,orientation:a,actualMaxDimensions:{width:i,height:n},filmPreviewDimensions:{width:o,height:l}}=e,c=(0,r.d4)(e=>e.metaTags.seoImageTitle),d=(0,kn.A)(),u=(0,s.useMemo)(()=>(0,Rn.r)(o,l,i,n,a,d),[o,l,i,n,a,d]);return(0,es.jsx)("div",{className:Ln,"data-testid":"film-card",style:{maxWidth:u.maxWidth},children:(0,es.jsx)("div",{className:Fn,style:{paddingBottom:u.paddingTop},children:(0,es.jsx)("video",{"data-testid":"video-asset",className:Un,src:t,"aria-label":c,controls:!0,controlsList:"nodownload",autoPlay:!0,loop:!0})})})},Mn="PcrWc4pEs1qYQqdVZ1QB",zn="C4Q8XBsi6_IR38Y42RPw";var Wn=()=>{const e=(0,r.d4)(e=>e.asset),t=(0,r.d4)(e=>e.metaTags.seoAlt),i=(0,r.d4)(e=>e.metaTags.seoFilmAlt),n=(0,r.d4)(e=>e.metaTags.seoImageTitle),{assetDimensions:{width:o},assetDimensions:{height:l},galleryComp1024Url:c,galleryHighResCompUrl:d}=e;return(0,s.useEffect)(()=>{document.querySelector("body")?.classList?.add("vr-asset"),(()=>{const e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))})()&&((()=>{const e=document.querySelector("#vr-image"),t=e.getAttribute("height"),a=e.getAttribute("width"),s=document.createElement("div");s.classList.add(zn),s.setAttribute("data-testid","panorama-image"),s.setAttribute("style",`height: ${t}px; width: ${a}px`),s.id="panorama-image",s.alt=i,e.replaceWith(s)})(),a.e(945).then(a.t.bind(a,15940,23)).then(()=>window.pannellum.viewer("panorama-image",{type:"equirectangular",autoLoad:!0,autoRotate:-1,hfov:120,showZoomCtrl:!0,showFullscreenCtrl:!0,preview:c,panorama:d})))},[]),(0,es.jsx)("section",{className:Mn,"data-testid":"image-360-card",children:(0,es.jsx)("img",{className:zn,width:o,height:l,src:c,alt:t,id:"vr-image",title:n,"data-preview":c,"data-ratio":e.ratio,"data-testid":"flat-image","data-alt":i,style:{maxWidth:o,maxHeight:l}})})},Hn=a(90014),Vn=a(90041),Gn=a(91592),Yn=a(51078);function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Kn.apply(null,arguments)}var Qn=({styles:e={},...t})=>i().createElement("svg",Kn({"data-testid":"reset-icon",width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M12.472 14.488c-2.995 1.103-6.312-.463-7.396-3.493h.023l2.702-1.002-3.018-1.826-2.374-1.435-.258-.154L0 12.863l2.608-.96c1.588 4.405 6.406 6.682 10.767 5.075a8.386 8.386 0 003.774-2.799l-2.567-1.05a5.749 5.749 0 01-2.11 1.359zM7.625 1.016a8.333 8.333 0 00-3.774 2.793L6.418 4.87a5.75 5.75 0 012.11-1.358c2.995-1.103 6.306.463 7.396 3.493h-.023l-2.702 1.002 3.018 1.826 2.374 1.435.258.154L21 5.131l-2.608.96C16.804 1.687 11.986-.59 7.625 1.017z",fill:"#0C0D0D"})),Jn=a(20342),Zn=a(82538),qn=a(15896),$n=a(21162),Xn="h4UKA6BrQw5RK6E2L_Og",eo="GIRa2WweKOQkOU5_uT6j",to="KnA6YsYHGRPCaw1dMyc2",ao="JkQPLoUMczU8gs2nBWbT";var so=({open:e=!1,onReset:t=()=>{},onClose:a=()=>{}})=>{const s=(0,$n.I)();return(0,es.jsxs)(Jn.A,{open:e,onClose:a,rootProps:{className:Xn},children:[(0,es.jsx)(Zn.A,{heading:s("want_to_reset_image"),handleClose:a,headingProps:{className:eo}}),(0,es.jsx)(xs.Ay,{component:xs.QY.P,variant:xs.PT.body.medium,className:to,children:s("lose_changes_return_to_original")}),(0,es.jsx)(qn.A,{className:ao,primaryButtonProps:{children:s("yes_reset"),onClick:e=>{t(),a(e)}},secondaryButtonProps:{children:s("cancel"),onClick:a}})]})},io="FhMboLp9MCkuggb6FyZw";var no=({assetId:e,className:t=""})=>{const{setImageFlipX:a,setZoomLevel:i,setTopRotate:n,setBottomRotate:o,setActivePresetAndRatio:r,setCropRatio:l,defaultPreset:c}=(0,Gn.A)(),{setEditDetails:d,setWatermarkedAlteredImageUrl:u,setImageIsEdited:_}=(0,Ji.A)(),[p,m]=(0,s.useState)(!1),h=(0,fs.c)();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(Vn.Ay,{onClick:e=>{e.stopPropagation(),m(!0)},variant:Vn.Jr.HOLLOW,className:hs()(io,t),"data-testid":"edit-reset-badge",children:[(0,es.jsx)(Qn,{}),h("reset")]}),(0,es.jsx)(so,{open:p,onReset:async()=>{o(0),i(0),r(c),n(0),a(!1),l(void 0),_(!1),d(void 0),u(void 0),await(0,Yn.A)({assetId:e,editDetails:{}})},onClose:e=>{e.stopPropagation(),m(!1)}})]})},oo=a(80960),ro="GW_fH8OsNO9e2iKwimSQ",lo="Zh3_F5ZxXWDgRHJRZKEn",co="rSVpB9pALfJy_WiByqZz",uo="zsJV5jRg_M2qx0YU87nB",_o="W18D573ysHxlE5aCCLK2";var po=({asset:{assetId:e,mainImageUrl:t,mainWebPUrl:a,defaultMainImageURL:i,defaultMainWebPURL:n,largeMainImageURL:o,largeMainWebPURL:l},trackClick:c=()=>{},toggleModal:d,imageEditorToolAvailable:u})=>{const _=(0,r.d4)(e=>e.metaTags.seoImageTitle),p=(0,r.d4)(e=>e.metaTags.seoImageTitle),[m,h]=(0,s.useState)(!!a),g=(0,r.d4)(e=>e.versionCount),{watermarkedAlteredImageUrl:f}=(0,Ji.A)(),{setShowLoadingOverlay:w}=(0,us.A)(),v=(0,s.useRef)(null);(0,Hn.A)({assetId:e,imageEditorToolAvailable:u});const C=()=>{c(),d()},x=(0,s.useCallback)(()=>{w(!1)},[w]);(0,s.useEffect)(()=>{const e=v.current;return e&&e.addEventListener("load",x),()=>{null!==f&&e&&e.removeEventListener("load",x)}},[f,x]);const A=!!f&&(0,es.jsx)(no,{className:lo,assetId:e}),b=g&&g>0?(0,es.jsx)(oo.A,{assetId:e,versionCount:g}):null;return(0,es.jsxs)("div",{role:"button","data-testid":"image-card",tabIndex:0,onClick:C,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),C())},onContextMenu:()=>{c(),h(!1)},className:ro,children:[(0,es.jsxs)("div",{className:co,children:[(0,es.jsxs)("picture",{"data-testid":"hero-picture",children:[(0,es.jsxs)(es.Fragment,{children:[f?(0,es.jsx)("source",{srcSet:f,type:"image/png","data-testid":"cropped-image"}):null,m&&!f&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("source",{srcSet:a,media:"(max-width: 1100px)",type:"image/webp"}),(0,es.jsx)("source",{srcSet:n,media:"(max-width: 1530px)",type:"image/webp"}),(0,es.jsx)("source",{srcSet:l,type:"image/webp"})]}),(0,es.jsx)("source",{srcSet:t,media:"(max-width: 1100px)",type:"image/jpeg"}),(0,es.jsx)("source",{srcSet:i,media:"(max-width: 1530px)",type:"image/jpeg"}),(0,es.jsx)("source",{srcSet:o,type:"image/jpeg"})]}),(0,es.jsx)("img",{className:hs()(uo,_o),"data-testid":"image-asset",src:i,alt:p,title:_,fetchpriority:"high",ref:v})]}),b]}),A]})},mo="CN50f7ZCpCIalq1ekeHb",ho="jZidxwl69GDvZHCPrOE2",go="wRiRODv0diNRncJQsDx6";var fo=({asset:e})=>{const{videoTemplatePreviewUrl:t,orientation:a,actualMaxDimensions:{width:i,height:n}}=e,o=e.videoTemplatePreviewDimensions?.width||0,l=e.videoTemplatePreviewDimensions?.height||0,c=(0,r.d4)(e=>e.metaTags.seoImageTitle),d=(0,kn.A)(),u=(0,s.useMemo)(()=>(0,Rn.r)(o||i,l||n,i,n,a,d),[o,l,i,n,a,d]);return(0,es.jsx)("div",{className:mo,"data-testid":"video-template-card",style:{maxWidth:u.maxWidth},children:(0,es.jsx)("div",{className:ho,style:{paddingBottom:u.paddingTop},children:(0,es.jsx)("video",{"data-testid":"video-template-asset",className:go,src:t,"aria-label":c,controls:!0,controlsList:"nodownload",autoPlay:!0,loop:!0})})})};var wo=({asset:e,toggleModal:t,trackClick:a=()=>{}})=>{const{isImage:s,is360Image:i,isFilm:n,isVideoTemplate:o}=e,r=(0,bn.A)(e);return i&&n?(0,es.jsx)(Pn,{}):i?(0,es.jsx)(Wn,{}):s?(0,es.jsx)(po,{asset:e,trackClick:a,toggleModal:t,imageEditorToolAvailable:r}):o?(0,es.jsx)(fo,{asset:e}):(0,es.jsx)(Bn,{asset:e})};function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},vo.apply(null,arguments)}var Co=({styles:e={},...t})=>i().createElement("svg",vo({xmlns:"http://www.w3.org/2000/svg",viewBox:"-15 -15 130 130"},t),i().createElement("path",{d:"M67.35 10.29v4h14.83l-21.2 21.19 2.83 2.83 21.2-21.2v14.84h4V10.29H67.35zM32 14.29v-4H10.34v21.66h4V17.11l21.2 21.2 2.83-2.83-21.2-21.19H32zM85.01 65.24v14.83l-21.2-21.2-2.83 2.83 21.2 21.2H67.35v4h21.66V65.24h-4zM35.54 58.87l-21.2 21.2V65.24h-4V86.9H32v-4H17.17l21.2-21.2-2.83-2.83z"})),xo=a(96987),Ao="AtwoWh9uwnpnqCRLIl2C",bo="MdkGHieOwXwpAl_wkEdA",To="BjBBp_veXXygoPstAACp",Eo="towZ1Uop2A4TJn129vsW",So="lXQR1EReBzpeV8Qv2tvk";var yo=({show:e=!1,toggleModal:t})=>{const a=(0,fs.c)();return e?(0,es.jsx)(xo.A,{className:Eo,"data-testid":"zoom-in-overlay",onClick:t,ariaLabel:a("zoom"),tabIndex:-1,children:(0,es.jsx)("span",{children:(0,es.jsx)(Co,{})})}):null},No=a(58109);const Io="ai-gen-bundle-merchandising";var jo=({fireShowTrackingEvent:e,setIsTooltipOpen:t})=>{const a=(e=>{const t=window?.localStorage?.getItem(e);return t?JSON.parse(t):null})(Io);!0===a?.dismissed?t(!1):(t(!0),e())};const Do=(0,s.createContext)(void 0),Oo=({children:e,isAiEditable:t,aiTooltipEnabled:a,hasAiBundlingAgreement:i,aiTooltipOpenByDefault:n=!0})=>{const[o,r]=(0,s.useState)(null),l=(0,s.useRef)(null);(0,s.useEffect)(()=>{t&&a&&i&&jo({fireShowTrackingEvent:()=>{},setIsTooltipOpen:e=>{e&&n&&(r(No.ux.complementaryAgreement),l.current=No.ux.complementaryAgreement)}})},[]);const c=(0,s.useMemo)(()=>({activeTooltip:o,defaultActiveTooltipRef:l,setActiveTooltip:r}),[o,r]);return(0,es.jsx)(Do.Provider,{value:c,children:e})},Po=()=>{const e=(0,s.useContext)(Do);if(!e)throw new Error("useToolbox must be used within a ToolboxProvider");return e};var Ro=a(53431),ko=a(78534),Lo="CYL0CIhyISR3W381YLD0",Fo=a(95368),Uo=a(49358),Bo="drGxNhteSEQ_qG8Yl4dQ";var Mo=()=>(0,es.jsx)("div",{"data-testid":"onboarding-overlay",className:Bo}),zo=a(86260);const Wo=()=>{window.tracking_data&&(window.tracking_data.merchandising_units=["adp_tools_panel_post_download_intro"])};var Ho=a(20350);var Vo=()=>{const e=(0,r.wA)(),t=(0,r.d4)(e=>e.calc.selectedAgreement);return async()=>{if("RoyaltyFreeSubscription"!==t?.type)return;let a;try{a=await(0,Ho.A)("post_download_onboarding_client")}catch{return}e(De.showPostDownloadOnboarding()),Wo(),a.dismiss()}};var Go=()=>{const e=(0,r.wA)();return()=>{e(De.hidePostDownloadOnboarding())}},Yo="NaahC1ziy3Nr2uQSMa7R",Ko="iLlvQkGa8fJodiPchkcX",Qo="B5RnCRTXPt7zt0bJMZYs",Jo="DpWcC0itdlVpzi2skTeg",Zo="wJcIVyXNfjoXg01Tt3Hl";var qo=({src:e,thumbnailSrc:t,alt:a})=>{const[i,n]=(0,s.useState)(!1);return(0,es.jsxs)("div",{className:Yo,children:[(0,es.jsx)("video",{"data-testid":"video",className:hs()(Ko,i?Jo:Zo),autoPlay:!0,loop:!0,src:e,onLoadedData:()=>n(!0)}),(0,es.jsx)("img",{"data-testid":"thumbnail",className:hs()(Ko,Qo,i?Zo:Jo),src:t,alt:a})]})},$o=a.p+"static/post-download-onboarding-thumbnail-b24582a54bb3ac2018b9.png",Xo="xIhrlhuzF6XVNww1ypwP",er="vWi6lYf6Ph93XU5LIPYD",tr="_faISHQMNzE8gUrJK9dT",ar="mAl2VgAEyTTTfipyK16Y",sr="MWCldc4wJKm_Ev1yDds1";const ir=["KO","NL","PL","PT-BR","PT-PT","RO","RU","SV","TH","TR","UK","VI","ZH-HK","CS","DE","EN-US","ES","FI","FR","HU","ID","IT","JA"];var nr=({children:e})=>{const t=(0,fs.c)(),a=(0,zo.Y)(),s=Go(),i=(e=>{const t=e.toUpperCase();return ir.includes(t)?`https://static.istockphoto.com/display-sets/istock/adp/${t}.mp4`:"https://static.istockphoto.com/display-sets/istock/adp/EN-US.mp4"})(a);return(0,es.jsxs)("div",{"data-testid":"post-download-onboarding",className:Xo,children:[e,(0,es.jsxs)("div",{className:er,children:[(0,es.jsx)(En.A,{"data-testid":"close-icon",className:sr,onClick:s}),(0,es.jsx)("div",{className:tr,children:t("save_content_to_boards")}),(0,es.jsx)(qo,{src:i,thumbnailSrc:$o,alt:t("save_your_favorite_images_and_videos")}),(0,es.jsx)("div",{className:ar,children:t("save_your_favorite_images_and_videos")})]})]})};function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},or.apply(null,arguments)}var rr=({styles:e={},...t})=>i().createElement("svg",or({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16.1",height:"16.2"},t),i().createElement("path",{fill:"#353838",d:"M16.1 7.4H8.8V.1H7.3v7.3H0v1.5h7.3v7.3h1.5V8.9h7.3z"}));function lr(){return lr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},lr.apply(null,arguments)}var cr=({styles:e={},...t})=>i().createElement("svg",lr({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17"},t),i().createElement("path",{d:"M7.734-.001h1.531V0H7.734z"}),i().createElement("path",{fill:"#474747",d:"M15.16 7.735H-.001v1.53h7.735v.001h9.267V7.734z"})),dr=a(21200),ur=a(68282);var _r=({assetIsInBoard:e})=>{const t=(0,fs.c)();return e?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("div",{className:ur.A.boardsActive,"data-testid":"saved",children:[(0,es.jsx)(dr.A,{}),t("saved")]}),(0,es.jsxs)("div",{className:ur.A.boardsRemove,"data-testid":"remove",children:[(0,es.jsx)(cr,{}),t("remove")]})]}):(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(rr,{})," ",t("save")]})};var pr=({children:e,onClick:t=()=>{},greenBorder:a=!1,testid:s="button",disabled:i=!1})=>(0,es.jsx)("button",{"data-testid":s,onClick:t,type:"button",className:hs()(ur.A.button,{[ur.A.button__greenBorder]:a}),disabled:i,children:e});var mr=({asset:e})=>{const{boards:t,addAsset:a,removeAsset:s}=(0,o.bH)(),{addToaster:i}=(0,Uo._k)(),n=t.isAssetInBoard(e),l=(0,rs.Z)(),c=(0,r.d4)(e=>e.postDownloadOnboarding),d="adp_tools_panel_top",_=(0,es.jsxs)(pr,{disabled:!t.defaultBoard,onClick:()=>{if(n){const a=(0,Fo.A)({event:"remove_from_board",ui_element_location:d,board_interaction:"remove_single_asset_from_board",asset_id:e.assetId,asset_type:e.assetType,asset_family:e.assetFamily,license_models:e.licenseType});s(t.defaultBoard.id,e.id),(0,u.C)(a),l.sendBoardItemRemovedSignal(e,t.defaultBoard.id)}else{const s=(0,Fo.A)({event:"add_to_board",ui_element_location:d,board_interaction:"add_to_existing_board",asset_id:e.assetId,asset_type:e.assetType,asset_family:e.assetFamily,license_models:e.licenseType});a(t.defaultBoard.id,e.id),(0,u.C)(s),l.sendAssetAddedToBoardSignal(e,t.defaultBoard.id)}i((0,es.jsx)(o.FW,{uiLocation:d,theme:"istock",asset:e}))},greenBorder:c,testid:"boards-button",children:[(0,es.jsx)("div",{className:ur.A.boardsTooltip,children:(0,es.jsx)(o.MS,{uiLocation:d,theme:"istock",asset:e,modal:(0,es.jsx)(o.ho,{uiLocation:d,theme:"istock",asset:e})})}),(0,es.jsx)(_r,{assetIsInBoard:t.isAssetInBoard(e)})]});return c?(0,es.jsx)(nr,{children:_}):_},hr=a(15834),gr=a(36653),fr=a(62431),wr={container:"n7B8b3egBK4l5c9ZCHbt",header:"_PGQGH9sqjPpnrAsL7bg",footer:"vrBaAWeX4oIPR80EIdmQ",body:"bVoZKOGPz95UsEv06gLq",checkbox:"_2i7eNmwGt1BFpKl1CT67"};var vr=({downloadLink:e,trackDownload:t,isFilm:a,type:i,asset:n,open:o,onClose:r})=>{const[l,c]=(0,s.useState)(!1),d=(0,fs.c)(),{watermarkedAlteredImageUrl:_}=(0,Ji.A)(),p=()=>{const e=(0,cn.A)({event:"close_modal",modal_content:`preview_${i}`,modal_type:"detailed_modal_with_cta",cta_text:void 0,ui_element_location:"modal_x",modal_selection:`preview_${i}_close`});(0,u.C)(e),r()};return(0,es.jsxs)(Jn.A,{open:o,onClose:p,rootProps:{className:wr.container},"data-testid":"preview-modal-container",children:[(0,es.jsx)(Zn.A,{heading:d(a?"try_this_clip":"try_this_image"),handleClose:p,headingProps:{className:wr.headier}}),(0,es.jsx)(xs.Ay,{component:xs.QY.P,variant:xs.PT.body.medium,className:wr.body,children:d(a?"try_this_clip_disclaimer":"try_this_image_disclaimer")}),(0,es.jsx)(fr.A,{id:"hide-preview-license-checkbox",checked:l,onChange:()=>{var e;e=!l,localStorage.setItem("assetDetail.hidePreviewLicense",e),c(!l)},className:wr.checkboxInput,label:d("download_workflow.dont_show_message")}),(0,es.jsx)(qn.A,{className:wr.footer,primaryButtonProps:{children:d("download"),onClick:()=>{const a=(0,Z.A)({asset_details:{asset_id:n?.id,asset_type:n?.assetType,asset_family:n?.assetFamily},download_method:"comp"}),s=!!_;(0,gr.hC)(e,n?.id,s),(0,u.C)(a),t(`${i}_adp_modal`),r()}},secondaryButtonProps:{children:d("cancel"),onClick:()=>{const e=(0,cn.A)({event:"close_modal",modal_content:`preview_${i}`,modal_type:"detailed_modal_with_cta",cta_text:"cancel",ui_element_location:"modal_cta",modal_selection:`preview_${i}_cancel`});(0,u.C)(e),r()}}})]})};function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Cr.apply(null,arguments)}var xr=({styles:e={},...t})=>i().createElement("svg",Cr({width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("g",{clipPath:"url(.preview-icon)",fill:"#353838"},i().createElement("path",{d:"M15.71 12.15v2.91H1.5v-2.91H0v4.41h17.21v-4.41zM13.6 6.33l-1.06-1.06-3.18 3.18V0h-1.5v8.61L4.68 5.43 3.62 6.5l4.9 4.9z"})));var Ar=({asset:e})=>{const t=(0,fs.c)(),a=(0,rs.Z)(),{watermarkedAlteredImageUrl:i}=(0,Ji.A)(),{showLoadingOverlay:n}=(0,us.A)(),o="film"===e.assetType,r=o?"video":"image",l=(0,hr.A)(),[c,_]=(0,s.useState)(!1),p=n,m=e.defaultMainImageURL?(0,gr.m1)(e.defaultMainImageURL):null,h=(0,gr.vh)({asset:e,watermarkedAlteredImage:i,compUrl:m}),g=()=>{a.sendAssetCompDownloadedSignal(e)};return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(pr,{onClick:()=>{const e=(0,d.A)({cta_interaction:"preview_asset_cta_clicked",cta_text:"try",cta_url:h,ui_element_location:l});"true"===localStorage.getItem("assetDetail.hidePreviewLicense")?(g(),(0,gr.hC)(h)):_(!0),(0,u.C)(e)},testid:"preview-button",disabled:p,children:[(0,es.jsx)(xr,{}),t("try")]}),c?(0,es.jsx)(vr,{downloadLink:h,trackDownload:g,isFilm:o,type:r,asset:e,open:c,onClose:()=>_(!1)}):null]})};var br=({asset:e})=>(0,es.jsxs)(Ro.A,{flexDirection:ko.Qy.ROW,children:[(0,es.jsx)(mr,{asset:e}),(0,es.jsx)(Ar,{asset:e})]}),Tr=a(75923),Er=a(82390),Sr="cPdU3G8herajVSGOxRIF",yr="iOqeYjsbczC9OjHrgUNv",Nr="o30QxsQQ7QbektZxU64Q",Ir="r0BSs58td5DE2hYSAFbu",jr="Ss7PujCzVZMXnjr4PQFt";var Dr=({className:e,isAiEditable:t,componentRefs:a,children:i})=>{const{defaultActiveTooltipRef:n,setActiveTooltip:o}=Po(),r=(0,s.useRef)(null),l=e=>{(e=>{const t=(0,Er.A)({carousel_interaction:`carousel_scroll_${e}`,ui_element_location:"adp_tools_panel_modify"});(0,u.C)(t)})(e),n.current&&o(null),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{o(e=>e??n.current??null)},500)};return(0,s.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),(0,es.jsx)(Tr.A,{className:hs()(Sr,e),leftNavClassName:Ir,rightNavClassName:jr,itemContainerClassName:hs()(yr,{[Nr]:!t}),childRefs:a,onLeftClick:()=>l("left"),onRightClick:()=>l("right"),children:i})},Or=a(93430),Pr=a(85889),Rr={toolbarButton:"c5WrfdS4kGS0pdie7SfL",isActive:"FbmaqpTZsU3LV6WcdDyg",starsIcon:"cImpxHZqpzxtJ3da3Jmg"};const kr=(0,s.forwardRef)(({"data-testid":e,href:t,icon:a,labelTag:s,trackingHref:i,onClick:n=()=>{},isActive:o=!1,isTargetBlank:l=!1,showIconStars:c=!1,tooltipType:_},p)=>{const m=(0,fs.c)(),{defaultActiveTooltipRef:h,setActiveTooltip:g}=Po(),f=(0,r.d4)(e=>e.userDetails.has_ai_generations),w=!(!t||_)||f,v=hs()(Rr.toolbarButton,{[Rr.isActive]:o}),C=e=>{(()=>{const e=(0,d.A)({cta_interaction:"cta_clicked",cta_text:s,cta_url:i??t,ui_element_location:"adp_tools_panel_modify"});(0,u.C)(e)})(),!_||f?n(e):(e.preventDefault(),g(_),h.current=_)},x=(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(a,{showStars:c,starsClassName:Rr.starsIcon}),(0,es.jsx)("span",{className:Rr.buttonLabel,children:m(s)})]});return w?(0,es.jsx)(Pr.A,{target:l?"_blank":"_self",rel:"noopener noreferrer nofollow","data-testid":e,ref:p,href:t,onClick:C,className:v,children:x}):(0,es.jsx)(Vn.Ay,{"data-testid":e,ref:p,onClick:C,className:v,children:x})});kr.displayName="ToolboxButton";var Lr=kr;const Fr=(0,s.forwardRef)(({assetId:e},t)=>{const a=`${(0,Is.F)().editImagePath(e)}?tab=text`;return(0,es.jsx)(Lr,{"data-testid":"toolbox-add_text",ref:t,icon:Or.A,labelTag:"add_text",href:a,isTargetBlank:!0})});Fr.displayName="AddTextButton";var Ur=Fr,Br=a(36572),Mr="AYxSehwhMxLiWj4GcQxI",zr="Ts7phxpybsGGNCW9V2aR",Wr="HfIUdFVAR3fkTuD4RYxc",Hr="ASlr5ajjka3L1DJySznc",Vr="Yu2qWvKHB_HiNHJaTV8U",Gr=a(4925),Yr=a(19496),Kr="wIqzd6ROYdiW2M4KHodv",Qr="N6cOVS6Xqij1R4k25D2r",Jr="JoWlOUjytp5IexLQqCCw",Zr="VFyHJKnwL6y3Udaf4nZC",qr="iS9RYZqYmyIXyJDd8yII",$r="nDcXHbF4lGZJmfvYOBLU",Xr="d2ofLy0DtByySCXksKOA",el="SVHcNJwkc3aLJw1YIHwx",tl="PjTNVBldqhURNLYnBokQ",al="aaNrqOgcu0JZOYce_8_J",sl=a(85048),il=a(73588),nl="v_VLKadlUMjeVlu0G3hb";var ol=({onClick:e,className:t})=>{const a=(0,Is.F)(),s=(0,fs.c)(),i=(0,r.d4)(e=>e.userDetails.show_ai_bundling_offer),n=a.aiLandingModification(),o=i?(0,es.jsxs)(es.Fragment,{children:[s("ai_learn_more"),(0,es.jsx)(il.A,{})]}):s("learn_more_arrow");return(0,es.jsx)(Pr.A,{href:n,"data-testid":"tooltip-learn-more",className:hs()(nl,t),onClick:e,children:o})},rl="pY9ed5rhxH0iSLLwkdjC",ll="YrWMCKzShihEQaNcbdrr",cl="HCdJe4jLTaYhvU4IKHQo",dl=a(93864);var ul=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.userDetails.price_book),{price:a}=(0,dl.A)(t),s=e("unlock_all_ai_features",{amount:t?.Count??"",price:a??""});return(0,es.jsx)(xs.Ay,{"data-testid":"tooltip-price",className:"body",variant:xs.PT.body.small,component:xs.QY.SPAN,children:s})};var _l=({showAiBundlingOffer:e})=>{const t=(0,$n.I)();return(0,es.jsx)("div",{className:ll,children:e?(0,es.jsx)("span",{className:cl,children:t("get_all_ai_tools_free",{elements:{span:{component:"span",end:"end_span",props:{className:rl}}}})}):(0,es.jsx)(ul,{})})};var pl=({tooltipContent:e})=>{const t=(0,$n.I)(),a=(0,Rs.Jd)(),{defaultActiveTooltipRef:s,setActiveTooltip:i,activeTooltip:n}=Po(),o=(0,r.d4)(e=>e.asset),l=(0,r.d4)(e=>e.userDetails.price_book),c=(0,r.d4)(e=>e.userDetails.has_ai_generations),d=(0,r.d4)(e=>e.userDetails.show_ai_bundling_offer),u=()=>{i(null),s.current=null},{trackLearnMoreClick:_,trackPrimaryCtaClick:p}=(0,Br.A)(c);if(!n)return null;return(0,es.jsxs)("div",{className:hs()(el,tl),children:[!a.isBot&&(0,es.jsx)(Yr.A,{source:e.videoSource,className:Zr,testId:"ai-tooltip-video"}),(0,es.jsxs)("div",{className:Kr,"data-testid":e.testId,children:[(0,es.jsx)(xs.Ay,{component:xs.QY.P,className:qr,"data-testid":"tooltip-header",children:t(e.title)}),(0,es.jsx)(xs.Ay,{component:xs.QY.P,className:$r,"data-testid":"tooltip-subHeader",children:t(e.subtitle)}),(0,es.jsxs)("div",{className:hs()(Qr,{[Jr]:d}),children:[!c&&(0,es.jsx)(_l,{showAiBundlingOffer:d}),(0,es.jsx)(sl.A,{assetId:o.assetId,dismiss:u,hasAIGenerations:c,showAiBundlingOffer:d,showUnlimitedContent:!0,priceBook:l,onPrimaryCtaClick:()=>{u(),p(n)}}),(0,es.jsx)(ol,{onClick:()=>{u(),_(n)},className:hs()({[al]:d})}),!d&&(0,es.jsx)(xs.Ay,{variant:xs.PT.body.medium,component:xs.QY.P,className:Xr,children:t("daily_generation_limits_apply")})]})]})]})},ml=a(45342),hl="ZZsCMbI00a75OrgrSS2u",gl="h9Lg9HcMDEdl2Bk1ArQh",fl="IFRPURNaXvPBjlWmVIYZ",wl="z_ShSji7kG2fIVe8prZ5";var vl=({tooltipContent:e})=>{const t=(0,$n.I)();return(0,es.jsxs)(Ro.A,{flexDirection:ko.Qy.ROW,justifyContent:ko.fx.CENTER,alignItems:ko.$k.CENTER,className:hl,"data-testid":e.testId,children:[(0,es.jsx)(xs.Ay,{variant:xs.PT.body.small,component:xs.QY.SPAN,className:fl,children:t(e.title)}),(0,es.jsxs)(Ro.A,{flexDirection:ko.Qy.ROW,justifyContent:ko.fx.START,children:[(0,es.jsx)(ml.A,{className:wl}),(0,es.jsx)(xs.Ay,{variant:xs.PT.body.medium,component:xs.QY.SPAN,className:gl,children:t(e.subtitle)})]})]})};const Cl={[No.ux.removeBackground]:{videoSource:"https://static.istockphoto.com/tooltips/background-removal-alt.mp4",title:"remove_backgrounds_in_one_click",subtitle:"say_goodbye_to_manual_editing",testId:"remove-background-tooltip",content:pl},[No.ux.extend]:{videoSource:"https://static.istockphoto.com/tooltips/extend.mp4",title:"extend_images_with_ease",subtitle:"expand_images_and_add_new_areas",testId:"extend-tooltip",content:pl},[No.ux.removeElements]:{videoSource:"https://static.istockphoto.com/tooltips/remove-animation.mp4",title:"remove_elements_with_ease",subtitle:"eliminate_unwanted_elements",testId:"remove-elements-tooltip",content:pl},[No.ux.modify]:{videoSource:"https://static.istockphoto.com/tooltips/replace-object.mp4",title:"modify_images_to_match",subtitle:"add_and_replace_elements",testId:"modify-tooltip",content:pl},[No.ux.complementaryAgreement]:{title:"new_caps",subtitle:"ai_tools_now_included_subscription",testId:"complementary-agreement-tooltip",content:vl,dismissalKey:Io}},xl=(e,t)=>{if(!e)return{};if(!(t&&t.offsetParent&&t.firstChild))return{visibility:"hidden"};return((e,t,a)=>{const s=t.offsetTop+t.offsetHeight;let i;const n=t.getBoundingClientRect().left-e.getBoundingClientRect().left+t.offsetWidth/2-a.offsetWidth/2;if(n<0)i=0;else{const t=e.offsetWidth-a.offsetWidth;i=Math.min(n,t)}return{"--tooltip-top":`${s}px`,"--tooltip-left":`${i}px`,"--tooltip-arrow-left-offset":n-i+"px"}})(t.offsetParent,e,t.firstChild)};var Al=({triggerElement:e})=>{const t=i().useRef(null),{defaultActiveTooltipRef:a,setActiveTooltip:n,activeTooltip:o}=Po(),l=(0,r.d4)(e=>e.userDetails.has_ai_generations),{trackDismissTooltip:c,trackShowTooltip:d}=(0,Br.A)(l),[u,_]=(0,s.useState)(xl(e,t.current)),p=(0,s.useCallback)(a=>{a&&_(xl(e,a)),t.current=a},[e]);if((0,s.useEffect)(()=>{_(xl(e,t.current))},[e]),(0,s.useEffect)(()=>{o&&d(o)},[o]),!o)return null;const m=Cl[o],{content:h,...g}=m;return(0,es.jsx)("div",{ref:p,className:Wr,style:u,"data-testid":"tooltip-wrapper",children:(0,es.jsxs)(Gr.A,{close:()=>{if(m.dismissalKey){const e={timestamp:new Date,dismissed:!0};((e,t)=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}})(m.dismissalKey,e)}c(o),n(null),a.current=null},classNames:{panel:Hr,content:zr,arrow:Mr},children:[(0,es.jsx)("div",{className:Vr}),(0,es.jsx)(h,{tooltipContent:g})]})})},bl=a(31315);const Tl=(0,s.forwardRef)(({asset:e},t)=>{const{showImageEditor:a}=(0,Zi.A)(),{cropFallbackUrl:s,handleCropClick:i}=(0,An.A)();return(0,es.jsx)(Lr,{"data-testid":"toolbox-crop",ref:t,icon:bl.A,isActive:a,labelTag:"crop",onClick:()=>i(e),trackingHref:s(e)})});Tl.displayName="CropButton";var El=Tl,Sl=a(54090);const yl=(0,s.forwardRef)(({assetId:e},t)=>{const a=(0,Is.F)().aiModifyAsset("replace-background",e,"");return(0,es.jsx)(Lr,{"data-testid":"toolbox-remove_background",ref:t,showIconStars:!0,icon:Sl.A,labelTag:"remove_background",href:a,tooltipType:"removeBackground"})});yl.displayName="AiRemoveBackgroundButton";var Nl=yl,Il=a(1149);const jl=(0,s.forwardRef)(({assetId:e},t)=>{const a=(0,Is.F)().aiModifyAsset("extend",e);return(0,es.jsx)(Lr,{"data-testid":"toolbox-extend_image",ref:t,showIconStars:!0,icon:Il.A,labelTag:"extend_image",href:a,tooltipType:"extend"})});jl.displayName="AiExtendImageButton";var Dl=jl,Ol=a(63097);const Pl=(0,s.forwardRef)(({assetId:e},t)=>{const a=(0,Is.F)().aiModifyAsset("refine",e,"?mode=remove");return(0,es.jsx)(Lr,{"data-testid":"toolbox-remove_object",ref:t,showIconStars:!0,icon:Ol.A,labelTag:"remove_object",href:a,tooltipType:"removeElements"})});Pl.displayName="AiRemoveObjectButton";var Rl=Pl,kl=a(62705);const Ll=(0,s.forwardRef)(({assetId:e},t)=>{const a=(0,Is.F)().aiModifyAsset("refine",e,"?mode=replace");return(0,es.jsx)(Lr,{"data-testid":"toolbox-add_or_replace_object",ref:t,showIconStars:!0,icon:kl.A,labelTag:"add_or_replace_object",href:a,tooltipType:"modify"})});Ll.displayName="AiAddOrReplaceObjectButton";var Fl=Ll,Ul="Sji8Un7nEnsZ5dGmUK0g",Bl="qE87YNCm9ZJTfXVYtfmT",Ml="c8E8I0FKDFNs00q4kUcY";const zl=[{Component:Nl,tooltipType:No.ux.removeBackground},{Component:Dl,tooltipType:No.ux.extend},{Component:Rl,tooltipType:No.ux.removeElements},{Component:Fl,tooltipType:No.ux.modify}];var Wl=({isAiEditable:e,asset:t,addComponentRef:a,className:s,tooltipActive:i})=>{const n=(0,r.d4)(e=>e.userDetails.has_active_ai_bundling_agreement)&&i;return e?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{className:hs()(Ul,s)}),(0,es.jsx)(Ro.A,{flexDirection:ko.Qy.ROW,className:hs()(Bl,{[Ml]:n}),ref:e=>a({element:e,index:2,tooltipType:No.ux.complementaryAgreement}),children:zl.map(({Component:e,tooltipType:s},i)=>(0,es.jsx)(e,{ref:e=>a({element:e,index:i+3,tooltipType:s}),assetId:t.assetId},s))})]}):null},Hl="apgNWSnlSiK5NR7ITW1_",Vl="uf09B1ZXnHtnv0csT3oI",Gl="mmn5bEqqmiC4Aitl4CFI";var Yl=({asset:e,isAiEditable:t})=>{const a=(0,s.useRef)([]),{activeTooltip:i}=Po(),n=(0,s.useRef)({}),o=i?a.current[n.current[i]]??null:null,r=({element:e,index:t,tooltipType:s})=>{a.current[t]=e,s&&(n.current[s]=t)};return(0,es.jsxs)("div",{className:Hl,"data-testid":"horizontal-toolbox",children:[(0,es.jsxs)(Dr,{className:Vl,componentRefs:a,isAiEditable:t,children:[(0,es.jsx)(El,{ref:e=>r({element:e,index:0}),asset:e}),(0,es.jsx)(Ur,{ref:e=>r({element:e,index:1}),assetId:e.assetId}),(0,es.jsx)(Wl,{isAiEditable:t,addComponentRef:r,className:Gl,asset:e,tooltipActive:!!i})]}),(0,es.jsx)(Al,{triggerElement:o})]})};var Kl=({asset:e,isAiEditable:t})=>{const a=(0,r.d4)(e=>e.aiBundleAcquisition.eligible),s=e.isImage&&!a;return(0,es.jsxs)(Ro.A,{className:Lo,flexDirection:ko.Qy.COLUMN,alignItems:ko.$k.CENTER,children:[(0,es.jsx)(br,{asset:e}),s&&(0,es.jsx)(Yl,{isAiEditable:t,asset:e})]})};var Ql=(0,Ii.A)(({asset:e})=>{const t=(0,r.d4)(e=>e.isAiEditable),a=(0,r.d4)(e=>e.aiTooltipOpenByDefault),s=(0,r.d4)(e=>e.userDetails.ai_tooltip_enabled),i=(0,r.d4)(e=>e.userDetails.has_active_ai_bundling_agreement);return(0,es.jsx)("div",{className:ur.A.container,"data-testid":"actions-container",children:(0,es.jsx)("div",{className:ur.A.defaultActions,children:(0,es.jsx)(Oo,{isAiEditable:t,aiTooltipEnabled:s,hasAiBundlingAgreement:i,aiTooltipOpenByDefault:a,children:(0,es.jsx)(Kl,{isAiEditable:t,asset:e})})})})},"tools_panel_top"),Jl=a(82854);var Zl=()=>{const[e,t]=(0,s.useState)(!1),a=Qi(),i=()=>{const e=document.querySelector("body");t(!1),e?.classList?.remove("modal-visible")},n=()=>{const e=document.querySelector("body");t(!0),e?.classList?.add("modal-visible")},o=t=>{e&&"Escape"===t.key&&i()};return(0,s.useEffect)(()=>(window.addEventListener("keyup",o),()=>{window.removeEventListener("keyup",o)}),[e]),{open:e,openModal:n,closeModal:i,sendDownloadCompTracking:()=>{const e=(0,Z.A)({asset_details:window.tracking_data?.asset_details,download_method:"comp",is_eps:!1});(0,u.C)(e),a.singleDownload("comp")},toggleModal:()=>{e?i():n()}}};const ql=({asset:e,showLoadingErrorMessage:t,handleLoadingErrorDismissal:a})=>{const{showImageEditor:n,setShowImageEditor:o,setImageEditorHasBeenOpened:l}=(0,Zi.A)(),{isImage:c,is360Image:d,isFilm:u}=e,{open:_,toggleModal:p,sendDownloadCompTracking:m}=Zl(),h=(0,r.d4)(e=>e.postDownloadOnboarding),g=(0,r.d4)(e=>e.openInlineCropDefault),f=(0,bn.A)(e),w=(0,r.d4)(e=>e.metaTags.seoFigCaption),v=i().useRef(null),[C,x]=(0,s.useState)({width:0,height:0});(0,s.useEffect)(()=>{v.current&&x({width:v.current.offsetWidth,height:v.current.offsetHeight}),f&&g&&(o(!0),l(!0))},[]);const A=bo,b=hs()(To,{[So]:"Horizontal"===e.orientation});return n&&e.galleryHighResCompUrl?(0,es.jsx)(Tn.A,{imagePath:e.galleryHighResCompUrl,assetId:e.assetId,initialDimensions:C}):(0,es.jsxs)("section",{className:hs()(Ao,u?b:A),"data-testid":"asset-card",ref:v,children:[h&&(0,es.jsx)(Mo,{}),(0,es.jsx)(On,{showLoadingErrorMessage:t,handleLoadingErrorDismissal:a}),(0,es.jsx)(Ql,{asset:e}),(0,es.jsx)(In,{asset:e,show:_,closeModal:p,trackClick:m}),(0,es.jsxs)("figure",{role:"figure",children:[(0,es.jsx)(wo,{asset:e,trackClick:m,toggleModal:p}),(0,es.jsx)(Jl.A,{caption:w}),(0,es.jsx)(yo,{show:c&&!d,toggleModal:p})]})]})};var $l=(0,s.memo)(ql),Xl=a(36164),ec="Kc9JwI2YW5mYHGPQRM6O",tc="z1JKzkkF_a0arcDx5N2L",ac="buqPSxvK89yYBC_SZuJR",sc="MDNwcPcCmKhoeYGQ4I8w";var ic=({caption:e})=>{const[t,a]=(0,s.useState)(!1),i=(0,fs.c)(),n=()=>{a(!1)},o=i("view_description"),r=i("video_template_description");return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(Vn.Ay,{variant:Vn.Jr.TEXT,onClick:()=>{a(!0)},className:ec,"aria-label":o,children:(0,es.jsx)(xs.Ay,{component:xs.QY.SPAN,variant:xs.PT.body.medium,className:tc,"data-testid":"view-description-text",children:o})}),(0,es.jsxs)(Jn.A,{open:t,onClose:n,children:[(0,es.jsx)(Zn.A,{heading:r,handleClose:n,"data-testid":"modal-header"}),(0,es.jsx)(Xl.A,{className:ac,children:(0,es.jsx)("div",{className:sc,"data-testid":"scroll-container",children:(0,es.jsx)(xs.Ay,{component:xs.QY.P,variant:xs.PT.body.medium,"data-testid":"description-paragraph",children:e})})})]})]})};var nc=({descriptionContent:e,editorialImage:t})=>{const a=(0,fs.c)(),s=(0,r.d4)(e=>e.mobileSimplification),i=(0,r.d4)(e=>e.asset),n=(0,zo.Y)(),o=e&&e.match(/[^\x00-\x7F]+/g),l=["ko","vi"].includes(n),c=o&&o.length>0;return!l||c?t?(0,es.jsx)("section",{className:"editorial-caption","data-testid":"editorial-description-content",children:e}):e?i?.isVideoTemplate?(0,es.jsx)("section",{className:"description "+(s?"simplification-test-margin":""),"data-testid":"video-template-description",children:(0,es.jsx)(ic,{caption:i.caption||e})}):(0,es.jsx)("section",{className:"description "+(s?"simplification-test-margin":""),children:(0,es.jsxs)("div",{className:"section-content",children:[s?(0,es.jsx)("p",{className:"description-header",children:a("file_description")}):(0,es.jsx)("h2",{children:a("file_description")}),(0,es.jsx)("p",{"data-testid":"description-content",children:e})]})}):null:null},oc=a(30134);const rc=function({currUrl:e,pricingClarityOption:t,firstParam:a=!0,assetId:s,applePayDefault:i=!1}){let n,o;if("checkout"===t)o=a?"?":"&";else{o=e.search(/\?/)<0?"?":"&"}return n=s?`fastcheckoutasset=${s}`:"in-pricing-clarity=true",i&&(n+="&applepay=true"),e+=o+n};var lc={getPricingUrl:e=>rc({currUrl:e,pricingClarityOption:"pricing"}),getCheckoutUrl:(e,t,a=!0,s=!1)=>rc({currUrl:e,pricingClarityOption:"checkout",firstParam:a,assetId:t,applePayDefault:s})},cc=a(58469),dc=a(12859),uc=a(59816);var _c=()=>{const e=(0,hr.A)(),t=(0,fs.c)(),a=(0,Is.F)(),s=(0,r.d4)(e=>e.calc.selectedAssetSize),i=(0,r.d4)(e=>e.calc.step.name),n=(0,r.d4)(e=>e.calc.step.ctaAction),o=(0,r.d4)(e=>e.calc.step.ctaTitle),l=(0,r.d4)(e=>e.calc.step.triggerTracking),c=(0,r.d4)(e=>e.calc.step.pricingOption),_=(0,r.d4)(e=>e.buyCardData.pricingClarityPacks),m=_?.[c],{assetId:g,assetType:f,assetFamily:w,category:v,freeFile:C}=(0,r.d4)(e=>e.asset),x=(0,r.d4)(e=>e.calc.selectedAccount===re.TEAM),A=(0,r.d4)(e=>e.userDetails.team_leader),b=(0,r.d4)(e=>e.userDetails.team_member),T=(0,r.d4)(e=>e.calc.step.upsellData),E=(0,r.d4)(e=>e.userDetails.currency_code),S=(0,r.d4)(e=>e.calc.redownloadForFree),y=(0,r.d4)(e=>e.calc.applePayDefault),N=(0,r.d4)(e=>e.calc.assetIsVideo),I=(0,r.d4)(e=>p.R_.includes(e.calc.step.name)?(0,p.LW)(e):null),j=(e=null,t="fast_checkout_option")=>{let a;if(a=e===T?.product_one?.sku?T.product_one:e===T?.product_two?.sku?T.product_two:m,!a)return;const s=y?"adp_buy_card_continue_with_applepay":"adp_buy_card_continue_with_purchase",i={...a.toJS(),location_id:s},n=(0,cc.A)({link_text:o,products:[i],download_flow:t,ui_element_location:s,billing_currency:E||a.currency_code,price:a.final_price?.amount});(0,u.C)(n)},D=()=>{const e=Ae.getCreditsPricingRoute(N),s=`/${t(e)}`;return a.cleanPath(s)};return{track:()=>{let t=null;switch(n){case h.HANDLE_ACCOUNT_SELECTION:t=(0,dc.A)({event_name:"choose_account",member_interaction:"choose_account",member_selection:x?"team_account":"personal_account",ui_element_location:e});break;case h.CREATE_DOWNLOAD:t=(0,uc.A)({download_interaction:"initiate_download",asset_details:{asset_id:g,asset_type:f,asset_family:w,asset_category:v,asset_size:s?.name||s?.teeShirtSize},download_selection:S?"redownload":C?"free_download":"paid_download",account_type:A?"leader":b?"team_member":"individual",download_flow:"download_confirm",ui_element_location:i===z.A.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP?"download_actions_licenses":"download_actions"});break;case h.REDIRECT_TO_FAST_CHECKOUT_WITH_SUBSCRIPTION:case h.REDIRECT_TO_FAST_CHECKOUT_WITH_ANNUAL_PACK:case h.REDIRECT_TO_CHECKOUT:j();break;case h.REDIRECT_TO_CREDITPACKS:t=(0,d.A)({cta_interaction:"cta_clicked",cta_text:"buy_credits",cta_url:D(),download_flow:I?`no_checkout_option_${I}`:"no_checkout_option_pnp_redirect",ui_element_location:I?`adp_buy_card_${I}_error`:"adp_buy_card"})}null!=t&&(0,u.C)(t),l&&l()},trackCheckoutProduct:j,preserveAdpToPnpLegacyTracking:e=>{"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point",e)},trackPlansAndPricingCtaClick:t=>{const a=(0,d.A)({cta_interaction:"view_plans_and_pricing_cta_clicked",cta_selection:"view_plans_and_pricing",cta_text:o,cta_url:t,download_flow:"pnp_checkout_option",ui_element_location:e});(0,u.C)(a)}}};var pc=()=>{const e=(0,Is.F)(),t=_c(),{redirectTo:a,routeForUrl:s,translateCleanAndValidatePath:i}=vn(),n=(0,r.wA)(),o=(0,r.d4)(e=>e.calc.applePayDefault),l=(0,r.d4)(e=>e.calc.isInPricingClarity),c=(0,r.d4)(e=>e.calc.assetIsVideo),d=(0,r.d4)(e=>e.calc.hasAvailableCredits),u=(0,r.d4)(e=>e.calc.step.name),_=(0,r.d4)(e=>e.calc.step.pricingOption),p=(0,r.d4)(e=>e.calc.step.showPricingClarity),m=(0,r.d4)(e=>e.calc.step.viewLicenseSelection),h=(0,r.d4)(e=>e.userDetails.fast_checkout_subs_pack_sku),g=(0,r.d4)(e=>e.userDetails.fast_checkout_subs_annual_pack_sku),f=(0,r.d4)(e=>e.userDetails.istock_fast_checkout_larger_offer_credit_pack_sku),w=(0,r.d4)(e=>e.userDetails.premium_video_subscription_enabled),v=(0,r.d4)(e=>e.userDetails.standard_asset_credit_pack),C=(0,r.d4)(e=>e.userDetails.country_code),x=(0,r.d4)(e=>e.userDetails.has_subscription),A=(0,r.d4)(e=>e.asset.assetId),b=(0,r.d4)(e=>e.buyCardData.basicSelfServeUpgrade),T=(0,r.d4)(e=>e.buyCardData.enhancedPPVUpgrade),E=(0,r.d4)(e=>e.buyCardData.higherVolumeSelfUpgrade),S=(0,r.d4)(e=>e.buyCardData.newToPremiumCustomerOffer),y=(0,r.d4)(e=>e.buyCardData.pricingClarityPacks),N=(0,r.d4)(e=>e.calc.step.showBasicSelfServeUpgrade),I=(0,r.d4)(e=>e.calc.step.showEnhancedPPVUpgrade),j=(0,r.d4)(e=>e.calc.step.showHigherVolumeSelfUpgrade),D=()=>_===Dt.PRICING_OPTION_CHECKOUT_LARGER_CREDIT_PACK?f:v?.product_sku?v.product_sku:y?.[_]?.product_sku,O=()=>l&&p&&!m,P=()=>i(Ae.annualSelfUpgradeRoute),R=()=>{const t=D(),a=e.creditPackCheckout(t,{asset_type:"film"});return e.cleanPath(lc.getCheckoutUrl(a,A,!1,o))},k=t=>{const a=e.addSubscription(t,{upgrade:!0});return e.cleanPath(lc.getCheckoutUrl(a,A,!1,o))},L=()=>i(Ae.getCreditsPricingRoute(c)),F=()=>"/customer-support/upgrade",U=()=>{let t=i(Ae.getPricingRoute(c));return O()&&!w?t=e.cleanPath(lc.getPricingUrl(t)):b.eligible||T.eligible||E.eligible?t=L():!c&&St.inGeoLocPricingTest(C)&&(t=i(Ae.defaultPnpRoute)),c&&d&&!x&&(t=i(Ae.videoPnpSubsRoute)),t};return{redirectToPricing:()=>{const e=U();return _===Dt.PRICING_OPTION_PRICING&&"PICK_PRICING_CLARITY_PAYMENT_OPTION"===u&&t.preserveAdpToPnpLegacyTracking("adp-subscription"),N||I||j||t.trackPlansAndPricingCtaClick(e),a(e)},redirectToFastCheckoutWithSubscription:()=>{const t={};let s=!0;S&&(t.premNco=!0,s=!1);let i=e.addSubscription(h,t);return i=e.cleanPath(lc.getCheckoutUrl(i,A,s,o)),a(i)},pnpCreditsUrl:()=>i(Ae.pnpCreditsRoute),pnpCreditAssetUrl:L,ppvUpgradeContactUsUrl:F,pricingUrl:U,fastCheckoutUrl:R,fastCheckoutWithUpgradeUrl:k,redirectToFastCheckoutWithUpgrade:e=>{const s=k(e);return t.trackCheckoutProduct(e),a(s)},redirectToFastCheckoutWithAnnualPack:()=>{let t=e.addSubscription(g);return t=e.cleanPath(lc.getCheckoutUrl(t,A,!0,o)),a(t)},redirectToCheckout:()=>{let s;const i=D();return t.preserveAdpToPnpLegacyTracking("adp-creditPack"),s=e.creditPackCheckout(i),O()&&(s=e.cleanPath(lc.getCheckoutUrl(s,A,!0,o))),a(s)},handleAccountSelection:()=>n(De.goToNextStep()),redirectToCreditPacks:()=>{const e=Ae.getCreditsPricingRoute(c),t=i(e);return a(t)},translateCleanAndValidatePath:i,redirectToFastCheckout:()=>a(R()),redirectToUrlFromState:()=>{a(s())},redirectToPPVUpgradeContactUs:()=>a("/customer-support/upgrade"),selfServeUpgradeUrl:P,redirectToSelfServeUpgrade:()=>a(P()),higherVolumeUpgradeRedirectUrl:()=>`${e.cleanPath("/plans-and-pricing/self-serve")}?target=volume&assetcarryingpnp=true`,upgradePlanRedirectUrl:()=>`${e.cleanPath("/plans-and-pricing/self-serve")}?target=premium&assetcarryingpnp=true`}};function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},mc.apply(null,arguments)}var hc=({styles:e={},...t})=>i().createElement("svg",mc({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10 19.5C4.776 19.5.5 15.224.5 10S4.776.5 10 .5s9.5 4.276 9.5 9.5-4.276 9.5-9.5 9.5z",fill:"#fff",stroke:"#AEDDD6"}),i().createElement("path",{d:"M9.145 5v5.922h1.71V5h-1.71zM11 13.094c0-.558-.436-.927-.994-.927-.56 0-1.006.369-1.006.927 0 .559.447.939 1.006.939.558 0 .994-.38.994-.939z",fill:"#02A388"}));function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},gc.apply(null,arguments)}var fc=({styles:e={},...t})=>i().createElement("svg",gc({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10z",fill:"#FE423F"}),i().createElement("path",{d:"M10 12.4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm.6-1.2H9.4L8.7 7V4.8c0-.1.1-.2.2-.2H11c.1 0 .2.1.2.2V7l-.6 4.2z",fill:"#fff"})),wc="tuxZg5Q8OYT93p2E7gvL",vc="ZAq0Z6gHp29dcphtsfBR",Cc="jlCOQzrSOFY420QyDVbO",xc="xGC_mwJ_Hw65XUDfY2dg",Ac="KT3sdsHBXS6M5k33BmfF",bc="xHmZK7CBK4gOUvjK0ml2",Tc="jdjt42OCQrigeFDv1GM9",Ec="xuIW_TZOprUpJGmaWl1Q",Sc="DF_vfjhbn67jHN_HF7JA",yc="BseGKrB8qj66R0iyse22",Nc="WmGS54zYQMXyDTI5Fwd0";function Ic(){return Ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Ic.apply(null,arguments)}var jc=({styles:e={},...t})=>i().createElement("svg",Ic({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10 20C4.5 20 0 15.5 0 10S4.5 0 10 0s10 4.5 10 10-4.5 10-10 10z",fill:"#666E6E"}),i().createElement("path",{d:"M10 12.4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5zm.6-1.2H9.4L8.7 7V4.8c0-.1.1-.2.2-.2H11c.1 0 .2.1.2.2V7l-.6 4.2z",fill:"#fff"})),Dc=a(86583),Oc="XKEXnm01Xqj8HkmHlsGc",Pc="enhOxNXTcEI0VckZK2bu",Rc="kCRUMKa9YcIxRT5gEjSj",kc="N1i6WTa43jKZcEidJS0M",Lc="MU7_LseyqaaGqpWbDFu3",Fc="nSL6oVGy4NUA6QaSf2i6",Uc="n_NZePReP9XhgRXZVsJt",Bc="y996BeYSIOj6EEv06lz4",Mc="n0irDk6PD8bTanvbNr1Y",zc="tz3FgCJwIbUhxyOn00IG";var Wc=(0,Ii.A)(({onReasonForWarningClick:e,handleReasonForWarningClick:t,handleAdditionalInfoWarningClick:a,handleAdditionalInfoWarningKeyDown:s,warningCtaClicked:i})=>{const n=(0,fs.c)(),o=(0,zo.Y)(),l=(0,r.wA)(),c=(0,r.d4)(e=>e.calc.step.reasonForBox),d=(0,r.d4)(e=>e.calc.step.warningCta),u=(0,r.d4)(e=>e.userDetails),_=(0,r.d4)(e=>e.calc.step.persistentWarning),p=(0,r.d4)(e=>e.calc.step.premiumVideoEnabled),m=(0,r.d4)(e=>e.calc.step.userHasAnnualSubscription),h=(0,r.d4)(e=>e.calc.step.reasonForBoxLink),g=(0,r.d4)(e=>e.calc.step.additionalInfoHtml),{translateCleanAndValidatePath:f}=pc(),w=()=>{l(De.closeDownloadErrorMessage())};return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("section",{className:Oc,children:[!_&&(0,es.jsx)("div",{className:`adp-file-cancel-button-wrapper ${Pc}`,"data-testid":"warning-box-close",children:(0,es.jsx)("div",{role:"button",tabIndex:0,className:"adp-confirm-close-btn",onClick:w,onKeyDown:e=>{"Enter"===e.key&&w()}})}),(0,es.jsx)("div",{className:Cc,children:(0,es.jsxs)("div",{role:"button",tabIndex:0,onClick:e,onKeyDown:t,className:`title ${Lc}`,"data-testid":"reason-for-warning",children:[(0,es.jsx)("div",{className:`${Rc} ${m?kc:""}`,children:(0,es.jsx)(jc,{className:Ac})}),(0,es.jsx)("div",{children:(0,es.jsx)(js.A,{children:(()=>{const e={};h&&(e.links=[{href:f(h),id:"reason-for-warning"}]);return n(p?m?"video_not_available_with_annual_subscription_test_group":"video_not_available_with_monthly_subscription_test_group":c,e)})()})})]})})]}),(0,es.jsx)("section",{className:Mc,"data-testid":"warning-box",children:(0,es.jsxs)("div",{className:`download-box ${zc}`,"data-testid":"warning-box-warning",children:[(0,es.jsx)("div",{className:`warning-message ${Bc}`,"data-testid":"warning-message",onClick:a,onKeyDown:s,children:(0,es.jsxs)("div",{children:[(0,es.jsx)("span",{className:Uc,children:(()=>{const e=(()=>{let e=g.translationVariables.credit_amount;const t=u?.standard_asset_credit_pack;return t&&void 0!==t.price&&(e=(0,Dc.v)(t.price,o,u.currency_code,{minimumFractionDigits:0}).formattedPrice),e})();return n("amount_for_clip",{clip_amount:e})})()}),(0,es.jsx)("br",{}),(0,es.jsx)("span",{className:Fc,children:(()=>{const e={credit_units:g.translationVariables.credit_cost};return n("when_you_buy_credits",e)})()})]})}),d&&(0,es.jsxs)("div",{className:`warning-cta ${d.ctaClass}`,"data-testid":"warning-cta",children:[d.url&&(0,es.jsx)("a",{className:"warning-cta__text",href:d.url,onClick:i,"data-testid":"warning-cta-url",children:`${n(d.tag)} >`}),!d.url&&(0,es.jsx)("span",{className:"warning-cta__text",children:n(d.tag)})]})]})})]})},"test_user_warning_box");var Hc=(0,Ii.A)(()=>{const e=(0,r.d4)(e=>e.calc.step.videoCreditPackFCO),t=(0,r.wA)(),a=(0,fs.c)(),s=(0,r.d4)(e=>e.calc.step.warningClass),i=(0,r.d4)(e=>e.calc.step.reasonForBox),n=(0,r.d4)(e=>e.calc.step.reasonForBoxLink),o=(0,r.d4)(e=>e.calc.step.warningMessageClass),l=(0,r.d4)(e=>e.calc.step.warningCta),c=(0,r.d4)(e=>e.calc.step.additionalInfoHtml),_=(0,r.d4)(e=>e.calc.step.additionalInfoHtmlLink),p=(0,r.d4)(e=>e.calc.step.persistentWarning),m=(0,r.d4)(e=>e.calc.step.triggerTracking),h=(0,r.d4)(e=>e.calc.step.lightBlueWarning),{translateCleanAndValidatePath:g}=pc(),f=(0,hr.A)(),w=()=>m(),v=(e,t)=>{const a=(0,d.A)({cta_interaction:"cta_clicked",cta_text:e,cta_url:t,ui_element_location:f,download_flow:"pnp_checkout_option"});(0,u.C)(a)},C=e=>{"reason-for-warning"===e.target.id&&w(),n?.includes("urls.plans_and_pricing")&&v(i,g(n))},x=e=>{"Enter"===e.key&&w()},A=e=>{if("A"===e.target.tagName&&_?.href?.includes("urls.plans_and_pricing")){const e=g(_.href);v(c.tag,e)}},b=()=>{const e={};return n&&(e.links=[{href:g(n),id:"reason-for-warning"}]),a(i,e)};return e?(0,es.jsx)(Wc,{onReasonForWarningClick:C,handleAdditionalInfoWarningClick:A,handleAdditionalInfoWarningKeyDown:A,handleReasonForWarningClick:x}):(0,es.jsxs)("section",{className:`${Ec} ${h?vc:""}`,"data-testid":"warning-box",children:[!p&&(0,es.jsx)("div",{className:Sc,"data-testid":"warning-box-close",children:(0,es.jsx)(xo.A,{className:bc,ariaLabel:"cancel download",onClick:()=>{t(De.closeDownloadErrorMessage())}})}),(0,es.jsxs)("div",{className:`${yc} ${s}`,"data-testid":"warning-box-warning",children:[h?(0,es.jsxs)("div",{className:Cc,"data-testid":"light-blue-warning",children:[(0,es.jsx)(hc,{className:Ac}),i&&(0,es.jsx)("div",{role:"button",tabIndex:0,onClick:C,onKeyDown:x,className:`${Tc} ${xc}`,"data-testid":"reason-for-warning",children:(0,es.jsx)(js.A,{children:b()})})]}):(0,es.jsxs)("div",{children:[(0,es.jsx)("div",{className:`${Nc}`,children:(0,es.jsx)(fc,{})}),i&&(0,es.jsx)("div",{role:"button",tabIndex:0,onClick:C,onKeyDown:x,className:`${Tc} ${c?wc:""}`,"data-testid":"reason-for-warning",children:(0,es.jsx)(js.A,{children:b()})})]}),c&&(0,es.jsx)("div",{className:`${o}`,"data-testid":"warning-message",onClick:A,onKeyDown:e=>{"Enter"===e.key&&A()},children:(0,es.jsx)(js.A,{children:(_&&(c.translationVariables.links=[{...Object.fromEntries(_),href:g(_.href)}]),a(c.tag,c.translationVariables))})}),l&&(0,es.jsxs)("div",{className:`${l.ctaClass}`,"data-testid":"warning-cta",children:[l.url&&(0,es.jsx)("a",{href:l.url,"data-testid":"warning-cta-url",children:`${a(l.tag)} >`}),!l.url&&(0,es.jsx)("span",{children:a(l.tag)})]})]})]})},"warning_box"),Vc=a(60037),Gc=a(94242);var Yc=({postContent:e,className:t="",preContent:a,checked:s=!1,children:i,onChange:n=()=>{},value:o,name:r,id:l})=>(0,es.jsxs)("div",{className:hs()("purchase-choice",t,{"purchase-choice--selected":s,"radio-button-selected":s}),"data-testid":"radio-button",children:[(0,es.jsxs)("label",{htmlFor:l,children:[a,(0,es.jsxs)("div",{className:"purchase-choice__control",children:[(0,es.jsx)("div",{className:"radio-button",children:(0,es.jsx)("input",{onChange:()=>{n()},"data-testid":`radio-button--input__${l}`,type:"radio",value:o,name:r,id:l,checked:s})}),(0,es.jsx)("div",{children:i})]})]}),e&&e]});var Kc=({option:e,selectedPricingOption:t,selectPricingClarityOptionToggle:a})=>{const s=(0,r.d4)(e=>e.buyCardData.pricingClarityContent?.firstRadioContent),i=""!==s?.sub_content,n=void 0!==s?.tertiary_content;return(0,es.jsx)(Yc,{onChange:()=>{t!==e&&a(e,s?.supports_apple_pay)},value:"checkout",checked:t===e,name:"purchase-choice",id:"firstRadio",children:(0,es.jsxs)("div",{className:"purchase-type",children:[(0,es.jsx)("div",{className:"purchase-type__text purchase-type--bold","data-testid":"first-radio-content",children:(0,es.jsx)(js.A,{children:s?.main})}),i&&(0,es.jsx)("div",{className:"purchase-type__sub-text purchase-type__sub-text--savings","data-testid":"first-radio-sub-content",children:(0,es.jsx)(js.A,{children:s?.sub_content})}),n&&(0,es.jsx)("div",{className:"purchase-type__ter-text","data-testid":"first-radio-tertiary-content",children:(0,es.jsx)(js.A,{children:s.tertiary_content})})]})})};var Qc=({option:e,selectedPricingOption:t,selectPricingClarityOptionToggle:a,alcEasyPurchaseData:s})=>(0,es.jsx)("div",{"data-testid":"first-radio-button-test",children:(0,es.jsxs)(Yc,{onChange:()=>a(e),value:e,checked:t===e,name:"purchase-choice",id:"firstRadio",children:["Credit Pack Size Test"," ",s.enabled?"Enabled":"Disabled"]})});var Jc=({option:e,selectedPricingOption:t,selectPricingClarityOptionToggle:a})=>{const s=(0,r.d4)(e=>e.buyCardData.alcEasyPurchaseData);return!0===s?.enabled?(0,es.jsx)(Qc,{option:e,selectedPricingOption:t,selectPricingClarityOptionToggle:a,alcEasyPurchaseData:s}):(0,es.jsx)(Kc,{option:e,selectedPricingOption:t,selectPricingClarityOptionToggle:a})},Zc="CMedeeP_YyVAuvj5Godk";var qc=({children:e,className:t=""})=>(0,es.jsx)("span",{"data-testid":"badge",className:hs()(Zc,t),children:e}),$c="C9x1ktc2t2yLr7_HBAfi";function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Xc.apply(null,arguments)}var ed=({styles:e={},...t})=>i().createElement("svg",Xc({width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M9.765 7.258c-2.374 0-4.3-1.905-4.3-4.251a.165.165 0 00-.17-.164.16.16 0 00-.168.164c0 2.34-1.927 4.25-4.3 4.25a.17.17 0 00-.17.165c0 .087.071.163.17.163 2.373 0 4.3 1.905 4.3 4.251 0 .093.07.164.169.164.098 0 .169-.07.169-.164 0-2.34 1.926-4.25 4.3-4.25.093 0 .17-.072.17-.164a.16.16 0 00-.17-.164m3.83-4.579c-1.402 0-2.548-1.13-2.548-2.515A.165.165 0 0010.878 0c-.098 0-.169.07-.169.164 0 1.386-1.14 2.515-2.548 2.515-.093 0-.17.071-.17.164s.071.164.17.164c1.402 0 2.548 1.13 2.548 2.516 0 .087.071.163.17.163.098 0 .168-.07.168-.163 0-1.387 1.14-2.516 2.549-2.516a.165.165 0 00.169-.164.16.16 0 00-.17-.164",fill:"url(#a)"}),i().createElement("defs",null,i().createElement("linearGradient",{id:"a",x1:".657",y1:"0",x2:"15.115",y2:"2.21",gradientUnits:"userSpaceOnUse"},i().createElement("stop",{offset:".06",stopColor:"#0FC5A6"}),i().createElement("stop",{offset:".61",stopColor:"#1AA1BA"}),i().createElement("stop",{offset:"1",stopColor:"#3E4AE9"})))),td="nH0tVyq4wf0sTn6S8Geu";var ad=({text:e=""})=>(0,es.jsxs)(Ro.A,{className:td,flexDirection:ko.Qy.ROW,alignItems:ko.$k.FLEXSTART,"data-testid":"free-access-ai-generation",children:[(0,es.jsx)(ed,{}),(0,es.jsx)(xs.Ay,{component:xs.QY.SPAN,variant:xs.o3["body.small"],children:e})]});var sd=({option:e,selectedPricingOption:t=null,selectPricingClarityOptionToggle:a=()=>{},showNewCustomerPPVOffer:i=!1,postContent:n=null,secondRadioContent:o=null,radioButtonTitle:l="",radioButtonSubContent:c=""})=>{const d=(0,fs.c)(),u=(0,r.d4)(e=>e.buyCardData.newToPremiumCustomerOffer),_=void 0!==o?.tertiary_content,p=()=>i?d("new_customer_price"):u?d("new_prem_sub_offer_all_caps"):null;return(0,s.useEffect)(()=>{i&&(window.tracking_data.merchandising_units="ppv_new_customer_offer_adp_module")}),(0,es.jsxs)(Yc,{onChange:()=>{t!==e&&a(e,o.supports_apple_pay)},name:"purchase-choice",value:e,id:"secondRadio",checked:t===e,postContent:n,className:hs()({"with-badge":!!p()}),children:[p()&&(0,es.jsx)(qc,{className:i?$c:"",children:(0,es.jsx)(js.A,{children:p()})}),(0,es.jsx)("div",{className:"purchase-type","data-test-id":"second-radio-main-content",children:(0,es.jsx)(js.A,{children:l})}),c&&(0,es.jsx)("div",{className:"purchase-type__sub-text","data-testid":"second-radio-sub-content",children:(0,es.jsx)(js.A,{children:c})}),o?.aiBundlingText&&(0,es.jsx)(ad,{text:o.aiBundlingText}),_&&(0,es.jsx)("div",{className:"purchase-type__ter-text","data-testid":"second-radio-tertiary-content",children:(0,es.jsx)(js.A,{children:o.tertiary_content})})]})},id="AFYv44__ZZvoN9n1IVs6";var nd=(0,Ii.A)(()=>{const e=(0,fs.c)(),t=(0,hr.A)(),[a,i]=(0,s.useState)(!1),n=(0,r.d4)(e=>e.buyCardData.showPricingClarityDurationToggle),o=(0,r.d4)(e=>e.calc.step.pricingOption),l=(0,r.d4)(e=>e.userDetails.videoPricingClarityVariance),c=(0,r.d4)(e=>e.buyCardData.newCustomerPpvOffer),d=(0,r.d4)(e=>e.buyCardData.pricingClarityContent.secondRadioContent),_=(0,r.d4)(e=>e.buyCardData.pricingOptions.firstRadioOption),p=(0,r.d4)(e=>e.buyCardData.pricingOptions.secondRadioOption),m=0!==d.size,h=m?n?a?Dt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:Dt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE:p:null,g=(0,r.d4)(e=>e.buyCardData.pricingClarityPacks),f=(0,r.wA)(),w=(e,t)=>{f(De.selectPricingClarityOptionToggle(e)),f(De.setApplePayProductEligibility(t))},[v,C]=(0,s.useState)(n?d.alt_main_content:d.main),[x,A]=(0,s.useState)(n?d.alt_sub_content:d.sub_content),b=e=>{const a=e.map(e=>g[e]).filter(e=>!!e).map(e=>({...e.toJS(),location_id:t})),s=(0,Gc.A)({products:a,ui_element_location:t});(0,u.C)(s)};(0,s.useEffect)(()=>{if(!n)return;const e=a?Dt.PRICING_OPTION_FAST_CHECKOUT_SUBSCRIPTION:Dt.PRICING_OPTION_CHECKOUT_WITH_ANNUAL_MONTHLY_TOGGLE;if(e!==o){const[t,s]=a?[d.main,d.sub_content]:[d.alt_main_content,d.alt_sub_content];w(e),A(s),C(t),b([h])}},[a]);return(0,s.useEffect)(()=>{b([_,h])}),(0,es.jsxs)("section",{className:"pricing-clarity","data-testid":"pricing-clarity-options",children:[l&&(0,es.jsx)("hr",{"data-testid":"hr"}),(0,es.jsx)(Jc,{option:_,selectedPricingOption:o,selectPricingClarityOptionToggle:w}),m&&(0,es.jsx)(sd,{option:h,selectedPricingOption:o,selectPricingClarityOptionToggle:w,showNewCustomerPPVOffer:c,secondRadioContent:d,radioButtonTitle:v,radioButtonSubContent:x,postContent:n?(0,es.jsx)("div",{className:"toggle-wrapper","data-testid":"duration-toggle",children:(0,es.jsx)(Vc.Ay,{id:"annual-monthly",className:id,checked:a,onChange:e=>{i(e)},variant:Vc.F3.SECONDARY,checkedLabel:e("month_to_month"),uncheckedLabel:e("annual_plan")})}):null}),(0,es.jsx)("hr",{})]})},"pricing_clarity_options");var od=({onSetSelectedAgreementType:e=null,selectedAgreementType:t})=>{const a=(0,r.d4)(e=>e.calc.totalCreditCost),s=(0,r.d4)(e=>e.calc.selectedAccountCredits),i=(0,r.d4)(e=>e.calc.step.creditsAvailable),n=(0,fs.c)(),o=J.CREDIT_PACK,l=()=>{t!==o&&i&&e(o)};return(0,es.jsx)("div",{role:"radio","aria-checked":t===o,tabIndex:0,className:`purchase-choice ${t===o&&"purchase-choice--selected radio-button-selected"} ${!i&&"purchase-choice--unavailable radio-button-disabled"}`,onClick:l,onKeyDown:e=>{"Enter"===e.key&&l()},"data-testid":"radio-button",children:(0,es.jsxs)("div",{className:"purchase-choice__control",children:[(0,es.jsx)("div",{className:"radio-button",children:(0,es.jsx)("input",{type:"radio","data-testid":"radio",value:"credits",name:"purchase-choice",id:"credits"})}),(0,es.jsxs)("label",{htmlFor:"credits","data-testid":"label",children:[(0,es.jsxs)("div",{className:"purchase-type",children:[a>1&&(0,es.jsx)("span",{children:n("more_than_one_credit",{zero:a})}),1===a&&(0,es.jsx)("span",{children:n("one_credit")})]}),(0,es.jsx)("div",{className:"amount-remaining",children:n("credit_balance_available",{credit_balance:s})})]})]})})};var rd=({onSetSelectedAgreementType:e,selectedAgreementType:t=null})=>{const a=(0,r.d4)(e=>e.calc.step.subsAvailable),s=(0,r.d4)(e=>e.calc.step.subDownloadsTranslationValue),i=(0,r.d4)(e=>e.calc.step.subTitleTranslation),n=(0,fs.c)(),o=J.ROYALTY_FREE_SUBSCRIPTION,l=()=>{t!==o&&a&&e(o)};return(0,es.jsx)("div",{className:`purchase-choice ${t===o&&"purchase-choice--selected radio-button-selected"} ${!a&&"purchase-choice--unavailable radio-button-disabled"}`,onClick:l,onKeyDown:e=>{"Enter"===e.key&&l()},"data-testid":"radio-button",role:"radio",tabIndex:0,"aria-checked":t===o,children:(0,es.jsxs)("div",{className:"purchase-choice__control",children:[(0,es.jsx)("div",{className:"radio-button",children:(0,es.jsx)("input",{type:"radio",value:"subscription",name:"purchase-choice",id:"subscription","data-testid":"radio"})}),(0,es.jsxs)("label",{htmlFor:"subscription","data-testid":"label",children:[(0,es.jsx)("div",{className:"purchase-type",children:n(i)}),(0,es.jsx)("div",{className:"amount-remaining",children:n("subscription_downloads_remaining",{downloads_remaining:s})})]})]})})};var ld=()=>{const e=(0,r.wA)(),t=(0,r.d4)(e=>e.calc.selectedAgreementType),a=(0,r.d4)(e=>e.calc.step.showSubscriptionField),s=(0,fs.c)(),i=t=>{e(De.setSelectedAgreementType(t))};return(0,es.jsxs)("section",{className:"adp-download-choices","data-testid":"download-choices",children:[(0,es.jsx)("div",{className:"title",children:s("how_will_you_pay")}),(0,es.jsx)("hr",{}),a&&(0,es.jsx)(rd,{selectedAgreementType:t,onSetSelectedAgreementType:i}),(0,es.jsx)("hr",{}),(0,es.jsx)(od,{selectedAgreementType:t,onSetSelectedAgreementType:i}),(0,es.jsx)("hr",{})]})};var cd=({selectedAccount:e=null,setSelectedAccountChoiceOption:t})=>{const a=(0,fs.c)(),s=re.PERSONAL,i=()=>{t(s)};return(0,es.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":e===s,className:"account-choice-container "+(e===s?"selected radio-button-selected":""),onClick:i,onKeyDown:e=>{"Enter"===e.key&&i()},"data-testid":"radio-button",children:[(0,es.jsx)("div",{className:"radio-button",children:(0,es.jsx)("input",{type:"radio",name:"account-choice",value:s,"data-testid":"radio",id:"personal"})}),(0,es.jsx)("label",{"data-testid":"label",htmlFor:"personal",children:(0,es.jsx)("div",{className:"account-type",children:a("download_using_my_account")})})]})};var dd=({selectedAccount:e=null,setSelectedAccountChoiceOption:t})=>{const a=(0,r.d4)(e=>e.userDetails.team_name),s=re.TEAM,i=(0,fs.c)(),n=()=>{t(s)};return(0,es.jsxs)("div",{role:"radio",tabIndex:0,"aria-checked":e===s,className:"account-choice-container "+(e===s?"selected radio-button-selected":""),onClick:n,onKeyDown:e=>{"Enter"===e.key&&n()},"data-testid":"radio-button",children:[(0,es.jsx)("div",{className:"radio-button",children:(0,es.jsx)("input",{type:"radio",name:"account-choice",value:s,id:"team","data-testid":"radio"})}),(0,es.jsx)("div",{className:"company-icon"}),(0,es.jsx)("label",{"data-testid":"label",htmlFor:"team",children:(0,es.jsx)("div",{className:"account-type",children:i("download_on_behalf_of_the_team",{name:a})})})]})};var ud=()=>{const e=(0,r.d4)(e=>e.calc.selectedAccount),t=(0,r.wA)(),[a,i]=(0,s.useState)(e),n=e=>{t(De.setSelectedAccount(e)),i(e)};return(0,es.jsxs)("section",{className:"adp-account-choices","data-testid":"account-choices",children:[(0,es.jsx)("hr",{}),(0,es.jsx)(cd,{selectedAccount:a,setSelectedAccountChoiceOption:n}),(0,es.jsx)("hr",{}),(0,es.jsx)(dd,{selectedAccount:a,setSelectedAccountChoiceOption:n}),(0,es.jsx)("hr",{})]})};function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},_d.apply(null,arguments)}var pd=({styles:e={},...t})=>i().createElement("svg",_d({xmlns:"http://www.w3.org/2000/svg",width:"60",height:"44.5",viewBox:"0 0 60 44.5"},t),i().createElement("path",{fill:"#FFF",d:"M19.75 22.302l2.851-2.851 5.701 5.702L39.705 13.75l2.851 2.851-14.254 14.253z"})),md="xVJO_b4I2Jf42AsKt7VA",hd="KjRsrDysONnONnufF0GL",gd="maSxVK_4p5iHQogd5Md5",fd="Me78CWB4NnQbqhIPU1vK",wd="GLto7nHNY6qRB4tBagZe",vd=a(15531),Cd="z_zHQ9hdG22MRqy8Gg4N",xd="JhnX_WPlkdq4Ylx5r8iV";var Ad=({checkoutUrl:e=null})=>{const t=(0,r.wA)(),a=(0,fs.c)(),i=pc(),n=(0,gn.useExperience)("ApplePayPhaseTwo").isActive(),o=(0,gn.useExperience)("MobileApplePay").isActive(),l=(0,r.d4)(e=>e.calc.step.ctaAction),c=(0,r.d4)(e=>e.calc.applePayDefault),d=(0,r.d4)(e=>e.redirectToUrl),u=(0,r.d4)(e=>e.calc.step.applePayProductEligibility),[_,p]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),f=Object.values(g).includes(l),w=_c();(0,s.useEffect)(()=>{const e=(n||o)&&(d||f)&&window.ApplePaySession&&window.ApplePaySession?.canMakePayments();h(e)},[n,u]);return(0,s.useEffect)(()=>{(async()=>{_&&c&&(w.track(),await i[l](),p(!1))})()},[_,c,i,l]),(0,es.jsx)(vd.A,{children:m?(0,es.jsx)(Vn.Ay,{id:"apple-pay-button",type:"submit","data-testid":"apple-pay-button",onClick:async a=>{a.preventDefault(),e?window.location.href=e(!0):(await t(Ie(!0)),p(!0))},className:Cd,variant:Vn.Jr.PRIMARY,size:Vn.Ni.LARGE,fullWidth:!0,children:(0,es.jsx)("span",{className:xd,dangerouslySetInnerHTML:{__html:a("continue_with_apple_pay")}})}):(0,es.jsx)("span",{})})};const bd={"super-cta":Vn.Jr.PRIMARY,"primary-cta":Vn.Jr.SECONDARY,"hollow-cta":Vn.Jr.HOLLOW};var Td=({validateEpsPickerAndSave:e=()=>{},isEpsFormatTest:t=!1,epsFormatCtaTitle:a})=>{const s=pc(),i=_c(),n=(0,fs.c)(),o=(0,r.wA)(),l=ln(),c=(0,r.d4)(e=>e.calc.ctaInProgress),d=(0,r.d4)(e=>e.calc.step.ctaAction),u=(0,r.d4)(e=>e.calc.step.ctaClass),_=(0,r.d4)(e=>e.calc.step.ctaTitle),p=(0,r.d4)(e=>e.calc.step.ctaTranslationVariables),m=(0,r.d4)(e=>e.calc.step.completeSection),g=(0,r.d4)(e=>e.calc.step.confirmSection),f=(0,r.d4)(e=>!e.calc.step.hideDownloadButton),w=bd[u]??Vn.Jr.PRIMARY,v=(0,r.d4)(e=>e.redirectToUrl),C=Vo(),{imageIsEdited:x}=(0,Ji.A)(),{setShowOverlay:A}=(0,us.A)(),b=m?(0,es.jsx)(Vn.Ay,{"data-testid":"complete-button",disabled:m,className:hd,variant:w,size:Vn.Ni.LARGE,fullWidth:!0,children:(0,es.jsx)("span",{children:(0,es.jsx)(pd,{})})}):(0,es.jsx)(Vn.Ay,{id:"download-button",type:"submit","data-testid":"download-button",onClick:async a=>{a.preventDefault(),t&&!e()||(i.track(),o(De.setCtaInProgress(!0)),De[d]?v?s.redirectToUrlFromState():await o(De[d]()):d===h.CREATE_DOWNLOAD?(C(),x&&A(!0),await l[d]()):await s[d](),o(De.setCtaInProgress(!1)))},disabled:c,className:hd,variant:w,size:Vn.Ni.LARGE,fullWidth:!0,children:c?(0,es.jsx)(ds.A,{"data-testid":"spinner",className:md}):_?(()=>{if(t){const{download:e,confirm:t}=a(),s=d===h.INITIATE_DOWNLOAD?e:t;return n(s)}return n(_,p)})():null}),T=g?(0,es.jsx)("div",{className:wd,children:(0,es.jsx)(xo.A,{className:gd,ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{o(De.cancelDownload())}})}):null;return(0,es.jsxs)("section",{"data-testid":"confirm-cancel-wrapper",children:[f&&(0,es.jsxs)("div",{className:fd,"data-testid":"adp-download-button",children:[b,T]}),(0,es.jsx)(Ad,{})]})};var Ed=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.asset),a=(0,Is.F)(),s=()=>{let s=a.cleanPath(e("urls.plans_and_pricing_images"));return t.isFilm&&(s=a.cleanPath(e("urls.plans_and_pricing_video"))),s};return(0,es.jsx)("a",{className:"hollow-cta adp-plans-and-pricing-cta","data-testid":"pnp-cta",href:s(),onClick:()=>{const e=(0,d.A)({cta_interaction:"cta_clicked",cta_text:"view_plans_and_pricing",cta_url:s(),ui_element_location:"adp_buy_card",download_flow:"pnp_checkout_option"});(0,u.C)(e)},children:e("view_plans_and_pricing")})},Sd=a(7909),yd=a(79855);function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Nd.apply(null,arguments)}var Id=({styles:e={},...t})=>i().createElement("svg",Nd({width:"21",height:"18",viewBox:"0 0 21 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M14.542 10.887c-3.561 0-6.45-2.857-6.45-6.377a.25.25 0 00-.254-.245.243.243 0 00-.254.245c0 3.512-2.89 6.377-6.45 6.377a.253.253 0 00-.254.245c0 .131.106.246.254.246 3.56 0 6.45 2.857 6.45 6.376 0 .14.106.246.254.246a.243.243 0 00.253-.246c0-3.511 2.89-6.376 6.45-6.376.14 0 .254-.107.254-.246a.243.243 0 00-.254-.245m5.746-6.868c-2.104 0-3.823-1.694-3.823-3.773A.25.25 0 0016.211 0a.243.243 0 00-.253.246c0 2.079-1.711 3.773-3.823 3.773a.25.25 0 00-.254.246c0 .139.107.245.254.245 2.104 0 3.823 1.695 3.823 3.774 0 .13.106.245.253.245a.243.243 0 00.254-.245c0-2.08 1.71-3.774 3.823-3.774a.247.247 0 00.253-.245.243.243 0 00-.253-.246",fill:"#fff"})),jd="cylfv1qyO3FqjOHx7nQw";var Dd=({assetId:e})=>{const t=(0,fs.c)(),a=(0,Is.F)().aiModifyAsset("replace-background",e,"");(0,s.useEffect)(()=>{(0,u.C)((0,d.A)({cta_interaction:"cta_shown",cta_text:"customize_this_image",cta_selection:"customize_this_image",download_flow:"post_download_customize_this_image",ui_element_location:"adp_buy_card"}))},[]);return(0,es.jsxs)(Pr.A,{buttonStyleProps:{size:Vn.Ni.LARGE,variant:Vn.Jr.SECONDARY,fullWidth:!0},className:jd,href:a,onClick:()=>{(0,u.C)((0,d.A)({cta_interaction:"cta_clicked",cta_text:"customize_this_image",cta_selection:"customize_this_image",download_flow:"post_download_customize_this_image",ui_element_location:"adp_buy_card"}))},"data-testid":"ai-customize-button",children:[(0,es.jsx)(Id,{}),t("customize_image")]})};function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Od.apply(null,arguments)}var Pd=({styles:e={},...t})=>i().createElement("svg",Od({width:"19",height:"23",viewBox:"0 0 19 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M13.014 13a5 5 0 110 10 5 5 0 010-10zm-.834 2.083v2.083h-2.083v1.667h2.083v2.083h1.667v-2.083h2.083v-1.667h-2.083v-2.083H12.18z",fill:"#fff"}),i().createElement("g",{clipPath:"url(#clip0_13581_55520)",fill:"#fff"},i().createElement("path",{d:"M2.227 2.943h9.677a.104.104 0 00.105-.105V.267A.267.267 0 0011.742 0H2.389a.267.267 0 00-.267.267V2.84c0 .057.047.104.105.104v-.001zM11.611 3.465c.056 0 .102.046.102.101v.269a.104.104 0 01-.105.104c-.006.002-.223.048-.224.104v.561c0 .033.019.06.044.083.002.003.004.004.004.006.015.026.038.048.069.048h.001c1.604.045 2.617 1.14 2.617 2.349v5.014a6 6 0 00-5.575 9.898H1.958C.295 22 .015 21.161.015 19.927V7.09c0-1.209 1.013-2.303 2.617-2.349.03 0 .053-.02.068-.048l.004-.005c.024-.023.042-.05.042-.084v-.561c0-.055-.213-.101-.224-.104a.105.105 0 01-.105-.104v-.269c0-.055.046-.101.102-.101h9.092z"})),i().createElement("defs",null,i().createElement("clipPath",{id:"clip0_13581_55520"},i().createElement("path",{fill:"#fff",transform:"translate(.014)",d:"M0 0h14.104v22H0z"})))),Rd="rIoFnndpRwS2Pp7ARTCM",kd="wUcAwtYvUO1EcIxliZVF";const Ld={cta_text:"use_for_product_background",download_flow:"post_download_use_for_product_background",ui_element_location:"adp_buy_card"};var Fd=({assetId:e})=>{const t=(0,fs.c)(),a=`${(0,Is.F)().aiProductImages(void 0,{assetId:e,modal:"product-upload",pane:"upload-image"})}`;return(0,s.useEffect)(()=>{(e=>{const t=(0,d.A)({...Ld,cta_interaction:"cta_shown",cta_url:e,cta_selection:"use_for_product_background"});(0,u.C)(t)})(a);const e=setTimeout(()=>{window.location.href=a},5e3);return()=>clearTimeout(e)},[a]),(0,es.jsxs)("div",{className:Rd,children:[(0,es.jsx)(xs.Ay,{variant:xs.PT.body.small,component:xs.QY.P,children:t("page_will_automatically_redirect_to_AI_generator")}),(0,es.jsxs)(Pr.A,{href:a,onClick:()=>(e=>{const t=(0,d.A)({...Ld,cta_interaction:"cta_clicked",cta_text:"use_for_product_background",cta_url:e});(0,u.C)(t)})(a),className:kd,buttonStyleProps:{variant:Vn.Jr.SECONDARY,size:Vn.Ni.LARGE,fullWidth:!0},children:[(0,es.jsx)(Pd,{}),t("use_for_product_background")]})]})},Ud="_3YEfJnZZRVbht5_NWQiw",Bd="wiQbjEyR3yKH8zzXuRv0";function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Md.apply(null,arguments)}var zd=({styles:e={},...t})=>i().createElement("svg",Md({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.46 4v14.166a3 3 0 003 3h8.736a5.511 5.511 0 01-.562-4.124H3.108l4.763-6.874 2.358 3.404 4.061-6.154 3.63 5.5h.04a5.48 5.48 0 013.667 1.4V4a3 3 0 00-3-3H4.461a3 3 0 00-3 3zm6.418 2.501a1.833 1.833 0 11-3.667 0 1.833 1.833 0 013.667 0z",fill:"#fff"}),i().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.958 22.999a4.583 4.583 0 100-9.167 4.583 4.583 0 000 9.167zm-.763-7.257v1.91h-1.91v1.528h1.91v1.91h1.528v-1.91h1.91v-1.528h-1.91v-1.91h-1.528z",fill:"#fff"})),Wd="OSr2mRsiG8f69JVxHeI6",Hd="XEaZFe1VIomFzYfvJicZ";const Vd={cta_text:"use_as_reference",download_flow:"post_download_use_as_reference",ui_element_location:"adp_buy_card"};var Gd=({assetId:e})=>{const t=(0,fs.c)(),a=`${(0,Is.F)().aiGenerator(void 0,{assetId:e})}`;return(0,s.useEffect)(()=>{(e=>{const t=(0,d.A)({...Vd,cta_interaction:"cta_shown",cta_url:e,cta_selection:"use_as_reference"});(0,u.C)(t)})(a);const e=setTimeout(()=>{window.location.href=a},5e3);return()=>clearTimeout(e)},[a]),(0,es.jsxs)("div",{className:Wd,children:[(0,es.jsx)(xs.Ay,{variant:xs.PT.body.small,component:xs.QY.P,children:t("page_will_automatically_redirect_to_AI_generator")}),(0,es.jsxs)(Pr.A,{href:a,onClick:()=>(e=>{const t=(0,d.A)({...Vd,cta_interaction:"cta_clicked",cta_text:"use_as_reference",cta_url:e});(0,u.C)(t)})(a),className:Hd,buttonStyleProps:{variant:Vn.Jr.SECONDARY,size:Vn.Ni.LARGE,fullWidth:!0},children:[(0,es.jsx)(zd,{}),t("use_as_reference")]})]})};var Yd=({isEpsFormatTest:e=!1,epsFormatCompleteDownload:t,editsPendingForDownload:a=!1,imageIsEdited:i=!1})=>{const n=(0,r.d4)(e=>e.calc.step.dropboxEnabled),o=(0,r.d4)(e=>e.asset),{setShowOverlay:l}=(0,us.A)(),c=(0,r.d4)(e=>e.calc.step.name)===z.A.COMPLETE_DOWNLOAD&&a,d=ln(),u=n?"download_again":"issues_download_again",_=(0,fs.c)(),p=(0,r.d4)(e=>e.userDetails.has_active_ai_bundling_agreement),m=(0,r.d4)(e=>e.isAiEditable),h=(0,s.useMemo)(()=>(e=>{if("undefined"==typeof window)return!1;const t=`assetRedirectFromSearch-${e}`;return"productBackground"===sessionStorage.getItem(t)})(o.assetId)?(0,es.jsx)(Fd,{assetId:o.assetId}):(e=>{if("undefined"==typeof window)return!1;const t=`assetRedirectFromSearch-${e}`;return"referenceImage"===sessionStorage.getItem(t)})(o.assetId)?(0,es.jsx)(Gd,{assetId:o.assetId}):p&&!i&&m?(0,es.jsx)(Dd,{assetId:o.assetId}):null,[m,p,i,o.assetId]),g=e=>{"redownload-for-free"===e.target.id&&(i&&l(!0),d.createDownload())},f=e=>{"Enter"===e.key&&(i&&l(!0),d.createDownload())},w=(0,es.jsx)(Sd.A,{downloadCompletionText:_("you_received"),firstListItemText:_("one_original_image"),secondListItemText:_("one_modified_image"),checkDownloadsText:_("please_check_your_downloads_folder"),redownloadLink:(0,es.jsx)(js.A,{children:_(u,{links:[{href:"#",id:"redownload-for-free"}]})})}),v=(0,es.jsx)("div",{className:Ud,"data-testid":"original-image-only-successful-download",children:(0,es.jsx)(js.A,{children:_(e?(()=>{const{dropbox:e,local:a}=t();return n?e:a})():n&&o.isFilm?"successful_download_dropbox_video":n&&o.isVideoTemplate?"successful_download_dropbox_video_template":n&&o.isIllustration?"successful_download_dropbox_illustration":n?"successful_download_dropbox_photo":o.isVideoTemplate?"successful_download_video_template":o.isFilm?"successful_download_local_video":o.isIllustration?"successful_download_local_illustration":"successful_download_local_photo",{start_strong:`<strong class=${Bd}>`,end_strong:"</strong>"})})}),C=(0,es.jsx)("div",{onClick:g,onKeyDown:f,role:"button",tabIndex:0,"data-testid":"redownload-for-free",children:(0,es.jsx)("span",{id:"download-again",children:(0,es.jsx)(js.A,{children:_(u,{links:[{href:"#",id:"redownload-for-free"}]})})})}),x=(0,es.jsx)(yd.A,{updatedText:_("youve_made_an_update"),redownloadText:(0,es.jsx)(js.A,{children:_("redownload_for_free",{links:[{href:"#",id:"redownload-for-free"}]})}),handleKeyDown:f,handleClick:g}),A=(0,es.jsx)(oc.A,{title:_("your_download_includes_v2"),firstListItemText:_("one_original_image"),secondListItemText:_("one_modified_image"),allowMultipleFileText:_("allow_multiple_files_saved")}),b=i?w:v;return(0,es.jsx)("section",{className:"adp-content-animation-fade","data-testid":"complete-download",children:c?(0,es.jsxs)(es.Fragment,{children:[x,A]}):(0,es.jsxs)(es.Fragment,{children:[b,C,h]})})},Kd="N12x8iASXCJeiL6rLJh5",Qd="eCpi9wwuFobewg_PtFSO";var Jd=()=>{const e=pc(),t=(0,fs.c)(),a=(0,r.d4)(e=>e.calc.step.triggerSubscribeTracking);return(0,es.jsx)("div",{className:"subscribe-to-premium-video","data-testid":"subscribe-to-premium-video",children:(0,es.jsx)("div",{className:Kd,children:(0,es.jsx)("button",{className:Qd,type:"submit","data-testid":"subscribe-to-premium-video-button",onClick:async t=>{t.preventDefault(),a&&a(),await e.redirectToPricing()},children:(0,es.jsx)("span",{"data-testid":"title",children:t("subscribe_to_premium_plus_video")})})})})},Zd="dnVoqxZ57eWmkqhn2EmE",qd="Mkp4JWYuyVWoxDGoV127",$d="umecNFqX4ZWBpOIaVKQW",Xd="XcqwUg5QC_uPHTtEvyoZ";var eu=()=>{const e=(0,fs.c)(),t=(0,r.wA)(),a=(0,r.d4)(e=>e.calc.totalCreditCost),s=(0,r.d4)(e=>e.calc.selectedAccountCredits);return(0,es.jsxs)("section",{className:Zd,"data-testid":"credit-balance-box",children:[(0,es.jsx)("div",{className:Xd,children:(0,es.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,es.jsx)(xo.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{t(De.cancelDownload())}})})}),(0,es.jsxs)("div",{className:qd,children:[(0,es.jsxs)("div",{className:$d,"data-testid":"credit-balance-cost",children:[a>1&&(0,es.jsx)("span",{children:e("more_than_one_credit",{zero:a})}),1===a&&(0,es.jsx)("span",{children:e("one_credit")})]}),(0,es.jsx)("div",{className:"amount-remaining","data-testid":"credit-balance-available",children:e("multiple_credits_available",{available:s})})]})]})};var tu=({validateEpsPickerAndSave:e=()=>{},isEpsFormatTest:t=!1,epsFormatCtaTitle:a,epsFormatCompleteDownload:i,editsPendingForDownload:n=!1,hasEnoughCredits:o=!1,imageIsEdited:l})=>{const c=(0,r.d4)(e=>e.userDetails.fast_checkout_sub),d=(0,r.d4)(e=>e.userDetails.video_pricing_clarity_variance),u=(0,r.d4)(e=>e.calc.step.showAccountChoices),_=(0,r.d4)(e=>e.calc.step.showDownloadChoices),p=(0,r.d4)(e=>e.calc.step.showPricingClarity),m=(0,r.d4)(e=>e.calc.step.showSubscribeToPremiumVideo),h=(0,r.d4)(e=>e.calc.step.viewLicenseSelection),g=(0,r.d4)(e=>e.calc.step.warningBox),f=(0,r.d4)(e=>e.buyCardData.licenseOverviewPath),w=(0,r.d4)(e=>e.calc.redownloadForFree),v=(0,r.d4)(e=>e.calc.step.completeSection),C=(0,fs.c)(),x=Qi();return(0,s.useEffect)(()=>{x.setTrackingDataElement("downloadActions",p&&!h?"clarity":"default")},[p,h]),(0,es.jsxs)("section",{className:"adp-file-download","data-testid":"download-pricing",children:[g&&!o&&(0,es.jsx)(Hc,{}),!h&&p&&(0,es.jsx)(nd,{}),_&&!o&&(0,es.jsx)(ld,{}),o&&(0,es.jsx)(eu,{}),u&&(0,es.jsx)(ud,{}),m&&(0,es.jsx)(Jd,{}),(0,es.jsx)(Td,{validateEpsPickerAndSave:e,isEpsFormatTest:t,epsFormatCtaTitle:a}),!p||w||!c&&!d?null:(0,es.jsx)(Ed,{"data-testid":"pnp-cta-container"}),h&&(0,es.jsx)("span",{className:"not_sure_license","data-testid":"not-sure-license-link",children:(0,es.jsx)(js.A,{children:C("not_sure_what_license",{links:[{href:`${f}`,target:"new"}]})})}),v&&(0,es.jsx)(Yd,{isEpsFormatTest:t,epsFormatCompleteDownload:i,editsPendingForDownload:n,imageIsEdited:l})]})};var au=()=>{const e=(0,fs.c)();return(0,es.jsx)("div",{className:"adp-content-animation-fade redownload","data-testid":"redownload",children:(0,es.jsx)("div",{className:"adp-btn-flow-text",children:(0,es.jsx)("small",{children:e("you_already_downloaded")})})})};var su=({isEpsFormatTest:e=!1,epsFormatTypeCreditAgreement:t=null})=>{const a=(0,r.d4)(e=>e.buyCardData.licenseAgreement),s=(0,fs.c)();return(0,es.jsx)("div",{className:"adp-content-animation-fade","data-testid":"license-disclaimer",children:(0,es.jsx)("div",{className:"adp-btn-flow-text",id:"license-agreement-link",children:(0,es.jsx)("small",{children:(0,es.jsx)(js.A,{children:s(e?t():"credit_license_agreement",{links:[{href:a}]})})})})})},iu="_6PBC5xpfhYFuCWysJAf";var nu=()=>{const e=(0,r.d4)(e=>e.buyCardData.licenseOverviewPath),t=(0,fs.c)();return(0,es.jsx)("div",{className:iu,"data-testid":"redownload-agreement",children:(0,es.jsx)(js.A,{children:t("redownload_free_agreements",{links:[{href:`${e}`,target:"new"}]})})})},ou="UhoDQi0yMtoz3btfTyPn",ru="oMKCHGMm4eq42RWeGgFA",lu="JkoR1AIdP3Mw6EsjlziR",cu="E_enHIsY54KoL3Z5ygYa";var du=({children:e})=>{const t=(0,Rs.Jd)(),a=cu,i=t.isBot?null:lu;return(0,s.useEffect)(()=>{const e=document.querySelector(".footer-copyright");return e&&e.classList.add(a),()=>{e&&e.classList.remove(a)}},[]),(0,es.jsxs)("div",{className:`${ou} ${i}`,id:"mobile-cta-modal","data-testid":"mobile-cta-modal",children:[e,(0,es.jsx)("div",{className:ru,children:(0,es.jsx)(Td,{})})]})},uu="ZwpVb15lqIbmvaM1qZDg",_u="ux4aOnDN9qFp7SmdnCoA",pu="jw6fFLNdA7khJwpniVZf",mu="ykG08LebZc_9CqEd0oG0";var hu=({assetSizes:e})=>{const t=(0,fs.c)(),a=[{title:"size_format_4k",content:"maintain_high_quality_output"},{title:"size_format_hd",subTitle:"size_format_prores",content:"high_quality_full_hd_file"},{title:"size_format_hd",content:"most_commonly_used_format"},{title:"size_format_hd_web",content:"ideal_for_full_screen_web_projects"},{title:"web",content:"good_for_small_web_projects"}];Object.keys(e).length&&!e?.some(e=>"Web"!==e.label)||a.pop();return(0,es.jsx)(n.aF,{modalClassName:uu,onClose:()=>{const e=(0,cn.A)({event:"close_modal",modal_content:"video_size_and_format",modal_type:"detailed_modal",cta_text:void 0,ui_element_location:"modal_x",modal_selection:"video_size_and_format_modal"});(0,u.C)(e)},children:()=>(0,es.jsx)(es.Fragment,{children:(0,es.jsxs)("div",{className:_u,"data-testid":"sizes-formats-modal-body",children:[(0,es.jsx)("h2",{children:t("video_sizes_and_formats")}),(0,es.jsx)("p",{children:t("find_the_right_format")}),(0,es.jsx)(es.Fragment,{children:a.map(({title:e,subTitle:a,content:s})=>(0,es.jsxs)("div",{className:pu,children:[(0,es.jsxs)("div",{children:[(0,es.jsx)("h3",{children:t(e)}),a&&(0,es.jsx)("h3",{className:mu,children:t(a)})]}),(0,es.jsx)("p",{children:t(s)})]},s))})]})})})},gu={helpMeChoose:"t8mRXsE25qAuM_llM4Bo",noWrap:"SCm5bAkttn2GUnEjdMMd",flexBreak:"YyX7t_1RxfCImlodpfZn",sizeDescriptionContainer:"rnOBsgT4F695arhDo6B0",divider:"Fc4vxfFF7iy99NEzTwpr",tiles:"YfBGM2nIBQm2pzOGFLN6",tile:"CaSrZOtwOgHdDmljapmA",selectedTile:"PvHA76t1lIz3uuTh4_KB",noEps:"TyT3HRwbBYigc7vPc5MV",extraPadding:"sX9Tq9ZMGLtEHK5Ex4z0",sizeDescription:"zkQEc0xvnS6wXWrigm37",epsUnavailable:"XSD7KhJttlE4VHIaaCPb"};const fu=["image","raster","vector","film"],wu=["Web","SD","HD_Web","HD","4K"],vu=(e,t,a)=>t.find(t=>a?t.name===e:t.teeShirtSize===e),Cu=()=>{const e=(0,r.wA)(),t=(0,r.d4)(e=>e.asset),a=(0,r.d4)(e=>e.calc.step),i=(0,r.d4)(e=>e.calc.selectedAssetSize),o=(0,r.d4)(e=>e.buyCardData.preferences),l=(0,fs.c)(),{assetType:c}=t,_=(0,r.d4)(e=>e.userDetails.authenticated),{showModal:p}=(0,n.hS)(),m=(0,hr.A)(),h=t.sizes.toArray().filter(e=>null!=e.description),g=fu.includes(c)&&(a.showTshirtSizes||t.isFilm&&!_),[f,w]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!i||"epsUnavailable"===i.name){const a=((e,t,a)=>{if(!a)return vu(e,t,a);if(!e)return;const{name:s,definition:i}=e,n=t.find(e=>e.name===s);if(n)return n;const o=t.filter(e=>e.definition===i);if(1===o.length)return o[0];if(o.length>1)return o.find(e=>"H.264"===e.codec)||o[0];const r=wu.findIndex(e=>e===i);if(-1===r)return null;for(let e=r;e<wu.length;e+=1){const a=wu[e],s=t.filter(e=>e.definition===a);if(1===s.length)return s[0];if(s.length>1)return s.find(e=>"H.264"===e.codec)||s[0]}})(t.isFilm?O.getVideoPreferredSize(o):O.getPreferredSize(o),h,t.isFilm);let s=h.length-1;const i=h[s];"epsUnavailable"===i?.name&&(s=h.length-2),a&&"epsUnavailable"!==a.name?e(De.selectAssetSize(a)):e(De.selectAssetSize(h[s]))}});const v=e=>{const a=e.target.attributes.name.value;return vu(a,h,t.isFilm)},C=()=>f||i,x=e=>{w(v(e))},A=()=>{w(null)},b=a=>{var s;"epsUnavailable"!==(s=v(a)).name&&(e(De.selectAssetSize(s)),t.isFilm||O.setPreferredSize(s.teeShirtSize),t.isFilm&&O.setPreferredVideoSize(s.name,s.definition))},T=()=>{const e=[gu.sizeDescription];return C()?.epsUnavailable&&e.push(gu.epsUnavailable),e},E=e=>{const t=[gu.tile];return i===e&&t.push(gu.selectedTile),e.epsUnavailable&&t.push(gu.noEps),t},S=e=>(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("span",{children:[e.pixels,"",e.codec]}),(0,es.jsx)("span",{className:gu.divider,children:"|"}),(0,es.jsxs)("span",{className:gu.noWrap,children:[e.frameRate," fps",(0,es.jsx)("span",{className:gu.divider,children:"|"})]}),(0,es.jsx)("span",{className:gu.noWrap,children:e.contentType}),e.hasFileSize&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("span",{className:gu.divider,children:"|"}),(0,es.jsx)("span",{className:gu.noWrap,children:e.fileSize})]})]}),y=()=>{const e=(0,d.A)({cta_interaction:"help_me_choose_clicked",cta_text:"help_me_choose",cta_url:void 0,ui_element_location:m});return(0,u.C)(e),p((0,es.jsx)(hu,{assetSizes:h}))},N=e=>{"Enter"===e.key&&b(e)},I=e=>{if(t.isFilm)return e.label;const a=O.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?a:l(a)};return g?(0,es.jsx)("section",{"data-testid":"AssetSizeTileSelector",children:(0,es.jsxs)("div",{children:[(0,es.jsx)("ol",{className:gu.tiles,children:h.map(e=>{const a=t.isFilm?e.name:e.teeShirtSize;return(0,es.jsx)("li",{"aria-label":I(e),className:hs()(...E(e)),children:(0,es.jsx)("div",{role:"radio",tabIndex:0,"aria-checked":i===e,onClick:b,onKeyDown:N,onMouseOver:x,onFocus:x,onMouseOut:A,onBlur:A,id:`download-size-${a}`,name:a,className:"film"===c?gu.extraPadding:"",children:I(e)})},a)})}),(()=>{const e=C();return e?t.isFilm?(0,es.jsxs)("div",{className:hs()(...T(),gu.assetMetaData,gu.sizeDescriptionContainer),children:[S(e),(0,es.jsx)("div",{className:gu.flexBreak}),(0,es.jsx)("button",{type:"button",className:hs()(gu.helpMeChoose,gu.noWrap),"data-testid":"HelpMeChooseLink",onClick:y,children:l("help_me_choose")})]}):(0,es.jsxs)("div",{className:hs()(...T()),children:[" ",e.epsUnavailable?l(e.description):e.description," "]}):null})()]})}):null};var xu=()=>!(0,r.d4)(e=>e.calc.step.viewLicenseSelection)&&(0,es.jsx)("section",{className:"size-options adp-licenses adp-fade-and-slide","data-testid":"size-options",children:(0,es.jsx)(Cu,{})}),Au="hF_DnJtVhUJCZlo6RLZp",bu="W3VGX0UHoFyPkGL9S87T",Tu="Yvl3wdJNH70fWVm2MiKG",Eu="BxMDDJoVRFbmK8o0l1Ri";var Su=()=>{const e=(0,r.d4)(e=>e.calc.step.showSubTypeMessage),t=(0,r.d4)(e=>e.calc.step.dropboxEnabled),a=(0,r.d4)(e=>e.asset.freeFile),s=(0,fs.c)();return(0,es.jsxs)(es.Fragment,{children:[e&&!a&&(0,es.jsx)("div",{className:hs()(Au,bu),"data-testid":"info-subs",children:(0,es.jsx)("span",{className:Eu,children:s("available_with_your_subscription")})}),t&&(0,es.jsx)("div",{className:hs()(Au,Tu),"data-testid":"info-dropbox",children:(0,es.jsx)("span",{children:s("download_workflow.download_will_be_saved_to_dropbox")})})]})},yu=a(8842),Nu="YiOQ5xwNI3AjxFXXKNfI",Iu="iYy1XQyNjeMS48z9agd5",ju="eDoZV6nIxsfr62sjHBRg",Du="rVEPx1X1_2ZhqYeqHyFW",Ou="GMSJ_yer3a72jQqT86gL",Pu="O36bq7gvEuB9rnv8GPWf",Ru="jeHBwUTgnOReLhV90jsp";var ku=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.asset);if(!t||!t.videoTemplateApp)return null;const{videoTemplateApp:a,videoTemplateAppVersion:s,videoTemplateDimensions:i,pluginName:n}=t,o=(0,yu.I)(i?.bytes),l=`${i?`${i.width}x${i.height} px`:""} - ${o} MB`,c=s?e("requires_version",{version:s.text}):"";return(0,es.jsx)(Ro.A,{className:Nu,"data-testid":"video-template-info",children:(0,es.jsxs)(Ro.A,{flexDirection:ko.Qy.COLUMN,className:Iu,children:[(0,es.jsx)(xs.Ay,{className:ju,children:e("video_template")}),(0,es.jsxs)(Ro.A,{flexDirection:ko.Qy.COLUMN,className:Du,children:[(0,es.jsx)(xs.Ay,{className:Ou,children:e("video_template_file",{app_name:a.text})}),(0,es.jsx)(xs.Ay,{className:Pu,children:l}),c&&(0,es.jsx)(xs.Ay,{className:Ru,children:c}),(0,es.jsxs)(xs.Ay,{className:Ru,children:[e("requires_plug_ins")," ",n||e("none")]})]})]})})};var Lu=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.asset);return(0,es.jsx)("div",{className:"adp-free-file adp-content-animation-fade","data-testid":"free-file",children:(0,es.jsx)("span",{children:t.isIllustration?e("free_illustration_otm"):t.isFilm?e("free_video_otm"):e("free_photo_otw")})})};var Fu=({totalCreditCost:e})=>{const t=(0,fs.c)(),a=Number(e);if(!a)return null;const s=a>1?t("more_than_one_credit",{zero:a}):t("one_credit");return(0,es.jsx)("span",{children:s})};var Uu=({title:e=null,canPeekAtCost:t=null,showCreditCost:a=null,redownloadSection:s=null})=>{const i=(0,r.d4)(e=>e.buyCardData),{showTestA:n,showTestB:o}=i.geoPricingPromoPolicy,l=(0,r.d4)(e=>e.calc.totalCreditCost),c=(0,fs.c)();return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"header-geo-promo",children:(0,es.jsx)("span",{children:c("new_lower_prices")})}),(0,es.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide",children:[n&&(0,es.jsxs)("span",{className:"card-title__sub-title","data-testid":"test-a",children:[e&&(0,es.jsx)("span",{"data-testid":"title",children:c(e)}),e&&(a||t)&&(0,es.jsx)("span",{children:" | "}),(a||t)&&(0,es.jsx)("span",{"data-testid":"credit-cost",children:(0,es.jsx)(Fu,{totalCreditCost:l})})]}),o&&(0,es.jsx)("span",{className:"card-title__sub-title","data-testid":"test-b",children:s&&e?(0,es.jsx)("span",{"data-testid":"title",children:c(e)}):(0,es.jsx)("span",{"data-testid":"subtitle",children:c("high_quality_for_projects")})})]})]})};function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Bu.apply(null,arguments)}var Mu=({styles:e={},...t})=>i().createElement("svg",Bu({width:"13",height:"8",viewBox:"0 0 13 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M10.832 8a.6.6 0 00.57-.41l1.43-4.294a.6.6 0 00-.885-.7L9.604 4.049a.6.6 0 01-.832-.204L7.017.875a.6.6 0 00-1.033 0l-1.755 2.97a.6.6 0 01-.833.204L1.053 2.596a.6.6 0 00-.885.7L1.599 7.59a.6.6 0 00.57.41z",fill:"#0C0D0D"})),zu=a(6132);function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Wu.apply(null,arguments)}var Hu=({styles:e={},...t})=>i().createElement("svg",Wu({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{className:e["icons-unisporkal-istock-tooltip-svg__bg"]||"icons-unisporkal-istock-tooltip-svg__bg",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"}),i().createElement("path",{className:e["icons-unisporkal-istock-tooltip-svg__border"]||"icons-unisporkal-istock-tooltip-svg__border",d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"}),i().createElement("path",{className:e["icons-unisporkal-istock-tooltip-svg__icon"]||"icons-unisporkal-istock-tooltip-svg__icon",d:"M12.834 13.443v.112h-2.158v-.252c0-1.71 2.34-1.835 2.34-3.264 0-.616-.45-.98-1.262-.98-.658 0-1.33.238-1.877.84l-1.19-1.415c.91-.854 1.947-1.302 3.277-1.302 1.976 0 3.349.98 3.349 2.69 0 2.31-2.48 2.52-2.48 3.57zm-1.065.714c.728 0 1.33.603 1.33 1.331a1.33 1.33 0 11-1.33-1.33z"})),Vu="acM6S5gOxyu9jweEvAV4";var Gu=({className:e=""})=>{const t=hs()(Vu,e);return(0,es.jsx)(Hu,{className:t})},Yu="ANksuCv31Z4tBoJ3akm0",Ku="T3U9JcIZ9rhMAmDVeVLq";var Qu=({title:e,icon:t,tooltip:a})=>(0,es.jsxs)("div",{className:Yu,children:[t&&(0,es.jsx)("span",{className:Ku,children:t}),(0,es.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-card-title--with-tooltip",children:[(0,es.jsx)("span",{"data-testid":"title",children:e}),a]})]}),Ju="dYnNouaOrNdOKnww6dkl",Zu="CTXftC9k1zGp9DZX56uh";var qu=({title:e=null,canPeekAtCost:t=null,showCreditCost:a=null,showPricingClarity:s=null})=>{const i=(0,fs.c)(),n=(0,r.d4)(e=>e.userDetails.team_name),o=(0,r.d4)(e=>e.buyCardData.downloadActionsPolicy?.showInfoTooltip),l=(0,r.d4)(e=>e.buyCardData.pricingClarityContent?.tooltipText)??"",c=(0,r.d4)(e=>e.calc.totalCreditCost),d=(0,r.d4)(e=>e.calc.assetCollectionIsSignature),u=(0,r.d4)(e=>e.buyCardData.basicSelfServeUpgrade.basicToPremUpsellTestEligible),_=(0,r.d4)(e=>e.asset.isFilm),p=d&&u&&"signature_collection"===e&&!_;return(0,es.jsxs)(es.Fragment,{children:[(a||t)&&(0,es.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,es.jsx)("div",{className:"download-actions__header",children:(0,es.jsx)(Fu,{totalCreditCost:c})})}),e&&(0,es.jsx)(Qu,{title:i(e,{team_name:n}),icon:p&&(0,es.jsx)(Mu,{"data-testid":"crown-icon"}),tooltip:s&&o&&(0,es.jsx)(zu.Ay,{"data-testid":"info-tooltip",className:Ju,content:l,children:(0,es.jsx)("span",{className:Zu,children:(0,es.jsx)(Gu,{})})})})]})};var $u=({title:e=null})=>{const t=(0,fs.c)(),a=(0,r.d4)(e=>e.userDetails.team_name),s=(0,r.d4)(e=>e.asset.assetCost);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,es.jsx)("div",{className:"download-actions__header",children:s})}),e&&(0,es.jsx)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-card-title--with-tooltip",children:(0,es.jsx)("span",{"data-testid":"title",children:t(e,{teamName:a})})})]})};var Xu=({isEpsFormatTest:e=!1,epsFormatTitleDownload:t,editsPendingForDownload:a=!1,imageIsEdited:s=!1})=>{const i=(0,fs.c)(),n=(0,r.d4)(e=>e.asset),o=(0,r.d4)(e=>e.calc.step.title),l=(0,r.d4)(e=>e.calc.step.name),c=(0,r.d4)(e=>e.calc.step.showCreditCost),d=(0,r.d4)(e=>e.calc.step.showPricingClarity),u=(0,r.d4)(e=>e.calc.step.redownloadSection),_=(0,r.d4)(e=>e.calc.selectedOptionalLicenses),p=(0,r.d4)(e=>e.calc.selectedAgreementType),m=(0,r.d4)(e=>e.buyCardData.geoPricingPromoPolicy.show),h=_&&p,g=(0,r.d4)(e=>e.mobileSimplification),{completeSection:f}=(0,r.d4)(e=>e.calc.step);let w=o;return"COMPLETE_DOWNLOAD"===l&&(s&&(w="your_download_is_complete"),a&&(w="youve_updated_this_photo")),n.freeFile?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(Lu,{}),w&&(0,es.jsx)("h2",{id:"card-title","data-testid":"title",className:"adp-card-title adp-fade-and-slide",children:i(w)})]}):m?(0,es.jsx)(Uu,{title:w,canPeekAtCost:h,showCreditCost:c,redownloadSection:u}):g?(0,es.jsx)($u,{title:w}):(0,es.jsx)(qu,{title:e&&f?t():w,canPeekAtCost:h,showCreditCost:c,showPricingClarity:d})},e_="N53WNDnn2WZbKocDYe5a",t_="elsGEMhAbWvvYn3LVJvg";var a_=()=>{const e=(0,r.d4)(e=>e.buyCardData.restrictedUsesPath)??"",t=(0,fs.c)();return(0,es.jsxs)("section",{"data-testid":"editorial-use-only",children:[(0,es.jsx)(js.A,{children:t("editorial_use_only_with_link",{links:[{href:`${e}`,target:"_blank",rel:"noopener noreferrer"}]})}),(0,es.jsx)(zu.Ay,{className:e_,content:t("editorial_use_clarification"),children:(0,es.jsx)("span",{className:t_,children:(0,es.jsx)(Gu,{})})})]})};var s_=()=>{const e=(0,r.d4)(e=>e.asset),t=(0,r.d4)(e=>e.calc.hasSelectedOptionalLicenses),a=(0,r.d4)(e=>e.calc.selectedAgreementType),s=(0,r.d4)(e=>e.calc.step.showCreditCost),i=t&&a,n=(0,r.d4)(e=>e.calc.totalCreditCost);return(0,es.jsx)(es.Fragment,{children:e.freeFile?(0,es.jsx)(Lu,{}):s||i?(0,es.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-credit-cost",children:(0,es.jsx)("div",{className:"download-actions__header",children:(0,es.jsx)(Fu,{totalCreditCost:n})})}):null})},i_=a(25074),n_="GYluNbxFpn4hPqHIE9Aw",o_="tZT3_km6MnkWbVQCO6wu",r_="esDKZ8GKwPD6rILaYK9_",l_="UTG7CMZteFQrg8H1BH13",c_="AINW427_ABKJEjp3845u",d_="Ujr58cVYIz1pOD4vt3jw",u_="mnVpBlqkZ37HVxIpylK8",__="appDOtD8JRgouzOBuAYd",p_="Ofz1tSlE8_v1XNJ4t6BP",m_="L9YzO83zrJ3OaF3EAJIQ",h_="PrBxu0yrZr5tfD3bjBBS",g_="HsofGD6tLRxna_djrC5y",f_="L4toYv9dPz5byQiuEvCA",w_="pl3FQOanD6u1kkpuNXVJ";var v_=()=>{const e=(0,r.d4)(e=>e.licenses).toArray(),t=(0,fs.c)(),a=(0,r.wA)(),i=(0,i_.DP)().checkbox||{};(0,s.useEffect)(()=>{document.querySelector("#licenses-close-btn").focus()},[]);const n=e=>{const t=[];return e.is_acquired_and_not_repurchasable&&t.push(o_),e.is_selected&&t.push(r_),(e.is_purchase_required||e.is_acquired_and_not_repurchasable)&&t.push(l_),t.join(" ")},o=(0,es.jsxs)("header",{className:p_,children:[(0,es.jsx)("h2",{className:m_,children:t("add_licenses")}),(0,es.jsx)(xo.A,{id:"licenses-close-btn",className:d_,ariaLabel:"close license picker",onClick:()=>{a(De.closeLicensePicker())}})]}),l=(0,es.jsxs)("div",{className:h_,children:[(0,es.jsx)("div",{className:__,children:t("license_types")}),(0,es.jsx)("div",{className:__,children:t("istock_credits")})]}),c=(0,es.jsx)("ul",{"data-testid":"license-list",children:e.map((e,t)=>{const s=e.is_purchase_required||e.is_acquired_and_not_repurchasable;return(0,es.jsx)("li",{className:hs()(c_,n(e)),"data-testid":"license-listitem",children:(0,es.jsxs)("label",{htmlFor:`el_${t}`,className:g_,children:[(0,es.jsx)("input",{id:`el_${t}`,type:"checkbox",className:hs()(i.checkboxInput,s?i.defaultChecked:"",f_),disabled:Boolean(s),defaultChecked:s,onChange:()=>(e=>{a(De.checkLicense(e))})(t)}),(0,es.jsxs)("div",{className:w_,"data-testid":"license-description",children:[e.description,e.sub_description&&(0,es.jsx)("p",{className:n_,"data-testid":"license-sub-description",children:e.sub_description})]}),(0,es.jsx)("span",{className:u_,children:e.credit_cost})]})},`${e.license_type}`)})});return(0,es.jsxs)("section",{"data-testid":"adp-licenses",children:[o,(0,es.jsxs)("div",{children:[l,(0,es.jsx)("hr",{}),c]})]})};const C_=e=>"eps"===e.format?"eps":"jpeg"===e.format&&""!==e.size&&e.size;var x_=()=>{const e=(0,r.wA)(),{sizes:t}=(0,r.d4)(e=>e.asset),a=(0,r.d4)(e=>e.buyCardData.preferences),i=O.getEpsPreferredSize(a),n=(o=i)?"eps"===o?o:"jpeg":"";var o;const[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)({format:n,size:"",..."eps"!==i&&{size:i}}),_=t.toArray();return{errorElem:l,pickerOptions:d,setSelected:t=>{c("");const a={...d,...t};u(a);const s=C_(a);let i="";s&&(i=_.filter(e=>e.teeShirtSize===s),e(De.selectAssetSize(i[0])),O.setPreferredSize(i[0]?.teeShirtSize))},validateEpsPickerAndSave:()=>{if(""===d.format?(c("format"),0):"jpeg"!==d.format||d.size||(c("size"),0)){const e=C_(d);return O.setPreferredSize(e),!0}return!1},epsFormatCtaTitle:()=>"eps"===d.format?{download:"download_eps",confirm:"confirm_eps_download"}:"jpeg"===d.format?{download:"download_jpeg",confirm:"confirm_jpeg_download"}:{download:"download_illustration",confirm:"confirm_illustration_download"},epsFormatCompleteDownload:()=>"eps"===d.format?{dropbox:"successful_download_dropbox_eps_file",local:"successful_download_local_eps_file"}:{dropbox:"successful_download_dropbox_jpeg_file",local:"successful_download_local_jpeg_file"},epsFormatTitleDownload:()=>"eps"===d.format?"eps_download_complete":"jpeg_download_complete",epsFormatTypeCreditAgreement:()=>"eps"===d.format?"credit_license_agreement_for_eps":"credit_license_agreement_for_jpeg"}},A_="HnqmzloARVPzCcvXxNWz",b_="v1B08ysmhHCulB4heY6R",T_="LQh9eZgxwuG13bm96bnf",E_="aMYDEnr8rqC2AUnixYES",S_="iU0iEToLtfa3vACTruHN";var y_=({errorElem:e=""})=>{const t=(0,fs.c)(),a="format"===e,s=a?"select_file_type_above":"select_file_size_above";return(0,es.jsx)("section",{"data-testid":`vector-${e}-error-banner`,className:hs()(T_,{[S_]:a}),children:(0,es.jsx)("span",{className:E_,children:t(s)})})},N_="cOG2mnDMwdRBsOF5SOOv",I_="pJaN39BEOLPeNBWSo93g",j_="ocKYbDBuWoL11qopByGv";var D_=({size:e,selected:t,setSelected:a})=>{const i=(0,fs.c)(),[n,o]=(0,s.useState)(!1);return(0,es.jsx)("button",{type:"button","data-testid":"jpeg-size-option",onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},onClick:t=>{t.stopPropagation(),a({size:e.teeShirtSize})},className:hs()(N_,{[j_]:n,[I_]:t}),children:(e=>{const t=O.getSizeMap()[e.teeShirtSize];return i(t)})(e)})};var O_=({pickerOptions:e={format:"jpeg",size:""},errorElem:t="",setSelected:a=()=>{}})=>{const{sizes:s}=(0,r.d4)(e=>e.asset),i=e.size,n="size"===t,o=Array.from(s).filter(e=>!0!==e.isEps),l=(e=>{if(!e)return"";const t=o.filter(t=>t.teeShirtSize===e);return t[0]?.description})(i);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("section",{"data-testid":"jpeg-size-options",className:A_,children:o.map(e=>(0,es.jsx)(D_,{size:e,selected:i===e.teeShirtSize,setSelected:a},e.teeShirtSize))}),i&&(0,es.jsx)("section",{"data-testid":"jpeg-size-details",className:b_,children:l}),n&&(0,es.jsx)(y_,{errorElem:t})]})},P_="hHXl9N5SFPWG2uP1uYWQ",R_="awjZkOpLMVhrXmfiXQiX",k_="uzQ12GhhwXzeAE60nKE3",L_="xABcHLY44mKeHyORT25S",F_="J3lMqk2yhOK3w5aFvAkQ",U_="IAeN3DwmnZUnuO21xw1v",B_="kFwDtv2WZ_JeTQ6qkoQs",M_="KO6gY9faamYtaqscB0XX",z_="rYsvfqJF2vOiQcmqe6CA",W_="hm3Jvzw_ZdQgnmzPCx_W",H_="zKZcH9owiRi5vG_xFMyC",V_="EXpYbjx75TbTRKQAeQNw",G_="Bplk4GBtKPa7x4P3d0WO",Y_="CcFsqM7LN0TPDIFZ8jqq",K_="GmzDt5PsTnFBqCJ50CeZ",Q_="b0sKSYXAddvICsDNazKj";var J_=({value:e,heading:t,description:a,selected:i,setSelected:n=()=>{},error:o=!1,children:r})=>{const l=i===e,c=""===i,d=`vector-format-option-${e}`,[u,_]=(0,s.useState)(!1);return(0,es.jsxs)("div",{role:"radio","aria-label":t,"data-testid":d,className:(p=l,m=c,h=u,g=o,hs()(F_,{[U_]:p,[B_]:!p&&!m,[M_]:m,[W_]:h,[z_]:g})),tabIndex:0,"aria-checked":l,onClick:()=>{n({format:e})},onKeyDown:t=>{32===t.keyCode&&n({format:e})},onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),name:d,children:[(0,es.jsx)("span",{"data-testid":`${d}-radio`,className:hs()(H_,{[G_]:l,[W_]:u,[V_]:l&&r})}),(0,es.jsxs)("div",{className:Y_,children:[(0,es.jsx)("span",{className:K_,children:t}),(0,es.jsx)("span",{className:Q_,children:a}),l&&r]})]},e);var p,m,h,g};const Z_=({isError:e=!1})=>(0,es.jsx)("div",{className:hs()(L_,{[k_]:e}),"data-testid":"vector-format-divider"});var q_=({errorElem:e="",pickerOptions:t={format:"",size:""},setSelected:a=()=>{}})=>{const s=(0,fs.c)(),i=""!==e,n=t.format,o=""!==n;return(0,es.jsxs)("section",{"data-testid":"vector-format-options",className:hs()(P_,{[R_]:o,[k_]:i}),role:"radiogroup",children:[(0,es.jsx)(J_,{value:"jpeg",heading:s("jpeg_file"),description:s("jpeg"===n?"choose_preferred_file_type":"pixel_based"),selected:n,setSelected:a,error:"size"===e,children:(0,es.jsx)(O_,{pickerOptions:t,errorElem:e,setSelected:a})}),!o&&(0,es.jsx)(Z_,{isError:i&&"format"===e}),(0,es.jsx)(J_,{value:"eps",heading:s("eps_file"),description:s("vector_based_requires_software"),selected:n,setSelected:a})]})},$_="UeAbeRQ5qtjDDOfxLBxS",X_="NRDiQ1nkqIWc0HL1MwHH";var ep=({errorElem:e="",setSelected:t=()=>{},pickerOptions:a=""})=>{const s="format"===e;return(0,es.jsxs)("section",{"data-testid":"vector-format-size-picker",className:hs()($_,{[X_]:s}),children:[(0,es.jsx)(q_,{errorElem:e,pickerOptions:a,setSelected:t}),s&&(0,es.jsx)(y_,{errorElem:e})]})};function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},tp.apply(null,arguments)}var ap=({styles:e={},...t})=>i().createElement("svg",tp({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M5.372 20.361h8.6l3.376-8.055h-4.9l-7.076 8.055zM14.621 21.03h10.74l-5.303 14.09-5.437-14.09zM22.485 12.306l3.67 8.055h8.184l-6.543-8.055h-5.31z",fill:"#AEDDD6"}),i().createElement("path",{d:"M35.864 20.704c0-.006.003-.011.003-.017 0-.033-.015-.061-.019-.093a.816.816 0 00-.04-.2c-.018-.047-.046-.086-.072-.129-.022-.037-.034-.078-.063-.113l-7.198-8.605a.834.834 0 00-.64-.299H12.363a.835.835 0 00-.627.285l-7.53 8.605c-.031.036-.045.079-.069.118-.027.044-.058.083-.077.132-.025.066-.033.135-.04.204-.005.033-.02.061-.02.095 0 .005.003.008.003.013a.832.832 0 00.056.277c.004.011.003.025.007.036a.839.839 0 00.143.21c.014.017.02.039.036.053l15.141 15.141c.013.013.03.018.044.03a.82.82 0 00.18.12c.025.012.048.027.075.037.09.034.186.057.286.057h.01c.1-.001.193-.023.283-.057.028-.01.053-.025.08-.039a.82.82 0 00.175-.117c.014-.013.034-.018.047-.032l15.059-15.141a.83.83 0 00.175-.261c.006-.014.005-.03.01-.043a.83.83 0 00.054-.267zm-22.254.816l4.19 10.955L6.845 21.52h6.765zm7.896-8.605l3.135 6.939H15.43l2.87-6.939h3.207zm3.203 8.605l-4.723 12.004-4.592-12.004h9.315zm1.791 0h6.53L22.226 32.382 26.5 21.52zm6.75-1.666h-6.78l-3.136-6.939h4.112l5.805 6.939zm-20.509-6.939h3.753l-2.868 6.939H6.67l6.071-6.939zM20.225 8.632a.833.833 0 01-.833-.833V4.167a.833.833 0 111.666 0v3.632c0 .46-.373.833-.833.833zM27.796 9.384a.833.833 0 01-.59-1.423l2.57-2.567a.833.833 0 111.178 1.178L28.385 9.14a.83.83 0 01-.589.244zM12.072 9.384a.83.83 0 01-.59-.244L8.914 6.572a.833.833 0 111.178-1.178l2.569 2.568a.833.833 0 01-.59 1.422z",fill:"#0D0D0D"})),sp="HpKJS9s8XnJYnIzBf8f1",ip="ueti2H_HujnBx5wpAqqV",np={upgradeChoice:"SGvbLg4L38IU5nrMTIJI",selected:"HzSxIGzTp45iUBuXEYL_",radioContainer:"WSIZldOhILZ0DLFWCv0w",label:"K8XG9RlZ6QQBkW21oe_J",badge:"nU2uP_SsgOi6pBeUUsn4",radioButton:"KT2XMF_SbXf77JryxoTp",title:"ouoZMOax_3K_7HQjiwrt",subtitle:"KTRzsm8oarTEIC6N4EUf"};var op=({product:e,showBadge:t=!1,selectedSku:a,handleRadioSelection:s,showCreditsOption:i=!1})=>{const n=(0,fs.c)(),o=(0,r.d4)(e=>e.calc.selectedAccountHasAnyCredits),l=(0,r.d4)(e=>e.calc.step.neededCredits),c=(0,r.d4)(e=>e.calc.step.oneCreditNeeded),d=(0,r.d4)(e=>e.calc.step.oneCreditRemaining),u=(0,r.d4)(e=>e.calc.step.balance),_=!o,p=()=>a===(i?"credit":e.sku);return(0,es.jsxs)("div",{className:`${np.upgradeChoice} ${p()?np.selected:""}`,"data-testid":"radio-button",onChange:s,role:"radio",tabIndex:0,"aria-checked":!0,children:[t?(0,es.jsx)(qc,{className:np.badge,children:(0,es.jsx)(js.A,{children:n("best_value_caps")})}):null,(0,es.jsxs)("label",{className:np.label,htmlFor:i?"credit":e.sku,"data-testid":"label",children:[(0,es.jsx)("input",{type:"radio",className:np.radioButton,value:i?"credit":e.sku,name:"purchase-choice",id:i?"credit":e.sku,"data-testid":"radio",defaultChecked:p()}),(0,es.jsxs)("div",{className:np.titleContainer,children:[(0,es.jsx)("div",{className:np.title,"data-testid":"title",children:i?n("get_image_with_credits"):_?n("any_downloads_for_price",{downloads:e.download_cap,price:e.price_per_month}):n("get_image_by_upgrading")}),(0,es.jsx)("div",{className:np.subtitle,"data-testid":"subtitle",children:(()=>{if(i){const e=c?"buy_one_more_credit":"buy_multiple_credits";return`${n(d?"single_credit_available":"multiple_credits_available",{available:u})}\n        ${n(e,{needed:l})}`}return _?n("per_image",{price:e.price_per_image}):n("any_downloads_for_price",{downloads:e.download_cap,price:e.price_per_month})})()})]})]})]})},rp="grRh5idzLzZrVjJixvvK",lp="x19HmHUKhTVdWqGNtvzR";var cp=({buttonText:e,variant:t,isUpgradeButton:a=!0,selectedSku:i=null,ga4CreditsStatus:n})=>{const o=(0,r.d4)(e=>e.subscription.duration),l=(0,r.d4)(e=>e.subscription.download_cap),c=(0,r.d4)(e=>e.calc.step.upsellData),_=pc(),p=i&&"credit"!==i,m=p?()=>_.redirectToFastCheckoutWithUpgrade(i):_.redirectToPricing,h=p?_.fastCheckoutWithUpgradeUrl(i):_.pricingUrl(),g="OneMonth"===o?`monthly_self_upgrade_premium-${n}-credits`:`self_upgrade_premium-${n}-credits`,f=p?"upgrade_to_premium":"buy_credits",w={"super-cta":Vn.Jr.PRIMARY,"primary-cta":Vn.Jr.SECONDARY,"hollow-cta":Vn.Jr.HOLLOW}[t]??Vn.Jr.PRIMARY,v=hs()({[rp]:a,[lp]:!a});return(0,s.useEffect)(()=>{(()=>{const e=(0,d.A)({cta_interaction:"cta_shown",cta_selection:g,cta_text:f,cta_url:h,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(e)})()},[h]),(0,es.jsx)(Vn.Ay,{type:"submit","data-testid":"cta-button",className:v,variant:w,size:Vn.Ni.LARGE,onClick:e=>{e.preventDefault(),(()=>{let e=f;if(p){const t=[c?.product_two,c?.product_one].find(e=>e?.sku===i);e=(t?.download_cap??0)>l?`${f}_higher_volume`:`${f}_same_volume`}const t=(0,d.A)({cta_interaction:"cta_clicked",cta_selection:g,cta_text:e,cta_url:h,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(t)})(),m()},fullWidth:!0,children:e})};var dp=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.calc.totalCreditCost),a=(0,r.d4)(e=>e.calc.step.upsellData),i=(0,r.d4)(e=>e.calc.step.oneCreditNeeded),[n,o]=(0,s.useState)(a?.product_two?.sku||a?.product_one?.sku),l=e=>{o(e.target.value)},c=i?"get_image_one_credit":"get_image_x_credits";return(0,es.jsxs)("div",{"data-testid":"zero-credits-component",children:[(0,es.jsxs)("div",{className:sp,children:[(0,es.jsx)(ap,{className:ip,"data-testid":"icon"}),(0,es.jsx)(js.A,{children:e("get_this_image_by_upgrading",{strong:"<strong>",end_strong:"</strong>"})})]}),(0,es.jsx)("span",{children:(0,es.jsx)(js.A,{children:e("ready_to_upgrade")})}),(0,es.jsx)("hr",{}),a.product_one&&(0,es.jsx)(op,{product:a.product_one,selectedSku:n,handleRadioSelection:l}),(0,es.jsx)("hr",{}),a.product_two&&(0,es.jsx)(op,{product:a.product_two,selectedSku:n,handleRadioSelection:l,showBadge:!0}),(0,es.jsx)("hr",{}),(0,es.jsx)(cp,{buttonText:e("upgrade_to_premium"),variant:"primary-cta",selectedSku:n,ga4CreditsStatus:No.rb.ZERO}),(0,es.jsx)(cp,{buttonText:e(c,{amount:t}),variant:"hollow-cta",isUpgradeButton:!1,ga4CreditsStatus:No.rb.ZERO,selectedSku:"credit"})]})};var up=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.calc.step.upsellData),[a,i]=(0,s.useState)(t?.product_one?.sku||t?.product_two?.sku),n=e=>{i(e.target.value)},o="credit"===a?"buy_credits":"upgrade_your_subscription",l=t?.product_one??t?.product_two;return(0,es.jsxs)("div",{"data-testid":"insufficient-credits-component",children:[(0,es.jsx)("hr",{}),(0,es.jsx)(op,{selectedSku:a,handleRadioSelection:n,showCreditsOption:!0}),(0,es.jsx)("hr",{}),(0,es.jsx)(op,{product:l,selectedSku:a,handleRadioSelection:n,showBadge:!0}),(0,es.jsx)("hr",{}),(0,es.jsx)(cp,{buttonText:e(o),variant:"primary-cta",selectedSku:a,ga4CreditsStatus:No.rb.INSUFFICIENT})]})},_p="FVqVpLAdeBqv0t3u2iLe";var pp=()=>{const e=(0,r.wA)(),t=(0,r.d4)(e=>e.calc.selectedAccountHasAnyCredits),a=(0,r.d4)(e=>e.subscription.sku),s=!t,i=(0,r.d4)(e=>e.calc.step.confirmSection)?(0,es.jsx)("div",{className:_p,children:(0,es.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,es.jsx)(xo.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{e(De.cancelDownload())}})})}):null;return((e,t)=>{window.tracking_data&&(window.tracking_data.page_mode=e?"premium_self_upgrade_insufficient-credits":"premium_self_upgrade-no-credits",window.tracking_data.sku=t)})(t,a),(0,es.jsxs)(es.Fragment,{children:[i,s?(0,es.jsx)(dp,{}):(0,es.jsx)(up,{})]})};function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},mp.apply(null,arguments)}var hp=({styles:e={},...t})=>i().createElement("svg",mp({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M5.5 7.806v8.212h28.826V7.806h-5.172s.42 4.801-2.37 4.428c0 0-2.733.264-2.622-4.61h-8.76v2.765s-.636 1.996-2.368 1.845c0 0-2.923.57-2.37-4.61L5.5 7.806z",fill:"#AFDED7"}),i().createElement("path",{d:"M11.5 32.154l-1.116-1.116 7.154-7.153 4 4 7.043-8 1.053 1.034-8.076 9.216-4.02-4.02-6.038 6.039z",fill:"#000"}),i().createElement("path",{d:"M34.325 6.79h-4.548v-.467a2.962 2.962 0 00-2.958-2.958 2.962 2.962 0 00-2.958 2.958v.468h-7.92v-.5a2.962 2.962 0 00-2.96-2.958 2.962 2.962 0 00-2.958 2.959v.499H5.5a.833.833 0 00-.833.833v27.89c0 .461.373.834.833.834h28.825c.46 0 .834-.373.834-.833V7.624a.833.833 0 00-.834-.833zm-8.798-.467c0-.712.58-1.292 1.292-1.292.712 0 1.292.58 1.292 1.292V9.99c0 .712-.58 1.291-1.292 1.291-.712 0-1.292-.58-1.292-1.291V6.323zM11.69 6.292c0-.713.58-1.292 1.292-1.292.712 0 1.291.58 1.291 1.292v3.666c0 .713-.579 1.292-1.291 1.292s-1.292-.58-1.292-1.292V6.292zm-1.667 2.165v1.501a2.962 2.962 0 002.959 2.959 2.962 2.962 0 002.958-2.959v-1.5h7.92V9.99a2.962 2.962 0 002.959 2.958 2.962 2.962 0 002.958-2.958V8.457h3.715v6.727H6.333V8.457h3.69zm-3.69 26.225V16.85h27.16v17.83H6.332z",fill:"#0D0D0D"})),gp={closeIcon:"rvGDUv8MsMikqGDQ2RBl",promoContainer:"AflSVfeYFj_r7g1V6yrE",upgradePromo:"v8w0K0266epC0w_ehMGQ",icon:"SQkxQiTEZJGOsc1E6eww",upgradeText:"KBAVcz3342G3aoYE9oc6"},fp={upgradeChoice:"elPF7iRtwfHKQLwId5o9",selected:"jF6eDuJEUylggg0eMkCJ",radioContainer:"kFRPP_tTNTempZrUh7dF",label:"cBXphz_o3KvSSCJ1BI88",badge:"X2RIBTeXPV1QRiyFsiev",radioButton:"VgiAMZycTb5C1azSevdd",title:"Fe1ftR6MfOWXgN2BOz9d",subtitle:"pwTk0_dYkUbhB2SeMwj1"};var wp=({product:e=null,showBadge:t=!1,selectedSku:a,handleRadioSelection:s,showCreditsOption:i=!1})=>{const n=(0,fs.c)(),{isPPV:o}=(0,r.d4)(e=>e.userDetails.subsInfo),l=()=>!!i||a===e?.sku,c=(0,r.d4)(e=>e.userDetails.istock_asset_credit_cost),d=o?"file_amount_for_price":"image_amount_for_price",u=i?n("get_image_with_credits"):n(d,{amount:e.download_cap,formatted_price:e.price_per_month}),_=i?n("buy_one_credit_for_price",{price:c}):n(o?"price_per_asset":"per_image",{price:e.price_per_image});return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("hr",{}),(0,es.jsxs)("div",{className:`${fp.upgradeChoice} ${l()?fp.selected:""}`,"data-testid":"radio-button",onChange:s,role:"radio",tabIndex:0,"aria-checked":!0,children:[t?(0,es.jsx)(qc,{className:fp.badge,children:(0,es.jsx)(js.A,{children:n("best_value_caps")})}):null,(0,es.jsxs)("label",{className:fp.label,htmlFor:e?.sku??"credits","data-testid":"label",children:[(0,es.jsx)("input",{type:"radio",className:fp.radioButton,value:e?.sku??"credits",name:"purchase-choice",id:e?.sku??"credits","data-testid":"radio",defaultChecked:l()}),(0,es.jsxs)("div",{className:fp.titleContainer,children:[(0,es.jsx)("div",{className:fp.title,"data-testid":"title",children:u}),(0,es.jsx)("div",{className:fp.subtitle,"data-testid":"subtitle",children:_})]})]})]})]})};const vp=e=>e.includes("PLUS")?"ppv":e.includes("PREM")?"premium":"basic",Cp=(e,t,a)=>{const s=`self_upgrade_higher_${vp(e)}_${a?"no":"low"}_downloads`;return"OneMonth"===t?`monthly_${s}`:s},xp=(e,t,a,s,i,n)=>{const o=(0,d.A)({cta_interaction:e,cta_text:t,cta_selection:Cp(a,s,i),cta_url:n,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(o)},Ap=(e,t,a,s,i=!0)=>{xp("cta_clicked",a,e,t,i,s)},bp=(e,t,a,s,i=!0)=>{const n=s?`upgrade_to_higher_${vp(e)}`:"buy_credits";xp("cta_shown",n,e,t,i,a)};var Tp="T0YBRx8GhvyFlE23SHR6",Ep="sKsUCyIR5b5a6Teu3Ecd";var Sp=({buttonText:e,variant:t,selectedSku:a=null})=>{const i=(0,r.d4)(e=>e.subscription.duration),n=pc(),o=(0,r.d4)(e=>e.calc.step.subscriptionSku),l=a&&"credit"!==a,c=l?n.fastCheckoutWithUpgradeUrl(a):n.pnpCreditAssetUrl(),d=e=>{Ap(o,i,l?"upgrade_subscription":"get_this_image_credits",c),e.preventDefault(),l?n.redirectToFastCheckoutWithUpgrade(a):window.location.href=n.pnpCreditAssetUrl()},u=t??Vn.Jr.PRIMARY,_=hs()("secondary"===t?Tp:Ep);return(0,s.useEffect)(()=>{l&&bp(o,i,c,l)},[]),(0,es.jsx)(Vn.Ay,{type:"submit","data-testid":"cta-button",className:_,variant:u,size:Vn.Ni.LARGE,onClick:e=>d(e),fullWidth:!0,children:e})};var yp=()=>{const e=(0,Is.F)(),t=(0,fs.c)(),a=(0,r.d4)(e=>e.calc.step.upsellData),i=(0,r.d4)(e=>e.calc.totalCreditCost),n=(0,r.d4)(e=>e.buyCardData.higherVolumeSelfUpgrade.canSelfUpsell),o=(0,r.d4)(e=>e.userDetails.subsInfo.downloadLimit),[l,c]=(0,s.useState)(a?.product_two?.sku||a?.product_one?.sku),{isFilm:d,isVideoTemplate:u}=(0,r.d4)(e=>e.asset),_=e=>{c(e.target.value)},p=e.cleanPath("/customer-support/upgrade"),m=(0,s.useMemo)(()=>d?"boost_subscription_add_more":u?"boost_subscription_video_template":"boost_your_subscription",[d,u]);return(0,es.jsxs)("div",{"data-testid":"zero-downloads-component",children:[(0,es.jsxs)("div",{className:gp.upgradePromo,children:[(0,es.jsx)(hp,{className:gp.icon,"data-testid":"icon"}),(0,es.jsxs)("div",{className:gp.upgradeText,children:[(0,es.jsx)(js.A,{children:t("no_available_downloads",{strong:"<strong>",download_cap:o,end_strong:"</strong>"})}),n?t(m):(0,es.jsxs)("a",{href:p,children:[(0,es.jsx)("span",{children:t("dont_run_out_again")}),(0,es.jsxs)("span",{children:[t("contact_us"),">"]})]})]})]}),(0,es.jsx)("span",{className:gp.optionsText,children:(0,es.jsx)(js.A,{children:t("download_options")})}),n&&(0,es.jsxs)(es.Fragment,{children:[a.product_one&&(0,es.jsx)(wp,{product:a.product_one,selectedSku:l,handleRadioSelection:_}),a.product_two&&(0,es.jsx)(wp,{product:a.product_two,selectedSku:l,handleRadioSelection:_,showBadge:!0}),(0,es.jsx)("hr",{}),(0,es.jsx)(Sp,{buttonText:t("upgrade_cta"),variant:Vn.Jr.SECONDARY,selectedSku:l}),(0,es.jsx)(Sp,{buttonText:t(1===i?"get_image_one_credit":"get_image_x_credits",{amount:i}),variant:Vn.Jr.HOLLOW,selectedSku:"credit"})]}),!n&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(wp,{selectedSku:"credits",handleRadioSelection:_,showCreditsOption:!0}),(0,es.jsx)(Sp,{buttonText:t("buy_credits"),variant:Vn.Jr.SECONDARY,selectedSku:"credit"})]})]})};var Np=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.subscription.duration),a=(0,r.d4)(e=>e.calc.step.downloadsRemaining),i=(0,r.d4)(e=>e.calc.step.subscriptionSku),{higherVolumeUpgradeRedirectUrl:n}=pc(),o=n();return(0,s.useEffect)(()=>{document.getElementById("upgrade-plan-redirect-link").addEventListener("click",()=>Ap(i,t,"upgrade_subscription_low_downloads",o,!1)),bp(i,t,o,!0,!1)},[]),(0,es.jsxs)("div",{className:gp.promoContainer,"data-testid":"some-downloads-component",children:[(0,es.jsx)(hp,{className:gp.icon,"data-testid":"icon"}),(0,es.jsxs)("div",{className:gp.upgradeText,children:[(0,es.jsx)(js.A,{children:1===a?e("one_download_remaining"):e("available_downloads_remaining",{available:a})}),(0,es.jsx)(js.A,{children:e("dont_run_out_of_downloads",{links:[{href:o,target:"_blank",rel:"noopener noreferrer nofollow",id:"upgrade-plan-redirect-link"}]})})]})]})};var Ip=()=>{const e=(0,r.wA)(),t=(0,r.d4)(e=>e.calc.step.downloadsRemaining),a=(0,r.d4)(e=>e.calc.step.isConfirmationState),s=(0,r.d4)(e=>e.calc.step.cancelButton)?(0,es.jsx)("div",{className:gp.closeIcon,children:(0,es.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,es.jsx)(xo.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{e(De.cancelDownload())}})})}):null;return(0,es.jsxs)(es.Fragment,{children:[s,0===t&&(0,es.jsx)(yp,{}),a&&t>0&&(0,es.jsx)(Np,{})]})},jp="u0RDgdtVID1R0R8Y82WQ",Dp="a9KhJfmuEhTs28hr0uYM";var Op=()=>{const e=(0,$n.I)(),{upgradePlanRedirectUrl:t}=pc(),a=t(),i=(0,r.d4)(e=>e.subscription.duration),n=(0,r.d4)(e=>e.subscription.sku),o="OneMonth"===i?"monthly_self_upgrade_premium-sufficient-credits":"self_upgrade_premium-sufficient-credits";return(0,s.useEffect)(()=>{(e=>{window.tracking_data&&(window.tracking_data.page_mode="premium_self_upgrade-sufficient-credits",window.tracking_data.sku=e)})(n),((e,t)=>{const a=(0,d.A)({cta_interaction:"cta_shown",cta_selection:t,cta_text:"upgrade_to_premium",cta_url:e,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(a)})(a,o)},[]),(0,es.jsx)("div",{"data-testid":"sufficient-credits-component",children:(0,es.jsxs)("div",{className:jp,children:[(0,es.jsx)(ap,{className:Dp,"data-testid":"icon"}),(0,es.jsxs)("span",{"data-testid":"sufficient-credit-msg",children:[e("want_to_access_all_images"),e("upgrade_your_plan",{links:[{href:a,id:"upgrade-plan-redirect-link",onClick:()=>((e,t)=>{const a=(0,d.A)({cta_interaction:"cta_clicked",cta_selection:t,cta_text:"upgrade_to_premium",cta_url:e,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(a)})(a,o)}]}),(0,es.jsx)("br",{})]})]})})};var Pp=()=>{const e=(0,r.d4)(e=>e.asset),t=(0,r.d4)(e=>e.calc.step.showTshirtSizes),a=(0,r.d4)(e=>e.calc.step.completeSection),s=(0,r.d4)(e=>e.calc.step.isConfirmationState),i=(0,r.d4)(e=>e.calc.step.redownloadSection),n=(0,r.d4)(e=>e.calc.step.viewLicenseSelection),o=(0,r.d4)(e=>e.calc.redownloadForFree),l=(0,r.d4)(e=>e.calc.step.showBasicSelfServeUpgrade),c=(0,r.d4)(e=>e.calc.step.showHigherVolumeSelfUpgrade),d=(0,r.d4)(e=>!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits),{errorElem:u,pickerOptions:_,setSelected:p,validateEpsPickerAndSave:m,epsFormatCtaTitle:h,epsFormatCompleteDownload:g,epsFormatTitleDownload:f,epsFormatTypeCreditAgreement:w}=x_();return(0,es.jsx)("div",{className:"download-actions","data-testid":"eps-download-actions",children:(0,es.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[n?(0,es.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,es.jsx)(s_,{}),(0,es.jsx)(v_,{})]}):(0,es.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,es.jsx)(Xu,{isEpsFormatTest:!0,epsFormatTitleDownload:f}),e.isEditorialUseOnly&&(0,es.jsx)("div",{className:"editorial-bubble",children:(0,es.jsx)(a_,{})}),!o&&!a&&(0,es.jsx)(Su,{}),t&&(0,es.jsx)(ep,{errorElem:u,setSelected:p,pickerOptions:_})]}),c&&(0,es.jsx)(Ip,{}),(0,es.jsx)(tu,{validateEpsPickerAndSave:m,isEpsFormatTest:!0,epsFormatCtaTitle:h,epsFormatCompleteDownload:g,imageIsEdited:!1}),i&&!e.freeFile&&(0,es.jsx)(au,{}),s&&(0,es.jsx)(su,{isEpsFormatTest:!0,epsFormatTypeCreditAgreement:w}),l&&(0,es.jsx)(pp,{}),s&&d&&(0,es.jsx)(Op,{})]})})},Rp="WxCLwHSxahnXOpwLZIHO",kp="H_IX_LDvqq_HXFfcKDEU",Lp="dUXd7I_hfpfPiVyHby4p";var Fp=({buttonText:e,variant:t,isUpgradeButton:a=!1,selectedSku:i=null,creditsFastCheckout:n=!1,redirectToPricing:o=!0,ga4CreditsStatus:l})=>{const c=(0,r.d4)(e=>e.subscription.duration),_=pc(),p=a?"upgrade_to_ppv":"buy_credits",m="OneMonth"===c?`monthly_is_ppv_self_upgrade-${l}-credits`:`is_ppv_self_upgrade-${l}-credits`,[h,g]=a?i?[()=>_.redirectToFastCheckoutWithUpgrade(i),_.fastCheckoutWithUpgradeUrl(i)]:o?[_.redirectToSelfServeUpgrade,_.selfServeUpgradeUrl()]:[_.redirectToPPVUpgradeContactUs,_.ppvUpgradeContactUsUrl()]:n?[_.redirectToFastCheckout,_.fastCheckoutUrl()]:[_.redirectToPricing,_.pricingUrl()],f={"primary-cta":Vn.Jr.SECONDARY,"hollow-cta":Vn.Jr.HOLLOW}[t]??Vn.Jr.PRIMARY,w=hs()("primary-cta"===t?kp:Lp);return(0,s.useEffect)(()=>{(()=>{const e=(0,d.A)({cta_interaction:"cta_shown",cta_selection:m,cta_text:p,cta_url:g,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(e)})()},[g]),(0,es.jsx)(Vn.Ay,{type:"submit","data-testid":"cta-button",className:w,variant:f,size:Vn.Ni.LARGE,onClick:e=>{(()=>{const e=(0,d.A)({cta_interaction:"cta_clicked",cta_selection:m,cta_text:p,cta_url:g,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(e)})(),(e=>{e.preventDefault(),h()})(e)},fullWidth:!0,children:e})},Up="Jjy9O0GDL6ZrsL9jrBXh",Bp="IHb5tRD76wAZXjlrRZYs",Mp="Ls6eMWAqCKIt7WYvD95f",zp="cDavE0iFMCzdmcb7iQwy",Wp="ORtolIzJvJBIoMm1WI9N",Hp="BhNThXdentOZhKGn5lQk",Vp="SyFqlH36oESvSBhhhPZW",Gp="fL5ByvN37MsDNy8RLmpw",Yp="STfLH_3ymFQ0sVM4zMPG",Kp="xWvfCiNTGefybT74zCrG";var Qp=({upsellProduct:e={price_per_image:"",download_cap:0},showBadge:t=!1,selectedOption:a,handleRadioSelection:s,isCredits:i=!1})=>{const n=(0,fs.c)(),o=(0,r.d4)(e=>e.calc.totalCreditCost),l=(0,r.d4)(e=>e?.subscription?.duration),c=(0,r.d4)(e=>e.userDetails.istock_asset_credit_cost),d=!(0,r.d4)(e=>e.calc.selectedAccountHasAnyCredits),u=(0,r.d4)(e=>e.calc.step.oneCreditRemaining),_=i?"credits":"upgrade",p=(0,r.d4)(e=>e.calc.step.balance),m=a===_,h=m?Bp:"";return(0,es.jsxs)("div",{className:`${Up} ${h}`,"data-testid":"radio-button",onChange:s,role:"radio",tabIndex:0,"aria-checked":!0,children:[t?(0,es.jsx)(qc,{className:zp,children:(0,es.jsx)(js.A,{children:n("best_value_caps")})}):null,(0,es.jsxs)("label",{className:Mp,htmlFor:_,"data-testid":"label",children:[(0,es.jsx)("input",{type:"radio",className:Wp,value:_,name:"purchase-choice",id:_,"data-testid":"radio",defaultChecked:m}),(0,es.jsxs)("div",{className:Hp,children:[(0,es.jsx)("div",{className:Vp,"data-testid":"title",children:n(i?"get_this_video_with_credits":"OneMonth"===l?"upgrade_to_ppv_sub":"upgrade_to_an_annual_premium")}),(0,es.jsx)("div",{className:Gp,"data-testid":"subtitle",children:(()=>{if(i){if(d)return n("buy_credits_for_price",{num_credits:o,price:c});return`${n(u?"single_credit_available":"multiple_credits_available",{available:p})}\n        ${n("buy_more_credits")}`}return(0,es.jsxs)("ul",{className:Yp,children:[(0,es.jsx)("li",{className:Kp,children:d?n("get_video_for_price",{price:e.price_per_image}):n("get_lowest_price_video")}),(0,es.jsx)("li",{className:Kp,children:d?n("any_x_files_per_month",{files_per_month:e.download_cap}):n("access_any_file")}),(0,es.jsx)("li",{className:Kp,children:n("rollover_250_unused_downloads")})]})})()})]})]})]})},Jp="pyJt1UIVEnhuALI4jvZS",Zp="zbELjbuRObh19psdcw1L";var qp=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.calc.totalCreditCost),a=(0,r.d4)(e=>e.buyCardData.enhancedPPVUpgrade),{upsellProduct:i}=a,n=a.canSelfUpsell?i.sku:null,o=()=>a.canSelfUpsell?n?"primary-cta":"hollow-cta":"primary-cta",[l,c]=(0,s.useState)(a.canSelfUpsell?"upgrade":"credits"),d="credits"===l,u=e=>{c(e.target.value)};return(0,es.jsxs)("div",{className:Zp,"data-testid":"zero-credits-component",children:[(0,es.jsx)("hr",{}),(0,es.jsx)(Qp,{selectedOption:l,handleRadioSelection:u,isCredits:!0}),(0,es.jsx)("hr",{}),(0,es.jsx)(Qp,{upsellProduct:i,selectedOption:l,handleRadioSelection:u,showBadge:!0}),(0,es.jsx)("hr",{}),d?(0,es.jsx)(Fp,{buttonText:e("get_video_with_credits",{price_per_clip:t}),variant:o(),creditsFastCheckout:!0,ga4CreditsStatus:No.rb.ZERO}):(0,es.jsx)(Fp,{buttonText:e("upgrade_to_premium_plus_video"),variant:o(),isUpgradeButton:!0,selectedSku:n,redirectToPricing:!1,ga4CreditsStatus:No.rb.ZERO})]})};var $p=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.buyCardData.enhancedPPVUpgrade.upsellProduct),[a,i]=(0,s.useState)("upgrade"),n=e=>{i(e.target.value)},o="credits"===a,l=o?"buy_credits":"upgrade_your_subscription";return(0,es.jsxs)("div",{className:Zp,"data-testid":"insufficient-credits-component",children:[(0,es.jsx)("hr",{}),(0,es.jsx)(Qp,{selectedOption:a,handleRadioSelection:n,isCredits:!0}),(0,es.jsx)("hr",{}),(0,es.jsx)(Qp,{upsellProduct:t,selectedOption:a,handleRadioSelection:n,showBadge:!0}),(0,es.jsx)("hr",{}),(0,es.jsx)(Fp,{buttonText:e(l),variant:"primary-cta",isUpgradeButton:!o,ga4CreditsStatus:No.rb.INSUFFICIENT})]})};var Xp=()=>{const e=(0,r.wA)(),t=(0,r.d4)(e=>e.calc.selectedAccountHasAnyCredits),a=(0,r.d4)(e=>e.calc.selectedAccountHasEnoughCredits),i=t&&!a,n=(0,r.d4)(e=>e.calc.step.confirmSection)?(0,es.jsx)("div",{className:Jp,children:(0,es.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,es.jsx)(xo.A,{className:"adp-confirm-close-btn",ariaLabel:"cancel download",id:"cancel-download-btn","data-testid":"cancel-button",onClick:()=>{e(De.cancelDownload())}})})}):null,o=!t;return(0,s.useEffect)(()=>{window.tracking_data&&(window.tracking_data.page_mode=t?"ppv_midterm_upgrade-insufficient-credits":"ppv_midterm_upgrade-no-credits")},[]),(0,es.jsxs)("div",{children:[n,o&&(0,es.jsx)(qp,{}),i&&(0,es.jsx)($p,{})]})},em="S7lfmrJKIe2yVOVKdPIX",tm="dTTY3V_3Bpx7sJjp5xYy",am="cKdyha8ofQ7z8l5TlZHw";var sm=()=>{const e=(0,fs.c)(),t=(0,r.d4)(e=>e.subscription.duration),a=pc().selfServeUpgradeUrl(),i="OneMonth"===t?"monthly_is_ppv_self_upgrade-sufficient-credits":"is_ppv_self_upgrade-sufficient-credits";return(0,s.useEffect)(()=>{window.tracking_data&&(window.tracking_data.page_mode="ppv_midterm_upgrade-sufficient-credits"),(()=>{const e=(0,d.A)({cta_interaction:"cta_shown",cta_selection:i,cta_text:"upgrade_to_ppv",cta_url:a,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(e)})()},[]),(0,es.jsxs)("div",{"data-testid":"sufficient-credits-component",children:[(0,es.jsx)("hr",{}),(0,es.jsxs)("div",{className:em,children:[(0,es.jsx)(ap,{className:tm,"data-testid":"icon"}),(0,es.jsxs)("span",{children:[e("save_on_each_clip_download"),(0,es.jsx)("a",{className:am,"data-testid":"sufficient-credit-msg",href:a,onClick:()=>{const e=(0,d.A)({cta_interaction:"cta_clicked",cta_selection:i,cta_text:"upgrade_to_ppv",cta_url:a,download_flow:"upgrade_option",ui_element_location:"adp_buy_card"});(0,u.C)(e)},children:(0,es.jsx)("span",{children:e("upgrade_to_plan_to_premium_video")})}),(0,es.jsx)("br",{})]})]})]})};var im=(0,Ii.A)(({showEPSFileTypeTest:e=null,imageIsEdited:t=!1,editsPendingForDownload:a=!1})=>{const s=(0,r.d4)(e=>e.asset),i=(0,r.d4)(e=>e.calc.step.completeSection),n=(0,r.d4)(e=>e.calc.step.isConfirmationState),o=(0,r.d4)(e=>e.calc.step.redownloadSection),l=(0,r.d4)(e=>e.calc.step.viewLicenseSelection),c=(0,r.d4)(e=>e.calc.redownloadForFree),d=(0,r.d4)(e=>e.mobileSimplification),u=(0,r.d4)(e=>e.userDetails.istock_asset_credit_cost),_=(0,r.d4)(e=>e.calc.totalCreditCost),p=(0,fs.c)(),m=(0,r.d4)(e=>e.calc.step.showBasicSelfServeUpgrade),h=(0,r.d4)(e=>e.calc.step.showEnhancedPPVUpgrade),g=(0,r.d4)(e=>e.calc.step.showHigherVolumeSelfUpgrade),f=(0,r.d4)(e=>e.calc.selectedAccountHasEnoughCredits&&e.buyCardData.enhancedPPVUpgrade.eligible&&(e.asset.isFilm||e.asset.isVideoTemplate)),w=!d,v=(0,r.d4)(e=>e.calc.step.hideDetails),C=(0,r.d4)(e=>!e.asset.isFilm&&e.userDetails.has_subscription&&e.calc.assetCollectionIsSignature&&e.buyCardData.basicSelfServeUpgrade.upgradeCountryEligible&&e.calc.selectedAccountHasEnoughCredits),x=!i&&!c&&!n,A=c&&!i&&!d,b=s.isVideoTemplate&&x&&!v&&!i&&!n,T=A&&!s.isVideoTemplate,E=A&&s.isVideoTemplate;return e?(0,es.jsx)(Pp,{}):(0,es.jsxs)("div",{className:"download-actions","data-testid":"download-actions",children:[(0,es.jsxs)("form",{className:"istock-download-form","data-testid":"istock-download-form",children:[l?(0,es.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,es.jsx)(s_,{}),(0,es.jsx)(v_,{})]}):(0,es.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"columnheader","data-testid":"collection-options-header",children:[(0,es.jsx)(Xu,{editsPendingForDownload:a,imageIsEdited:t}),s.isEditorialUseOnly&&(0,es.jsx)("div",{className:"editorial-bubble",children:(0,es.jsx)(a_,{})}),!c&&!i&&(0,es.jsx)(Su,{}),b&&(0,es.jsx)(ku,{}),!s.isVideoTemplate&&(0,es.jsx)(xu,{})]}),m&&(0,es.jsx)(pp,{}),h&&(0,es.jsx)(Xp,{}),g&&(0,es.jsx)(Ip,{}),w&&(0,es.jsx)(tu,{editsPendingForDownload:a,imageIsEdited:t,hasEnoughCredits:n&&(C||f)}),b&&(0,es.jsx)("div",{className:Rp,"data-testid":"video-template-disclaimer",children:p("footage_music_sound_font_placeholder")}),o&&!s.freeFile&&(0,es.jsx)(au,{}),!i&&t&&(0,es.jsx)(oc.A,{title:p("your_download_includes_v2"),firstListItemText:p("one_original_image"),secondListItemText:p("one_modified_image"),allowMultipleFileText:p("allow_multiple_files_saved")}),n&&(0,es.jsx)(su,{}),n&&C&&(0,es.jsx)(Op,{}),n&&f&&(0,es.jsx)(sm,{}),T&&(0,es.jsx)(nu,{}),E&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(nu,{}),(0,es.jsx)("div",{className:Rp,"data-testid":"video-template-disclaimer-redownload",children:p("footage_music_sound_font_placeholder")})]})]}),d&&(0,es.jsx)(du,{children:(0,es.jsxs)("div",{"data-testid":"mobile-cta-header",children:[(0,es.jsx)("span",{children:u})," |"," ",(0,es.jsx)("span",{className:"grey-cta-modal-text",children:(0,es.jsx)(Fu,{totalCreditCost:_})})]})})]})},"download_actions");function nm(){return nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},nm.apply(null,arguments)}var om=({styles:e={},...t})=>i().createElement("svg",nm({width:"19",height:"23",viewBox:"0 0 19 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),i().createElement("path",{d:"M17.75 11.344c0 1.667-.424 3.274-1.237 4.664l-.167.275c-1.128 1.774-3.19 4.104-6.621 5.183a.75.75 0 01-.45 0c-3.216-1.012-5.23-3.123-6.398-4.844l-.222-.339c-.922-1.45-1.405-3.16-1.405-4.94V4.992c0-.37.27-.685.637-.741l.658-.114c3.215-.622 5.344-2.02 6.475-2.962l.11-.076a.75.75 0 01.85.076c1.207 1.005 3.55 2.53 7.133 3.076a.75.75 0 01.637.741z",fill:"#AEDDD6",stroke:"#000",strokeWidth:"1.5",strokeLinejoin:"round"})),rm="DzWjCO7TRVyq1YBZxYDj",lm="Vz2ppTm55zRmo3NHQa8W",cm="LqWUhzhLXyePPBSIW1EU";var dm=()=>{const e=(0,fs.c)();return(0,r.d4)(e=>e.asset).isVideoTemplate?null:(0,es.jsxs)("div",{className:rm,"data-testid":"no-ai-content-area",children:[(0,es.jsx)("div",{className:lm,"data-testid":"ai-free-icon",children:(0,es.jsx)(om,{})}),(0,es.jsx)("div",{className:cm,"data-testid":"ai-free-text",children:e("we_do_not_accept_ai_content")})]})},um=a(42341),_m=a(23301),pm="rGUsPlH5wRmVSqPeGqvC";var mm=({editable:e=!1,isFilm:t})=>{const a=(0,fs.c)(),i=(0,s.useMemo)(()=>e&&!t,[e,t]),n=(0,s.useMemo)(()=>e&&t,[e,t]);return(0,es.jsxs)(um.A,{className:pm,children:[n&&(0,es.jsx)(_m.A,{"data-testid":"create-video-projects-with-editor",children:a("create_video_projects_with_editor")}),(0,es.jsx)(_m.A,{children:a("save_and_share")}),(0,es.jsx)(_m.A,{children:a("track_download_history")}),(0,es.jsx)(_m.A,{children:a("complete_purchase_faster")}),i&&(0,es.jsx)(_m.A,{"data-testid":"and-much-more",children:a("and_much_more")})]})},hm="k2Q0YaF7RwPodMw10D0u",gm="zK3wQOQSpharEtkvkVmm",fm="Ev0BA_AvoKaRjW4MpfGQ";var wm=()=>{const e=(0,r.d4)(e=>e.asset.isFilm),t=(0,r.d4)(e=>e.asset.isEditorialUseOnly),a=(0,r.d4)(e=>e.editable),s=(0,r.d4)(e=>e.calc.step.viewLicenseSelection),i=(0,r.d4)(e=>e.buyCardData.signInPath),n=(0,fs.c)(),o=hs()("download-actions",hm),l=e?"sign-in__test sign-in__extra-space":"sign-in__test";return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{className:o,"data-testid":"sign-in-actions",children:(0,es.jsx)("form",{className:"istock-download-form",children:s?(0,es.jsx)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:(0,es.jsx)(s_,{})}):(0,es.jsxs)("section",{className:"adp-licenses adp-fade-and-slide","data-testid":"header",children:[(0,es.jsx)(Xu,{}),(0,es.jsx)("hr",{}),t&&(0,es.jsx)("div",{className:"editorial-bubble",children:(0,es.jsx)(a_,{})}),(0,es.jsx)(xs.Ay,{component:xs.QY.H4,variant:xs.PT.title.small,className:gm,children:n("sign_in_better_experience_colon")}),(0,es.jsx)(mm,{isFilm:e,editable:a}),(0,es.jsx)(Pr.A,{buttonStyleProps:{size:Vn.Ni.LARGE,variant:Vn.Jr.SECONDARY,fullWidth:!0},className:fm,href:i,"data-testid":"sign-in-cta",children:n("sign_in")})]})})}),(0,es.jsx)("hr",{className:l}),(0,es.jsx)(dm,{})]})},vm=a(74253),Cm="tRNxmsO2YmdgVfuaXqAg",xm="Skavx60ZymqpxWaVTy50",Am="esY3oRyiYXaR_v4uy07w",bm="g8SYFLrUj27cMEhWKymf",Tm="_0w3HO0ao6uVnV108_lm",Em="D5wCI6mNZbTPuUIiLwce",Sm="TE4OjQQQNwNiMIjgrpAE",ym="eRyWWmG0MQ9JYyKRxDRM",Nm="Ad7DMe5koQItEgXiDOEw",Im="sxkUu5bV97Bq1nizhTta",jm="wTvwa61rgsFROjXZQE6f",Dm="svvpxW70xgIaMDJ99sec",Om="VpavKqKA4iVPwCDqMFRb",Pm="Ys1m3yStj3DjpnMZjBxv";var Rm=()=>{const e=(0,$s.Cz)(),t=(0,r.d4)(e=>e.asset),a=(0,r.d4)(e=>e.calc.isInPricingClarity),s=(0,r.d4)(e=>e.calc.largestSizeAvailable),i=(0,r.d4)(e=>e.userDetails.istock_asset_credit_cost),n=(0,r.d4)(e=>e.buyCardData.assetBuyCardContentPolicy.downloadSavingsDisclaimer),o=(0,r.d4)(e=>e.categories.categoriesView),l=(0,r.d4)(e=>e.asset.contributor.display_name),c=(0,r.d4)(e=>e.asset.contributor.picture_url),d=(0,r.d4)(e=>e.asset.contributor.member_name),u=(0,r.d4)(e=>e.calc.step.completeSection),_=(0,r.d4)(e=>e.calc.step.isConfirmationState),p={artistexact:t.artist,assettype:t.assetType,family:t.assetFamily},m=d?e.contributorPath(d,(()=>{const e={};return t.isFilm&&(e.assettype=t.assetType),t.mediaType&&"unknown"!==t.mediaType&&(e.mediatype=t.mediaType),e})()):e.searchPath(p),h=(0,fs.c)(),{assetId:g,dateSubmitted:f,dateSubmittedFormatted:w,dateSubmittedVideo:v,dateSubmittedVideoFormatted:C,exclusiveContent:x,isIllustration:A,isFilm:b,isEssentialImage:T,isVideoTemplate:E,location:S,videoTemplateApp:y,pluginName:N}=t,I=Qi(),j=t.isFilm?v:f,D=t.isFilm?C:w,O=a,P=o&&o.parentKeywordCategory?.text,R=o&&o.ftlpCategory.text&&P,k=s?s.description:"",L=E&&(_||u);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)("div",{className:bm,"data-testid":"asset-contributor",children:(0,es.jsxs)("a",{className:`${Am} ${Im}`,"data-testid":"photographer",href:m,onClick:()=>I.setUiElementLocation("contributor_credit_adp"),children:[(0,es.jsx)("img",{"data-testid":"photographer-image",src:c||null,viewBox:"0 0 98 98",alt:""}),(0,es.jsx)("span",{className:Cm,children:h("credit")}),(0,es.jsx)("span",{className:xm,children:l})]})}),O&&k&&(0,es.jsxs)("div",{"data-testid":"largest-size-content",className:Tm,children:[(0,es.jsx)("span",{children:h("attributes.largest_size_available")}),(0,es.jsx)("span",{"data-testid":"largest-size-description",children:k})]}),(0,es.jsxs)("div",{className:Sm,"data-testid":"asset-id",children:[(0,es.jsx)("span",{children:h(A?"attributes.stock_illustration_id":E?"attributes.stock_video_template_id":b?"attributes.stock_video_id":E?"attributes.stock_video_template_id":"attributes.stock_photo_id")}),(0,es.jsx)("span",{children:g})]}),E&&y&&!L?(0,es.jsxs)("div",{className:ym,"data-testid":"creation-tool",children:[(0,es.jsx)("span",{children:h("creation_tool")}),(0,es.jsx)("span",{children:h("video_template_file",{app_name:y.text})})]}):null,E&&!L?(0,es.jsxs)("div",{className:Nm,"data-testid":"required-plug-ins",children:[(0,es.jsx)("span",{children:h("requires_plug_ins")}),(0,es.jsx)("span",{children:N||h("none")})]}):null,f&&D?(0,es.jsxs)("div",{className:Em,"data-testid":"asset-upload-date",children:[(0,es.jsx)("span",{children:h("upload_date")}),(0,es.jsx)("span",{children:(0,es.jsx)("time",{dateTime:j,children:D})})]}):null,t.location&&!E?(0,es.jsxs)("div",{className:Dm,"data-testid":"location",children:[(0,es.jsx)("span",{className:jm,children:h("location")}),(0,es.jsx)("span",{children:S})]}):null,R&&!L&&(0,es.jsxs)("div",{className:Om,"data-testid":"asset-categories",children:[(0,es.jsx)("span",{className:jm,children:h("categories")}),(0,es.jsx)(vm.A,{ftlpCategory:o.ftlpCategory,parentKeywordCategory:o.parentKeywordCategory})]}),n&&(0,es.jsx)("div",{className:Pm,"data-testid":"credits-usage-disclaimer",children:h(b?"video_asset_savings":T?"savings_based_on_essentials_image":"savings_based_on_signature_image",{file_cost:i})}),x&&(0,es.jsx)("h5",{"data-testid":"exclusive-content-label",children:h("exclusive_coverage_label")})]})};function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},km.apply(null,arguments)}var Lm=({styles:e={},...t})=>i().createElement("svg",km({xmlns:"http://www.w3.org/2000/svg",width:"103.08",height:"96.199",viewBox:"2.608 1 103.08 96.199"},t),i().createElement("path",{fill:"#007EE5",d:"M33.36 2.125L3.609 21.55 24.18 38.025l29.999-18.523L33.36 2.125zM3.608 54.5L33.36 73.927l20.818-17.378-30-18.524L3.609 54.5zM54.18 56.549l20.818 17.378L104.75 54.5 84.178 38.025 54.18 56.55zM104.75 21.551L75 2.125 54.179 19.5l30 18.524 20.572-16.474z"}),i().createElement("path",{fill:"#007EE5",d:"M54.24 60.287L33.36 77.613l-8.933-5.833v6.54L54.24 96.199l29.814-17.88v-6.54l-8.933 5.834-20.88-17.326z"})),Fm="Wtxk4IOZDjtMFmVriNM3",Um="N_ralzPFD8UUoPUU_LT6",Bm="q9426NlNQkDbXI7HIEWu",Mm="LwDCB1yG5ZreO5Zu267W",zm="yYm_ropjdF81p8m5ud2s";var Wm=({showDropboxModal:e})=>{const t=(0,fs.c)(),[a,i]=(0,s.useState)(e);let n=null;const o=()=>{clearTimeout(n),i(!1)},r=()=>(i(!0),n=setTimeout(()=>{o()},3e4),()=>clearTimeout(n));(0,s.useEffect)(()=>{e&&r()},[e]);const l=()=>{o(),"undefined"!=typeof window&&window.giLocalStorage&&window.giLocalStorage.setItem("dropboxOptOut",!0)};return a&&(0,es.jsxs)("aside",{className:Fm,id:"dropbox-intro-modal",role:"dialog",children:[(0,es.jsx)(En.A,{className:zm,onClick:l,"data-testid":"close-link"}),(0,es.jsxs)("div",{className:Um,children:[(0,es.jsx)(Lm,{className:Mm,alt:t("dropbox")}),(0,es.jsxs)("div",{className:Bm,children:[(0,es.jsx)("div",{children:t("download_workflow.dropbox_save_your_downloads")}),(0,es.jsx)("a",{href:"/account/apps",children:`${t("download_workflow.get_started")} >`})]})]})]})},Hm="nlBilE1FxBNeuEHn_zxn";var Vm=(0,Ii.A)(({licenseOverviewPath:e})=>{const t=(0,r.d4)(e=>e.calc.step.purchaseExtendedLicenseNotAllowed),a=(0,fs.c)(),s=(0,i_.DP)().link||{},i=(0,r.wA)(),n=(0,hr.A)();return!t&&(0,es.jsx)("div",{className:"license-and-file-data","data-testid":"license-links",children:(0,es.jsx)("div",{children:(0,es.jsxs)("div",{className:"license",children:[(0,es.jsx)("span",{"data-testid":"standard-license-link",className:s.textLink,children:(0,es.jsx)(js.A,{children:a("includes_standard_license",{links:[{href:e,target:"_blank",rel:"noopener noreferrer nofollow"}]})})}),(0,es.jsx)("button",{type:"button",id:"show_extended_licenses","data-testid":"extended-license-link",className:`${s.textLink} ${Hm}`,onClick:e=>{e.preventDefault(),i(De.pickOptionalLicenses());const t=(0,d.A)({cta_interaction:"extended_license_link_clicked",cta_text:"add_extended_license",cta_url:void 0,ui_element_location:n});(0,u.C)(t)},children:(0,es.jsx)(js.A,{children:a("add_an_extended_license",{span:"<strong>",end_span:"</strong>"})})})]})})})},"license_options"),Gm="gu12NB4U4RTB0dGC0DqJ";var Ym=({imageIsEdited:e,editsPendingForDownload:t=!1})=>{const a=(0,r.d4)(e=>e.buyCardData.assetBuyCardContentPolicy.displayAdpSignInCta),i=(0,r.d4)(e=>e.buyCardData.licenseOverviewPath),n=(0,r.d4)(e=>e.calc.showDropboxModal),{hideDetails:o,viewLicenseSelection:l,currentStep:c}=(0,r.d4)(e=>e.calc.step),{has_subscription:d}=(0,r.d4)(e=>e.userDetails),{hasAvailableCredits:u}=(0,r.d4)(e=>e.calc),_=u||d,p=(0,gn.useExperience)("EPSFileType"),m=(0,r.d4)(e=>e.asset),{isVector:h}=m,g=p.isOfferActive("TestA")&&h&&_,f=c===z.A.PICK_PAYMENT_OPTION;return(0,s.useEffect)(()=>{if("undefined"!=typeof window&&p.isActive()){const e="Control"===p.activeOffer()?"is_epsfiletype-control":"is_epsfiletype-expA",t=window.tracking_data.ab_test_variation;window.tracking_data.ab_test_variation=t?`${t}|${e}`:e}},[]),a?(0,es.jsxs)("section",{"data-testid":"buy-card",children:[(0,es.jsx)(wm,{}),!o&&(0,es.jsx)(Rm,{}),(0,es.jsx)(Wm,{showDropboxModal:n||!1})]}):(0,es.jsxs)("section",{className:f?Gm:"","data-testid":"buy-card",children:[(0,es.jsx)(im,{showEPSFileTypeTest:g,imageIsEdited:e,editsPendingForDownload:t}),(0,es.jsx)("hr",{}),(0,es.jsx)(dm,{}),!l&&(0,es.jsx)(Vm,{licenseOverviewPath:i}),!o&&(0,es.jsx)(Rm,{}),(0,es.jsx)(Wm,{showDropboxModal:n||!1})]})},Km=a(28793);const Qm=(0,Ps.A)("plans_and_pricing","./AssetBuyCard");var Jm=({assetId:e,expectedTemplateName:t})=>{const a=(0,ks.Z)(),s=(0,zo.Y)();return(0,es.jsx)(Qm,{assetId:e,site:a,locale:s,expectedTemplate:t})};var Zm=({fallback:e,assetId:t,expectedTemplateName:a,children:s})=>(0,es.jsxs)(Km.tH,{appName:"asset_detail",component:"FederatedAssetBuyCard",customFallback:e,children:[(0,es.jsx)(Jm,{assetId:t,expectedTemplateName:a}),s]}),qm="xDQiqd8tlVIh8GJce0nG";var $m=({imageIsEdited:e,editsPendingForDownload:t=!1})=>{const a=(0,r.d4)(e=>e.asset),{enabled:i,templateName:n}=(0,r.d4)(e=>e.iStockRenderFederatedBuyCard),{hideDetails:o,viewLicenseSelection:l}=(0,r.d4)(e=>e.calc.step),c=(0,r.d4)(e=>e.buyCardData.licenseOverviewPath);return i&&!l?(0,es.jsx)(s.Suspense,{fallback:(0,es.jsx)(ds.A,{className:qm}),children:(0,es.jsx)("section",{"data-testid":"federated-buy-card-wrapper",children:(0,es.jsxs)(Zm,{assetId:a.assetId,expectedTemplateName:n,fallback:(0,es.jsx)(Ym,{imageIsEdited:e,editsPendingForDownload:t}),children:[(0,es.jsx)("hr",{}),(0,es.jsx)(dm,{}),"SignInBuyCard"!==n&&(0,es.jsx)(Vm,{licenseOverviewPath:c}),!o&&(0,es.jsx)(Rm,{})]})})}):(0,es.jsx)(Ym,{imageIsEdited:e,editsPendingForDownload:t})},Xm={assetDetail:"rSn_yYzMASKwBXkQZtyr",main:"oSu3w0k6bpOpzBg2EQDm",assetContainerComp:"xWKBwcA9lYVuij7tyGGN",assetContainerMeta:"U220RmzTIIfxo9P2l_XU",header:"uhIdZs9G7n2XvP_RKgls",title:"PJuLqhUjlJcHIuEI_lWc",mainImage:"K6ltXyZ3AmNSYiFYSJHI",mainFilm:"QG3MBG51wVLSoW410LTA",subFoldContainer:"ZCjmOf79M5J9F9EAEi_h",loader:"PwS9Qbnt1dDSE7Zv5Xpj"};var eh=({agreementsLoading:e})=>{const t=(0,Rs.Jd)(),a=(0,r.d4)(e=>e.asset),s=(0,r.d4)(e=>e.userDetails.pricing_clarity_flow),i=(0,r.d4)(e=>e.userDetails.eligible_for_pricing_clarity_premium_video_subscription_flow),n=(0,r.d4)(e=>e.mobileSimplification),{showLoadingErrorMessage:o,handleLoadingErrorDismissal:l}=(0,An.A)(),{imageIsEdited:c}=(0,Ji.A)(),{editsPendingForDownload:d}=(0,Zi.A)(),u=""+(i&&s?"video-pricing-clarity-width":""),_=n?"simplification-test-margin":"",p=a.localizedCaption?a.localizedCaption:a.title;return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)("section",{className:hs()("comp",u,Xm.assetContainerComp),children:[(0,es.jsx)($l,{asset:a,showLoadingErrorMessage:o,handleLoadingErrorDismissal:l}),(0,es.jsx)(nc,{descriptionContent:p,editorialImage:a.isImage&&a.isEditorialUseOnly})]}),(0,es.jsx)("section",{className:hs()("meta",u,Xm.assetContainerMeta,_),children:e&&!t.isAnonymous?(0,es.jsx)(ds.A,{className:Xm.loader}):(0,es.jsx)($m,{imageIsEdited:c,editsPendingForDownload:d})})]})};var th=()=>{const e=(0,rs.Z)(),{redirectTo:t,routeForUrl:a}=vn(),i=(0,r.d4)(e=>e.redirectToUrl),n=(0,r.d4)(e=>e.asset),l=(0,r.d4)(e=>e.displayError),c=(0,r.d4)(e=>e.buyCardData.buyAndBurn),d=(0,r.d4)(e=>e.buyCardData.orderId),[_,p]=(0,s.useState)(!0),{showOverlay:m,setShowOverlay:h}=(0,us.A)(),{trackTests:g}=wn(n),f=(0,r.wA)();(0,ls.A)(n);const w=(0,r.d4)(e=>e.userDetails).subscription_upgrade,v=d||w;return(0,s.useEffect)(()=>{e.sendAssetDetailsViewedSignal(n,(0,cs.Q)()),(0,u.C)((0,os.A)(window.tracking_data)),g(),(async()=>{await f(De.goToInitialLoad()),p(!1)})()},[]),(0,s.useEffect)(()=>{i&&t(a())},[i]),(0,es.jsxs)("div",{className:Xm.assetDetail,"data-testid":"asset-detail-container",children:[(0,es.jsx)(o.PE,{}),(0,es.jsx)(Us,{}),(0,es.jsx)(_s.A,{open:m,onClose:()=>h(!1),Icon:xn,header:"were_preparing_your_cropped_image",lines:["do_not_close_browser","we_appreciate_your_patience"]}),(0,es.jsx)(ps.A,{EditedIcon:ds.A}),v&&(c?(0,es.jsx)(mn,{}):(0,es.jsx)(Os,{})),(0,es.jsxs)("div",{"data-testid":"asset-detail-main",className:hs()(Xm.main,{[Xm.mainImage]:n.isImage,[Xm.mainFilm]:n.isFilm}),children:[(0,es.jsx)("div",{className:Xm.header,children:(0,es.jsx)(Zs,{errorType:l})}),(0,es.jsx)(Ts,{className:Xm.title,asset:n}),(0,es.jsx)(eh,{agreementsLoading:_})]}),(0,es.jsx)("div",{className:Xm.subFold,children:(0,es.jsxs)("div",{className:hs()(Xm.subFoldContainer,{[Xm.subFoldImage]:n.isImage,[Xm.subFoldFilm]:n.isFilm}),children:[(0,es.jsx)(Ki,{}),(0,es.jsx)(di,{}),(0,es.jsx)(Js,{}),(0,es.jsx)(Ti,{})]})})]})};var ah=({payload:e})=>(0,es.jsx)(as,{payload:e,children:(0,es.jsx)(ss.Kq,{children:(0,es.jsx)(is.A,{children:(0,es.jsx)(n.Zn,{children:(0,es.jsx)(o.v0,{children:(0,es.jsx)(ns.A,{children:(0,es.jsx)(th,{})})})})})})})}},function(e){Object.assign(e.sriHashes,{945:"sha384-/pZR0Fk156ts7RoPFMHTHzi2Sw80rrVz4NrAQBVcYLpmnA2Eu2GJ877WHvAqOFmD",3514:"sha384-J9W8Z2DMGJ8PQzFDtY/AFoMIHWz+zOtNZJyfxWQM8IbmbusoD+w21BqKx3ws1/Kq",7225:"sha384-KvKhpFjQtqWiSkjeOCvc19GK+xNfRTSatVoTDSszuZw+tPivw3c+OKr6hA+QyL2e",9019:"sha384-W4ICNT2rQKB5BjL2UNAEBsWGSpOUVxD35l5rvRKL6MzX9ykIB0eoPP1ReZZLxoyY"})}]);
//# sourceMappingURL=app-root-components-asset-detail-istock-index.57000d56db69dafdf25e.js.map